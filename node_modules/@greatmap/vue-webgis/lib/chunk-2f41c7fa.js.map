{"version":3,"file":"chunk-2f41c7fa.js","sources":["../node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","../node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime-corejs2/core-js/array/from.js","../node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","../node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","../src/gis/utils/param-to-array.js","../src/gis/core/common/gis-event.js"],"sourcesContent":["module.exports = require(\"core-js/library/fn/array/is-array\");","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","module.exports = require(\"core-js/library/fn/array/from\");","module.exports = require(\"core-js/library/fn/is-iterable\");","import _Array$from from \"../../core-js/array/from\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArray(iter) {\n  if (_isIterable(Object(iter)) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return _Array$from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","/**\n * 参数转换为数组，如果是数组，则拷贝一份\n * @param {*} param\n * 1. 'test' => ['test']\n * 2. 'test,test2' => ['test', 'test2']\n * @return {[]}\n */\nexport default function paramToArray(param) {\n  if (!Array.isArray(param)) {\n    if (typeof param === 'string' && param.includes(',')) {\n      param = param.split(',').map((item) => item.trim());\n    } else if (param || param === 0) {\n      param = [param];\n    } else {\n      param = [];\n    }\n  } else {\n    param = [...param];\n  }\n  return param;\n}\n","import paramToArray from '../../utils/param-to-array';\nimport { warnMessage } from '../../../utils/error-handler';\n\n/**\n * 事件管理\n */\nexport default class GISEvent {\n  listenerGroup = {\n    // eventName = listeners\n    // eventName = []\n  };\n\n  /**\n   * 初始化事件\n   * @param {String|Array<String>} eventName 事件名\n   */\n  constructor(eventName) {\n    const eventNames = paramToArray(eventName);\n    eventNames.forEach((key) => (this.listenerGroup[key] = []));\n  }\n\n  /**\n   * 触发事件\n   * @param {String|Array<String>} eventName 事件名\n   * @param {*} params\n   */\n  dispatch(eventName, ...params) {\n    const eventNames = paramToArray(eventName);\n    eventNames.forEach((name) =>\n      this.listenerGroup[name].forEach((fn) => fn(...params))\n    );\n  }\n\n  /**\n   * 事件监听\n   * @param {String} eventName 事件名称\n   * @param {Function} callback 回调函数\n   */\n  on(eventName, callback) {\n    if (this.listenerGroup.hasOwnProperty(eventName)) {\n      this.listenerGroup[eventName].push(callback);\n    } else {\n      GISEvent.eventNameError(eventName);\n    }\n  }\n\n  /**\n   * 事件监听\n   * @param {String|Array<String>} eventName 事件名\n   * @param {Function} callback 回调函数\n   */\n  off(eventName, callback) {\n    const eventNames = paramToArray(eventName);\n    eventNames.forEach((eventName) => {\n      if (this.listenerGroup.hasOwnProperty(eventName)) {\n        const listeners = this.listenerGroup[eventName];\n        const index = listeners.indexOf(callback);\n        if (index >= 0) {\n          listeners.splice(index, 1);\n        }\n      } else {\n        GISEvent.eventNameError(eventName);\n      }\n    });\n  }\n\n  /**\n   * 取消所有监听\n   */\n  offAll() {\n    Object.keys(this.listenerGroup).forEach((key) => {\n      this.listenerGroup[key] = [];\n    });\n  }\n\n  /**\n   * 事件名错误提示\n   * @param eventName\n   * @private\n   */\n  static eventNameError(eventName) {\n    warnMessage(`不存在 ${eventName} 事件，事件是否已经注册，事件名是否正确？`);\n  }\n}\n"],"names":["require$$0","_arrayWithoutHoles","arr","_Array$isArray","i","arr2","Array","length","_iterableToArray","iter","_isIterable","Object","prototype","toString","call","_Array$from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","paramToArray","param","isArray","includes","split","map","item","trim","GISEvent","eventName","eventNames","forEach","key","listenerGroup","params","name","fn","callback","hasOwnProperty","push","eventNameError","listeners","index","indexOf","splice","keys","warnMessage"],"mappings":"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"}