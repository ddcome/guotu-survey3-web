{"version":3,"file":"chunk-8430f437.js","sources":["../src/config/error-alias.js","../src/utils/error-handler.js"],"sourcesContent":["// 错误信息别名\nexport const errorAliasMap = {\n  'Failed to execute query': '执行查询失败',\n  'Network Error': '网络连接失败',\n  'timeout of': '网络连接超时'\n};\n\n// 获取报错别名\nconst keys = Object.keys(errorAliasMap);\nexport function getErrorAlias(message) {\n  const key = keys.find((item) => message.includes(item));\n  return key ? errorAliasMap[key] : '';\n}\n","import Vue from 'vue';\n\n// 这里隔离 element-ui 的包，因为它可能存在项目中了\n// import { Message } from 'element-ui';\n\nimport { getErrorAlias } from '../config/error-alias';\n\nconst logMethods = {\n  info: console.info, // eslint-disable-line no-console\n  error: console.error, // eslint-disable-line no-console\n  warning: console.warn, // eslint-disable-line no-console\n  success: console.log // eslint-disable-line no-console\n};\n\n/**\n * 信息提示\n * @param {*} message\n * @param {String} [type] info/error/warning/success\n * @param {Boolean} [showBox]\n */\nexport function messageBox(message, type = 'info', showBox = false) {\n  // 直接使用 $message\n  const Message = Vue.prototype.$message;\n\n  // 打印出完整错误信息\n  logMethods[type] && logMethods[type](`[${type}]:`, message);\n\n  if (showBox) {\n    // 格式化进行展示\n    message = formatterMessage(message);\n\n    // 显示错误信息\n    Message({\n      message,\n      type,\n      duration: 6000,\n      showClose: true\n    });\n  }\n}\n\n// 提示信息\nexport const infoMessage = messageBox;\n\n// 成功信息\nexport function successMessage(message, showBox) {\n  messageBox(message, 'success', showBox);\n}\n\n// 错误信息\nexport function errorMessage(message, showBox) {\n  messageBox(message, 'error', showBox);\n}\n\n// 警告信息\nexport function warnMessage(message, showBox) {\n  messageBox(message, 'warning', showBox);\n}\n\n/**\n * 格式化错误信息（限制 80 字）\n * @param {*} msg\n * @return {string}\n */\nfunction formatterMessage(msg) {\n  if (msg) {\n    if (msg.error) {\n      msg = msg.error;\n    }\n    if (msg.message) {\n      msg = msg.message;\n    }\n  }\n  if (msg instanceof Object && !(msg instanceof Error)) {\n    msg = JSON.stringify(msg);\n  } else {\n    msg = String(msg);\n  }\n  msg = getErrorAlias(msg) || msg;\n  msg = msg.length > 80 ? msg.slice(0, 80) + '...' : msg;\n\n  return msg;\n}\n"],"names":["errorAliasMap","keys","Object","getErrorAlias","message","key","find","item","includes","logMethods","info","console","error","warning","warn","success","log","messageBox","type","showBox","Message","Vue","prototype","$message","formatterMessage","duration","showClose","errorMessage","warnMessage","msg","Error","JSON","stringify","String","length","slice"],"mappings":";;;;;;;;;;;AACO,IAAMA,aAAa,GAAG;6BACA,QADA;mBAEV,QAFU;gBAGb;CAHT;AAOP,IAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,aAAZ,CAAb;AACA,AAAO,SAASG,aAAT,CAAuBC,OAAvB,EAAgC;MAC/BC,GAAG,GAAGJ,IAAI,CAACK,IAAL,CAAU,UAACC,IAAD;WAAUH,OAAO,CAACI,QAAR,CAAiBD,IAAjB,CAAV;GAAV,CAAZ;SACOF,GAAG,GAAGL,aAAa,CAACK,GAAD,CAAhB,GAAwB,EAAlC;;;ACJF,IAAMI,UAAU,GAAG;EACjBC,IAAI,EAAEC,OAAO,CAACD,IADG;EAEjBE,KAAK,EAAED,OAAO,CAACC,KAFE;EAGjBC,OAAO,EAAEF,OAAO,CAACG,IAHA;EAIjBC,OAAO,EAAEJ,OAAO,CAACK;CAJnB;AAaA,AAAO,SAASC,UAAT,CAAoBb,OAApB,EAA6D;MAAhCc,IAAgC,uEAAzB,MAAyB;MAAjBC,OAAiB,uEAAP,KAAO;MAE5DC,OAAO,GAAGC,GAAG,CAACC,SAAJ,CAAcC,QAA9B;EAGAd,UAAU,CAACS,IAAD,CAAV,IAAoBT,UAAU,CAACS,IAAD,CAAV,YAAqBA,IAArB,SAA+Bd,OAA/B,CAApB;;MAEIe,OAAJ,EAAa;IAEXf,OAAO,GAAGoB,gBAAgB,CAACpB,OAAD,CAA1B;IAGAgB,OAAO,CAAC;MACNhB,OAAO,EAAPA,OADM;MAENc,IAAI,EAAJA,IAFM;MAGNO,QAAQ,EAAE,IAHJ;MAINC,SAAS,EAAE;KAJN,CAAP;;;AAUJ,AAQO,SAASC,YAAT,CAAsBvB,OAAtB,EAA+Be,OAA/B,EAAwC;EAC7CF,UAAU,CAACb,OAAD,EAAU,OAAV,EAAmBe,OAAnB,CAAV;;AAIF,AAAO,SAASS,WAAT,CAAqBxB,OAArB,EAA8Be,OAA9B,EAAuC;EAC5CF,UAAU,CAACb,OAAD,EAAU,SAAV,EAAqBe,OAArB,CAAV;;;AAQF,SAASK,gBAAT,CAA0BK,GAA1B,EAA+B;MACzBA,GAAJ,EAAS;QACHA,GAAG,CAACjB,KAAR,EAAe;MACbiB,GAAG,GAAGA,GAAG,CAACjB,KAAV;;;QAEEiB,GAAG,CAACzB,OAAR,EAAiB;MACfyB,GAAG,GAAGA,GAAG,CAACzB,OAAV;;;;MAGAyB,GAAG,YAAY3B,MAAf,IAAyB,EAAE2B,GAAG,YAAYC,KAAjB,CAA7B,EAAsD;IACpDD,GAAG,GAAGE,IAAI,CAACC,SAAL,CAAeH,GAAf,CAAN;GADF,MAEO;IACLA,GAAG,GAAGI,MAAM,CAACJ,GAAD,CAAZ;;;EAEFA,GAAG,GAAG1B,aAAa,CAAC0B,GAAD,CAAb,IAAsBA,GAA5B;EACAA,GAAG,GAAGA,GAAG,CAACK,MAAJ,GAAa,EAAb,GAAkBL,GAAG,CAACM,KAAJ,CAAU,CAAV,EAAa,EAAb,IAAmB,KAArC,GAA6CN,GAAnD;SAEOA,GAAP;;;;;"}