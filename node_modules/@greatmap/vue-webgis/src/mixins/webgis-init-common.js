/**
 * webgis-init 的公共混入对象（此混入对象仅作为基础，需要扩展）
 * @description
 * 1. 初始化 $webgis 对象
 * 2. 初始化 webgisReady 状态
 * 3. 执行 webgis 初始化完成的钩子（在组件中定义的 afterInitWebgis 方法）
 */

export default {
  data() {
    return {
      webgisReady: false
    };
  },
  created() {
    this.$webgis = null; // declare $webgis
  },
  methods: {
    // webgis 初始化完成后，初始化数据
    _afterInitWebgis(webgis) {
      this.webgisReady = true;
      if (webgis) {
        this.$webgis = webgis;
        if (this.afterInitWebgis instanceof Function) {
          this.afterInitWebgis();
        }
      }
    }
  }
};
