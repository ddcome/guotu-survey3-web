import { saveAs } from 'file-saver';
import { errorMessage } from '../../utils/error-handler';

/**
 * 将 canvas 导出为图片
 * @param canvas
 */
export default function saveCanvas(canvas) {
  const filename = 'map.png';
  try {
    if (navigator.msSaveBlob) {
      navigator.msSaveBlob(canvas.msToBlob(), filename);
    } else {
      canvas.toBlob((blob) => saveAs(blob, filename));
    }
  } catch (e) {
    errorMessage(e, false);
  }
}
