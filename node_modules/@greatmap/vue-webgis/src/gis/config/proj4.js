/**
 * 定义参考系
 * @description
 * [proj4 使用方式](http://proj4js.org/)
 * [proj4 与 openlayers 结合使用](https://openlayers.org/en/latest/examples/wms-image-custom-proj.html)
 */
import { register } from 'ol/proj/proj4';
import proj4 from 'proj4';

// 定义 epsg 集合
const defaultEpsg = {
  'EPSG:4490': '+proj=longlat +ellps=GRS80 +no_defs',
  'EPSG:4610': '+proj=longlat +a=6378140 +b=6356755.288157528 +no_defs'
};

// 注册参考系
export function registerEPSG(epsgConfig) {
  // 合并
  const epsg = { ...defaultEpsg, ...epsgConfig };

  // 定义 proj4
  proj4.defs(Object.entries(epsg));

  // openlayers 注册
  register(proj4);
}
