<template>
  <ModalsRadioToggle
    title="卷帘"
    sub-title="方式："
    :options="types"
    v-model="type"
    @change="typeChange"
    class="modal-measure"
  >
  </ModalsRadioToggle>
</template>

<script>
import ModalsRadioToggle from '../components/modals-radio-toggle';
import { webgisInject } from '../../../mixins/webgis-init';
import { privateEventHubInject } from '../../../mixins/private-event-hub';

export default {
  name: 'WebGISModalsMeasureSelect',
  mixins: [webgisInject, privateEventHubInject],
  components: {
    ModalsRadioToggle
  },
  data() {
    return {
      types: [
        {
          label: 'vertical',
          name: '横线'
        },
        {
          label: 'horizontal',
          name: '纵向'
        }
      ],
      type: 'vertical'
    };
  },
  methods: {
    typeChange() {
      this.$webgis.modules.layerSwipe.changeType(this.type);
      this.$eventHub.$emit('rollingScreenToggleActive', true, this.type);
    }
  },
  activated() {
    this.$webgis.modules.layerSwipe.activate(this.type);
    this.$eventHub.$emit('rollingScreenToggleActive', true, this.type);
  },
  deactivated() {
    this.$webgis.modules.layerSwipe.deactivate();
    this.$eventHub.$emit('rollingScreenToggleActive', false);
  }
};
</script>
