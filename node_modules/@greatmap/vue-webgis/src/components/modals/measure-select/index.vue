<template>
  <ModalsRadioToggle
    title="测量"
    sub-title="方式："
    :options="types"
    v-model="type"
    @change="typeChange"
    class="modal-measure"
  >
  </ModalsRadioToggle>
</template>

<script>
import ModalsRadioToggle from '../components/modals-radio-toggle';
import { webgisInject } from '../../../mixins/webgis-init';

export default {
  name: 'WebGISModalsMeasureSelect',
  mixins: [webgisInject],
  components: {
    ModalsRadioToggle
  },
  data() {
    return {
      types: [
        {
          label: 'LineString',
          name: '线条'
        },
        {
          label: 'Polygon',
          name: '面积'
        }
      ],
      type: 'LineString'
    };
  },
  methods: {
    typeChange() {
      this.$webgis.modules.measure.toggleActive(true, this.type);
    }
  },
  activated() {
    this.$webgis.modules.measure.activate(this.type);
  },
  deactivated() {
    this.$webgis.modules.measure.deactivate();
  }
};
</script>
