webpackJsonp([39],{ogC4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n("fx22"),a=(n.n(c),n("tJwI")),i=(n.n(a),n("9bBU")),r=(n.n(i),n("L5RK")),l=n("/n6Q"),o=(n.n(l),n("yQMH")),s=n("BwfY"),_=(n.n(s),n("fS6E")),b=(n.n(_),n("i/C/")),u=(n.n(b),n("oM7Q")),p=(n.n(u),n("52fq")),h=n("nxYM"),v=function(e){function t(e){var n;return Object(r.b)(this,t),n=Object(o.b)(this,Object(o.c)(t).call(this)),Object(r.c)(Object(o.d)(n),"_value",50),Object(r.c)(Object(o.d)(n),"_map",void 0),Object(r.c)(Object(o.d)(n),"_olMap",void 0),Object(r.c)(Object(o.d)(n),"_layer",void 0),Object(r.c)(Object(o.d)(n),"_type",void 0),Object(r.c)(Object(o.d)(n),"_listener",{precompose:null,postcompose:null}),Object(r.c)(Object(o.d)(n),"_eventHub",void 0),Object(r.c)(Object(o.d)(n),"_updateLayer",function(){var e=n._map,t=e.getTopVisibleLayer();t&&(n._layer=e.getOlLayer(t.id)[0])}),n._map=e,n._olMap=e.olMap,n._eventHub=e.eventHub,n._restart=n._restart.bind(Object(o.d)(n)),n._rectangleClip=n._rectangleClip.bind(Object(o.d)(n)),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"changeType",value:function(e){this._type=e,this._restart()}},{key:"changeValue",value:function(e){(e<0||e>100)&&(e=e<0?0:100),this._value=e,this._olMap.render()}},{key:"activateHandle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._type||"vertical";this._type=e,this._updateLayer(),this._listener.precompose=this._layer.on("precompose",this._rectangleClip),this._listener.postcompose=this._layer.on("postcompose",function(e){e.context.restore()}),this._eventHub.on("layerChange",this._restart)}},{key:"deactivateHandle",value:function(){this._layer=null;var e=this._listener;Object.keys(e).forEach(function(t){Object(h.b)(e[t]),e[t]=null}),this._olMap.render(),this._eventHub.off("layerChange",this._restart)}},{key:"_restart",value:function(){this.toggleActive(!0)}},{key:"_rectangleClip",value:function(e){var t=this._type,n=e.context,c=n.canvas,a=c.width,i=c.height,r=this._value/100,l=0,o=0,s=0;"vertical"===t?(o=a*r,s=i):"horizontal"===t&&(o=a,l=i-(s=i*r)),n.save(),n.beginPath(),n.rect(0,l,o,s),n.clip()}}]),t}(p.a);t.default=v}});
//# sourceMappingURL=39.ba3fe006000a4d4c1e94.js.map