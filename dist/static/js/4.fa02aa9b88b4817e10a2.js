webpackJsonp([4],{"+BXv":function(t,e,i){"use strict";(function(e){var n=i("6OHv"),r=i("yjKr"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,h={adapter:("undefined"!=typeof XMLHttpRequest?a=i("qIyk"):void 0!==e&&(a=i("qIyk")),a),transformRequest:[function(t,e){return r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){h.headers[t]={}}),n.forEach(["post","put","patch"],function(t){h.headers[t]=n.merge(o)}),t.exports=h}).call(e,i("W2nU"))},"+Ggc":function(t,e,i){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},"+b92":function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],h=t[e+1];r+=s*a-o*h,o=a,s=h}return r/2}function r(t,e,i,r){for(var o=0,s=0,a=i.length;s<a;++s){var h=i[s];o+=n(t,e,h,r),e=h}return o}e.a=n,e.b=r,e.c=function(t,e,i,n){for(var o=0,s=0,a=i.length;s<a;++s){var h=i[s];o+=r(t,e,h,n),e=h[h.length-1]}return o}},"+iwx":function(t,e,i){"use strict";e.b=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution};var n=i("6t+W"),r=i("57Gy"),o=i("3ciB"),s=i("XOen"),a=i("OrOo"),h=i("jP9t"),c=i("tFCN"),l=i("hTFF"),u=i("9Ewl"),d=function(t){function e(e){var i=Object(c.a)({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(n.a)(this,Object(s.b)(h.a.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(h.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():u.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(n.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(n.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(n.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(n.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(n.a)(t,l.a.PRECOMPOSE,function(t){var e=t,i=this.getLayerState();i.managed=!1,void 0===this.getZIndex()&&(i.zIndex=1/0),e.frameState.layerStatesArray.push(i),e.frameState.layerStates[Object(o.c)(this)]=i},this),this.mapRenderKey_=Object(n.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(h.a.SOURCE,t)},e}(a.a);e.a=d},"/LWt":function(t,e,i){"use strict";e.b=function(t){for(var e=h(),i=0,n=t.length;i<n;++i)u(e,t[i]);return e},e.c=function(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},e.d=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},e.e=function(t,e,i){var n,r;n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0;r=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0;return n*n+r*r},e.f=function(t,e){return s(t,e[0],e[1])},e.g=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},e.h=s,e.i=a,e.j=h,e.k=c,e.l=l,e.m=function(t,e){var i=t[0],n=t[1];return c(i,n,i,n,e)},e.n=function(t,e){return d(l(e),t)},e.o=function(t,e,i,n,r){return p(l(r),t,e,i,n)},e.p=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},e.q=function(t,e){e[0]<t[0]&&(t[0]=e[0]);e[2]>t[2]&&(t[2]=e[2]);e[1]<t[1]&&(t[1]=e[1]);e[3]>t[3]&&(t[3]=e[3]);return t},e.r=u,e.s=p,e.t=function(t,e,i){var n;if(n=e.call(i,v(t)))return n;if(n=e.call(i,_(t)))return n;if(n=e.call(i,x(t)))return n;if(n=e.call(i,b(t)))return n;return!1},e.u=g,e.v=v,e.w=_,e.x=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},e.y=function(t,e){var i;e===r.a.BOTTOM_LEFT?i=v(t):e===r.a.BOTTOM_RIGHT?i=_(t):e===r.a.TOP_LEFT?i=b(t):e===r.a.TOP_RIGHT?i=x(t):Object(n.a)(!1,13);return i},e.z=function(t,e,i,n,r){var o=e*n[0]/2,s=e*n[1]/2,a=Math.cos(i),h=Math.sin(i),l=o*a,u=o*h,d=s*a,p=s*h,f=t[0],g=t[1],v=f-l+p,_=f-l-p,y=f+l-p,m=f+l+p,b=g-u-d,x=g-u+d,O=g+u+d,w=g+u-d;return c(Math.min(v,_,y,m),Math.min(b,x,O,w),Math.max(v,_,y,m),Math.max(b,x,O,w),r)},e.A=y,e.B=m,e.C=b,e.D=x,e.E=O,e.F=w,e.H=E,e.I=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},e.J=function(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n},e.G=function(t,e,i){var n=!1,r=a(t,e),s=a(t,i);if(r===o.a.INTERSECTING||s===o.a.INTERSECTING)n=!0;else{var h,c,l=t[0],u=t[1],d=t[2],p=t[3],f=e[0],g=e[1],v=i[0],_=i[1],y=(_-g)/(v-f);s&o.a.ABOVE&&!(r&o.a.ABOVE)&&(n=(h=v-(_-p)/y)>=l&&h<=d),n||!(s&o.a.RIGHT)||r&o.a.RIGHT||(n=(c=_-(v-d)*y)>=u&&c<=p),n||!(s&o.a.BELOW)||r&o.a.BELOW||(n=(h=v-(_-u)/y)>=l&&h<=d),n||!(s&o.a.LEFT)||r&o.a.LEFT||(n=(c=_-(v-l)*y)>=u&&c<=p)}return n},e.a=function(t,e,i){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),function(t,e,i){var n=Math.min.apply(null,t),r=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return c(n,r,o,s,i)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],i)};var n=i("OEyb"),r=i("7XOM"),o=i("+Ggc");function s(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function a(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=e[0],h=e[1],c=o.a.UNKNOWN;return a<i?c|=o.a.LEFT:a>r&&(c|=o.a.RIGHT),h<n?c|=o.a.BELOW:h>s&&(c|=o.a.ABOVE),c===o.a.UNKNOWN&&(c=o.a.INTERSECTING),c}function h(){return[1/0,1/0,-1/0,-1/0]}function c(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function l(t){return c(1/0,1/0,-1/0,-1/0,t)}function u(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function d(t,e){for(var i=0,n=e.length;i<n;++i)u(t,e[i]);return t}function p(t,e,i,n,r){for(;i<n;i+=r)f(t,e[i],e[i+1]);return t}function f(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function g(t){var e=0;return E(t)||(e=O(t)*y(t)),e}function v(t){return[t[0],t[1]]}function _(t){return[t[2],t[1]]}function y(t){return t[3]-t[1]}function m(t,e,i){var n=i||[1/0,1/0,-1/0,-1/0];return w(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):l(n),n}function b(t){return[t[0],t[3]]}function x(t){return[t[2],t[3]]}function O(t){return t[2]-t[0]}function w(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function E(t){return t[2]<t[0]||t[3]<t[1]}},"09IN":function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n=.5,r=!0},"0vMM":function(t,e,i){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},"1avf":function(t,e,i){"use strict";e.b=s,e.c=function t(e,i){var n=i||{};var s=n.radius||o;var h=n.projection||"EPSG:3857";var c=e.getType();c!==r.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(h,"EPSG:4326"));var l=0;var u,d,p,f,g,v;switch(c){case r.a.POINT:case r.a.MULTI_POINT:break;case r.a.LINE_STRING:case r.a.LINEAR_RING:u=e.getCoordinates(),l=a(u,s);break;case r.a.MULTI_LINE_STRING:case r.a.POLYGON:for(u=e.getCoordinates(),p=0,f=u.length;p<f;++p)l+=a(u[p],s);break;case r.a.MULTI_POLYGON:for(u=e.getCoordinates(),p=0,f=u.length;p<f;++p)for(d=u[p],g=0,v=d.length;g<v;++g)l+=a(d[g],s);break;case r.a.GEOMETRY_COLLECTION:var _=e.getGeometries();for(p=0,f=_.length;p<f;++p)l+=t(_[p],i);break;default:throw new Error("Unsupported geometry type: "+c)}return l},e.a=function t(e,i){var n=i||{};var s=n.radius||o;var a=n.projection||"EPSG:3857";var c=e.getType();c!==r.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(a,"EPSG:4326"));var l=0;var u,d,p,f,g,v;switch(c){case r.a.POINT:case r.a.MULTI_POINT:case r.a.LINE_STRING:case r.a.MULTI_LINE_STRING:case r.a.LINEAR_RING:break;case r.a.POLYGON:for(u=e.getCoordinates(),l=Math.abs(h(u[0],s)),p=1,f=u.length;p<f;++p)l-=Math.abs(h(u[p],s));break;case r.a.MULTI_POLYGON:for(u=e.getCoordinates(),p=0,f=u.length;p<f;++p)for(d=u[p],l+=Math.abs(h(d[0],s)),g=1,v=d.length;g<v;++g)l-=Math.abs(h(d[g],s));break;case r.a.GEOMETRY_COLLECTION:var _=e.getGeometries();for(p=0,f=_.length;p<f;++p)l+=t(_[p],i);break;default:throw new Error("Unsupported geometry type: "+c)}return l},e.d=function(t,e,i,r){var s=r||o,a=Object(n.i)(t[1]),h=Object(n.i)(t[0]),c=e/s,l=Math.asin(Math.sin(a)*Math.cos(c)+Math.cos(a)*Math.sin(c)*Math.cos(i)),u=h+Math.atan2(Math.sin(i)*Math.sin(c)*Math.cos(a),Math.cos(c)-Math.sin(a)*Math.sin(l));return[Object(n.h)(u),Object(n.h)(l)]};var n=i("o1z/"),r=i("Fu+J"),o=6371008.8;function s(t,e,i){var r=i||o,s=Object(n.i)(t[1]),a=Object(n.i)(e[1]),h=(a-s)/2,c=Object(n.i)(e[0]-t[0])/2,l=Math.sin(h)*Math.sin(h)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(a);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function a(t,e){for(var i=0,n=0,r=t.length;n<r-1;++n)i+=s(t[n],t[n+1],e);return i}function h(t,e){for(var i=0,r=t.length,o=t[r-1][0],s=t[r-1][1],a=0;a<r;a++){var h=t[a][0],c=t[a][1];i+=Object(n.i)(h-o)*(2+Math.sin(Object(n.i)(s))+Math.sin(Object(n.i)(c))),o=h,s=c}return i*e*e/2}},"1gDE":function(t,e,i){var n=i("s45I"),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},"1kns":function(t,e,i){var n=i("x1G1")("toUpperCase");t.exports=n},"1tmp":function(t,e,i){var n=i("ENCO")({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});t.exports=n},"2S6f":function(t,e,i){"use strict";function n(t){return Math.pow(t,3)}function r(t){return 3*t*t-2*t*t*t}e.a=n,e.b=function(t){return 1-n(1-t)},e.c=r,e.d=function(t){return t}},"3Bz2":function(t,e,i){var n=i("3ZU4"),r=i("1kns");t.exports=function(t){return r(n(t).toLowerCase())}},"3Jqb":function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},"3Y8s":function(t,e){t.exports=function(t,e,i,n){var r=-1,o=null==t?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}},"3ZU4":function(t,e,i){var n=i("ii8f");t.exports=function(t){return null==t?"":n(t)}},"3ahG":function(t,e,i){"use strict";function n(t,e,i,n){for(var r=t[e],o=t[e+1],s=0,a=e+n;a<i;a+=n){var h=t[a],c=t[a+1];s+=Math.sqrt((h-r)*(h-r)+(c-o)*(c-o)),r=h,o=c}return s}e.a=n},"3c7H":function(t,e,i){var n=i("JFQ7"),r=i("YB1w"),o=i("UGkX"),s=i("N6iB");t.exports=function(t,e,i){if(!s(i))return!1;var a=typeof e;return!!("number"==a?r(i)&&o(e,i.length):"string"==a&&e in i)&&n(i[e],t)}},"3ciB":function(t,e,i){"use strict";e.b=function(){return function(){throw new Error("Unimplemented abstract method.")}()},e.c=function(t){return t.ol_uid||(t.ol_uid=String(++n))},i.d(e,"a",function(){return r});var n=0;var r="5.3.2"},"3iiy":function(t,e,i){var n=i("Sj2l"),r=i("V6S/"),o=i("J0PI"),s="[object Null]",a="[object Undefined]",h=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:h&&h in Object(t)?r(t):o(t)}},"4acs":function(t,e,i){"use strict";var n=["experimental-webgl","webgl","webkit-3d","moz-webgl"];var r=!1;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var o=function(t,e){for(var i=n.length,r=0;r<i;++r)try{var o=t.getContext(n[r],e);if(o)return o}catch(t){}return null}(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});o&&(r=!0,o.getParameter(o.MAX_TEXTURE_SIZE),o.getSupportedExtensions())}catch(t){}i.d(e,"c",function(){return a}),i.d(e,"g",function(){return h}),i.d(e,"i",function(){return c}),i.d(e,"d",function(){return l}),i.d(e,"b",function(){return u}),i.d(e,"a",function(){return d}),i.d(e,"h",function(){return p}),i.d(e,"f",function(){return f}),i.d(e,"e",function(){return g}),i.d(e,!1,function(){return r});var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",a=-1!==s.indexOf("firefox"),h=-1!==s.indexOf("safari")&&-1==s.indexOf("chrom"),c=-1!==s.indexOf("webkit")&&-1==s.indexOf("edge"),l=-1!==s.indexOf("macintosh"),u=window.devicePixelRatio||1,d=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),p=(navigator,"ontouchstart"in window),f="PointerEvent"in window,g=!!navigator.msPointerEnabled},"4cAh":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"4gZa":function(t,e,i){"use strict";var n=i("Jtho");t.exports=function(t,e,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},"4irz":function(t,e,i){"use strict";var n=i("LKHy"),r=i("MJuv"),o=i("V2dr"),s=i("do1/"),a=i("IU0A"),h=i("ZYQ1"),c=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new h.a([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(a.a),l="boxstart",u="boxdrag",d="boxend",p=function(t){function e(e,i,n){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.a),f=function(t){function e(e){t.call(this);var i=e||{};this.box_=new c(i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:o.c,this.startPixel_=null,this.condition_=i.condition?i.condition:r.c,this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],r=i[1]-e[1];return n*n+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(r.f)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new p(u,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(r.f)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new p(d,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(r.f)(t)&&(!(!Object(r.e)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p(l,t.coordinate,t)),!0))},e}(s.b);e.a=f},"4sgK":function(t,e,i){"use strict";var n=i("6OHv");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},"52fq":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("L5RK"),r=function(){function t(){Object(n.b)(this,t),Object(n.c)(this,"isActivated",!1)}return Object(n.a)(t,[{key:"toggleActive",value:function(){if(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isActivated){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];this.activate.apply(this,e)}else this.deactivate()}},{key:"activateHandle",value:function(){}},{key:"deactivateHandle",value:function(){}},{key:"activate",value:function(){this.isActivated&&this.deactivate(),this.isActivated=!0,this.activateHandle.apply(this,arguments)}},{key:"deactivate",value:function(){this.isActivated&&(this.isActivated=!1,this.deactivateHandle())}}]),t}();
/*!
 * vue-webgis v0.7.3
 */},"57Gy":function(t,e,i){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},"5MGX":function(t,e,i){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},"5OpU":function(t,e,i){"use strict";var n=i("lOnJ"),r=i("EqjI"),o=i("knuC"),s=[].slice,a={};t.exports=Function.bind||function(t){var e=n(this),i=s.call(arguments,1),h=function(){var n=i.concat(s.call(arguments));return this instanceof h?function(t,e,i){if(!(e in a)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,i)}(e,n.length,n):o(e,n,t)};return r(e.prototype)&&(h.prototype=e.prototype),h}},"5PlU":function(t,e,i){var n=i("RY/4"),r=i("dSzd")("iterator"),o=i("/bQp");t.exports=i("FeBl").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},"5lV5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAL5JREFUeNpiYBhowJibV/geSAuQqf8DC1izexF52nf2CTBR6gWQCxi6nUXhAqV7XzPo8e7ErpiZjUFN2oGBj0sczJ8FVEaSC0AaYZphgCQDRPmVMcSINoCdlYdBkEcWexgQAjIi+gxCvLK4AxEXUBA3YeBiF0Lx97ef76Eu4iZswIOXZxj0FH3g/Ncf7zLcfX4MHBtEGQBSyMzEimIACPz5+wuMCQYiSNHrj/fA7L//fjF8+vaS+nmB4twIEGAAOkgww19l9Q0AAAAASUVORK5CYII="},"5zde":function(t,e,i){i("zQR9"),i("qyJz"),t.exports=i("FeBl").Array.from},"6Bfc":function(t,e,i){"use strict";e.a={ACTIVE:"active"}},"6OHv":function(t,e,i){"use strict";var n=i("nfrs"),r=i("wV1N"),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function h(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:h,isStream:function(t){return a(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,r=arguments.length;n<r;n++)c(arguments[n],i);return e},extend:function(t,e,i){return c(e,function(e,r){t[r]=i&&"function"==typeof e?n(e,i):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},"6t+W":function(t,e,i){"use strict";e.a=h,e.b=function(t,e,i,n){return h(t,e,i,n,!0)},e.c=function(t,e,i,n){var s=o(t,e);if(s){var a=r(s,i,n,!0);a&&c(a)}},e.e=c,e.d=function(t){var e=s(t);if(e)for(var i in e)a(t,i)};var n=i("tFCN");function r(t,e,i,n){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===i)return n&&(r.deleteIndex=o),r}function o(t,e){var i=s(t);return i?i[e]:void 0}function s(t,e){var i=t.ol_lm;return!i&&e&&(i=t.ol_lm={}),i}function a(t,e){var i=o(t,e);if(i){for(var r=0,a=i.length;r<a;++r)t.removeEventListener(e,i[r].boundListener),Object(n.b)(i[r]);i.length=0;var h=s(t);h&&(delete h[e],0===Object.keys(h).length&&function(t){delete t.ol_lm}(t))}}function h(t,e,i,n,o){var a=s(t,!0),h=a[e];h||(h=a[e]=[]);var l=r(h,i,n,!1);return l?o||(l.callOnce=!1):(l={bindTo:n,callOnce:!!o,listener:i,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var i=t.listener,n=t.bindTo||t.target;return t.callOnce&&c(t),i.call(n,e)};return t.boundListener=e,e}(l)),h.push(l)),l}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&a(t.target,t.type)}Object(n.b)(t)}}},"7XOM":function(t,e,i){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"7b2h":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{}},props:{option:{type:Object,default:function(){return{imgUrl:"http://gis37.arcgisonline.cn/esri/sharing/rest/content/items/e7c21befda764a968fdd1547ed82b2c4/info/thumbnail/ago_downloaded.png",title:"无标题",serviceType:"不详",read:0,comment:0,rateData:0,description:"无描述",publisher:"不详",publishTime:"-"}}},imgUrl:{type:String,default:""},title:{type:String,default:""},serviceType:{type:String,default:""},read:{type:Number,default:0},comment:{type:Number,default:0},rateData:{type:Number,default:0},description:{type:String,default:""},publisher:{type:String,default:""},publishTime:{type:String,default:""}},methods:{open:function(t){this.$emit("openGalleryCardEmitter",t)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gallery-card"},[n("a",{attrs:{href:"#"}},[n("img",{staticClass:"img-responsive",attrs:{src:t.imgUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"caption"},[n("p",{staticClass:"author-info clearfix"},[n("span",{staticClass:"author-name text-overflow"},[n("img",{attrs:{src:i("5lV5"),alt:""}}),t._v(t._s(t.serviceType)+"\n            ")]),t._v(" "),n("span",{staticClass:"comment-count fr"},[n("span",{staticClass:"iconfont icon-message",attrs:{"aria-hidden":"true"}}),t._v("\n                "+t._s(t.read)+"\n            ")]),t._v(" "),n("span",{staticClass:"view-count fr"},[n("span",{staticClass:"iconfont icon-eye",attrs:{"aria-hidden":"true"}}),t._v("  \n                "+t._s(t.comment)+"\n            ")])]),t._v(" "),n("p",{staticClass:"gallery-card-label text-overflow"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","show-score":"","score-template":"（"+t.rateData+"次评级）"},model:{value:t.rateData,callback:function(e){t.rateData=e},expression:"rateData"}})],1),t._v(" "),n("p",{staticClass:"gallery-card-description"},[t._v(t._s(t.description))]),t._v(" "),n("p",{staticClass:"gallery-card-time"},[t._m(0),t._v(" "),n("span",{staticClass:"author-name text-overflow",attrs:{code:"huangbh"}},[t._v(t._s(t.publisher))]),t._v(" "),n("span",{staticClass:"comment-count fr"},[t._v(t._s(t.publishTime))])]),t._v(" "),n("div",{staticClass:"box-footer"},[n("a",{on:{click:function(e){return e.stopPropagation(),t.open(t.title)}}},[t._v("打开")]),t._v(" "),n("a",{attrs:{href:"#"}},[t._v("详情")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"author-avatar"},[e("img",{attrs:{name:"huangbh",src:i("L+lb")}})])}]};var o=i("VU/8")(n,r,!1,function(t){i("UBVO")},"data-v-8531bc72",null).exports,s={data:function(){return{defaultProps:{children:"children",label:"title"}}},props:{data:Array,title:{type:String,default:"demo"}},methods:{handleNodeClick:function(t){}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{staticClass:"catalog-card"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"public-tabs-font-size"},[t._v(t._s(t.title))]),t._v(" "),i("el-button",{staticClass:"catalog-card-close",attrs:{type:"text"}},[i("i",{staticClass:"el-icon-close"})])],1),t._v(" "),i("div",[i("el-tree",{staticClass:"public-li-font-size",attrs:{data:t.data,props:t.defaultProps,accordion:""},on:{"node-click":t.handleNodeClick}})],1)])},staticRenderFns:[]};var h=i("VU/8")(s,a,!1,function(t){i("S6xM")},"data-v-5f7755ec",null).exports,c=i("k6ff"),l={components:{WebGIS:i("PN9W").a},data:function(){return{webGisAlived:!1,servicesMonitorPreviewVisible:!1,map:null,serviceCodeValue:"Counties"}},methods:{servicesMonitorPreviewOpened:function(){},servicesMonitorPreviewClose:function(){this.webGisAlived=!1},openServicesMonitorPreview:function(t){this.webGisAlived=!0,this.serviceCodeValue=t,this.servicesMonitorPreviewVisible=!0}},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"services-monitor-preview"},[i("el-dialog",{attrs:{title:"服务预览",width:"1000px",visible:t.servicesMonitorPreviewVisible,"close-on-click-modal":!1,fullscreen:!0},on:{"update:visible":function(e){t.servicesMonitorPreviewVisible=e},opened:t.servicesMonitorPreviewOpened,close:t.servicesMonitorPreviewClose}},[i("el-row",{staticClass:"service-map-row"},[i("el-col",{staticClass:"service-map-col",attrs:{span:24}},[t.webGisAlived?i("WebGIS",{attrs:{showControls:!1,options:{serviceCode:t.serviceCodeValue},modules:["BufferAnalysis"]}}):t._e()],1),t._v(" "),i("el-col",{attrs:{span:24}})],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(l,u,!1,function(t){i("w7eL")},"data-v-97031a08",null).exports,p=i("U42e"),f=i("wRG+"),g=[{title:"现状数据",id:"1",children:[{title:"遥感测绘",id:"100",children:[{title:"基础地理",id:"200",children:[]},{title:"高分辨率遥感影像",id:"201",children:[]}]},{title:"地质及环保",id:"101",children:[]},{title:"土地利用现状",id:"102",children:[]},{title:"矿产资源",id:"103",children:[{title:"矿产资源储量",id:"103002",children:[]}]}]},{title:"规划数据",id:"2",children:[{title:"规划红线",id:"2102",children:[]},{title:"土地规划",id:"21031",children:[]},{title:"矿产规划",id:"210311",children:[]},{title:"地质与灾害规划",id:"21032",children:[]},{title:"其他规划",id:"21033",children:[]}]},{title:"管理数据",id:"3",children:[{title:"不动产登记",id:"3300",children:[]},{title:"地政管理",id:"3301",children:[]},{title:"矿产管理",id:"3302",children:[]},{title:"测绘管理",id:"3303",children:[]}]},{title:"社会经济数据",id:"4",children:[{title:"社会数据",id:"4401",children:[]},{title:"经济数据",id:"4402",children:[]},{title:"人口数据",id:"4403",children:[]}]}],v={queryCatalogData:function(t){t.catalogData=g},queryCatalogCardList:function(t,e,i){var n=this,r={num:t,start:e,sortField:"modified",sortOrder:"desc",q:i.search+' owner:arcgis orgid:0123456789ABCDEF (type:("Map Service") -typekeywords:("Tiled" OR "Hosted") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))  ownerfolder:root -type:("Code Attachment" OR "Featured Items") -typekeywords:("MapAreaPackage") -type:("Map Area")',f:"json",token:f.a.URL_DEFAULT.gisConfig.queryToken};p.a.get(f.a.URL_DEFAULT.gisServer.search,r).then(function(t){i.galleryCardList=n.makeDataCompleted(t.data.results),i.paginationTotal=t.data.total+1})},makeDataCompleted:function(t){for(var e in t)t[e].imgUrl=this.getImgUrl(t[e].id);return t},getImgUrl:function(t){return f.a.URL_DEFAULT.gisServer.imgUrl(t,f.a.URL_DEFAULT.gisConfig.queryToken)}},_={data:function(){return{value:0,search:"",catalogData:[],galleryCardList:[],paginationTotal:0,currentPageNum:1}},computed:{breadVal:function(){return this.$store.getters.bread},title:function(){var t=this.$store.getters.bread;return t=t?t.substring(0,t.indexOf("：")):"资源目录"}},methods:{pageNumberClick:function(t){this.currentPageNum=t,v.queryCatalogCardList(this.$refs.portalPaginationRef.everyPages,(t-1)*this.$refs.portalPaginationRef.everyPages,this)},previewClick:function(t){this.$refs.servicesPreviewRef.openServicesMonitorPreview(t)},searchDataClick:function(){v.queryCatalogCardList(6,1,this)}},created:function(){v.queryCatalogData(this),v.queryCatalogCardList(6,1,this)},mounted:function(){},components:{GalleryCard:o,CatalogCard:h,PortalPagination:c.a,ServicesPreview:d}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticClass:"container-out"},[i("el-main",[i("div",{staticClass:"container"},[i("div",{staticClass:"search-bar"},[i("el-breadcrumb",{staticClass:"bread custom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[i("i",{staticClass:"iconfont icon-home"}),t._v(" 首页\n          ")]),t._v(" "),i("el-breadcrumb-item",[t._v("数据服务")]),t._v(" "),i("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:t.breadVal,expression:"breadVal"}]},[t._v(t._s(t.breadVal)+" "),i("i",{staticClass:"iconfont icon-guanbi"})])],1)],1),t._v(" "),i("el-container",{staticClass:"content"},[i("el-aside",{attrs:{width:"260px"}},[t._l(t.catalogData,function(t){return[i("CatalogCard",{key:t.id,attrs:{title:t.title,data:t.children}})]})],2),t._v(" "),i("el-main",{staticClass:"main-content"},[i("div",{staticClass:"panel-heading"},[i("span",[t._v(t._s(t.title))]),t._v(" "),i("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"快速检索..."},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return e.stopPropagation(),t.searchDataClick(e)}},slot:"append"})],1)],1),t._v(" "),i("div",{staticClass:"sortOrder"},[i("span",{staticClass:"icon-bar"},[t._v("排序方式：")]),t._v(" "),i("span",{staticClass:"icon-bar"},[i("a",{staticClass:"sort-content active",attrs:{href:"javascript:void(0);"}},[t._v("最高访问量")])]),t._v(" "),i("span",{staticClass:"icon-bar"},[i("a",{staticClass:"sort-content",attrs:{href:"javascript:void(0);"}},[t._v("最高评级")])]),t._v(" "),i("span",{staticClass:"icon-bar"},[i("a",{staticClass:"sort-content",attrs:{href:"javascript:void(0);"}},[t._v("最新修改")])]),t._v(" "),i("span",{staticClass:"icon-bar"},[i("a",{staticClass:"sort-content asc desc",attrs:{href:"javascript:void(0);"}},[t._v("标题"),i("i",{staticClass:"sort-icon"})])]),t._v(" "),i("span",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-menu"})])]),t._v(" "),i("div",{staticClass:"tabgallery"},[i("el-row",{attrs:{gutter:24}},t._l(t.galleryCardList,function(e){return i("el-col",{key:e.id,attrs:{span:8}},[i("GalleryCard",{attrs:{imgUrl:e.imgUrl,title:e.title,serviceType:e.type,read:parseInt(e.numViews),comment:parseInt(e.numComments),rateData:parseInt(e.numRatings),description:e.description,publisher:e.owner,publishTime:t._f("timestampToString")(e.created)},on:{openGalleryCardEmitter:t.previewClick}})],1)}),1),t._v(" "),i("el-row",{staticClass:"portal-pagination"},[i("PortalPagination",{ref:"portalPaginationRef",attrs:{total:t.paginationTotal,layout:"total, prev, pager, next"},on:{pageNumberClickEmitter:t.pageNumberClick}})],1)],1)])],1)],1),t._v(" "),i("ServicesPreview",{ref:"servicesPreviewRef"})],1)],1)},staticRenderFns:[]};var m=i("VU/8")(_,y,!1,function(t){i("KvH8"),i("Eo0u")},"data-v-1a4209b6",null);e.default=m.exports},"7rnj":function(t,e,i){"use strict";var n=i("vv/+"),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.a=r},"7yEG":function(t,e,i){"use strict";e.c=function(t){var e=t.getDefaultTileGrid();e||(e=function(t,e,i,n){return function(t,e,i,n){var r=void 0!==n?n:s.a.TOP_LEFT,a=l(t,e,i);return new c.a({extent:t,origin:Object(o.y)(t,r),resolutions:a,tileSize:i})}(u(t),e,i,n)}(t),t.setDefaultTileGrid(e));return e},e.d=function(t,e,i){var n=e[0],r=t.getTileCoordCenter(e),s=u(i);if(Object(o.f)(s,r))return e;var a=Object(o.E)(s),h=Math.ceil((s[0]-r[0])/a);return r[0]+=a*h,t.getTileCoordForCoordAndZ(r,n)},e.a=function(t){var e=t||{},i=e.extent||Object(a.h)("EPSG:3857").getExtent(),n={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:l(i,e.maxZoom,e.tileSize)};return new c.a(n)},e.b=u;var n=i("Wrfv"),r=i("xifc"),o=i("/LWt"),s=i("7XOM"),a=i("yGLh"),h=i("vv/+"),c=i("clnH");function l(t,e,i){for(var s=void 0!==e?e:n.a,a=Object(o.A)(t),h=Object(o.E)(t),c=Object(r.d)(void 0!==i?i:n.b),l=Math.max(h/c[0],a/c[1]),u=s+1,d=new Array(u),p=0;p<u;++p)d[p]=l/Math.pow(2,p);return d}function u(t){var e=(t=Object(a.h)(t)).getExtent();if(!e){var i=180*a.a[h.b.DEGREES]/t.getMetersPerUnit();e=Object(o.k)(-i,-i,i,i)}return e}},"9Ewl":function(t,e,i){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},"9JMd":function(t,e,i){"use strict";var n=i("OEyb"),r=i("bhTf"),o=i("57Gy"),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(n.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(n.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(n.a)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(r.a);e.a=s},"9YGs":function(t,e,i){var n=i("riG9");t.exports=function(t,e,i){var r=t.length;return i=void 0===i?r:i,!e&&i>=r?t:n(t,e,i)}},"9bBU":function(t,e,i){i("mClu");var n=i("FeBl").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},A7Qc:function(t,e,i){"use strict";var n=i("3ciB"),r=i("XOen"),o=i("yGLh"),s=i("9Ewl"),a=function(t){function e(e){t.call(this),this.projection_=Object(o.h)(e.projection),this.attributions_=h(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(n.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=h(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function h(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},AU1m:function(t,e,i){"use strict";var n=i("3ciB"),r=function(t){function e(e){var i="Assertion failed. See https://openlayers.org/en/"+("latest"===n.a?n.a:"v"+n.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,i),this.code=e,this.name="AssertionError",this.message=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=r},AXqv:function(t,e,i){"use strict";e.b=function(){n={}},e.a=function(t,e,i){var r=t.getCode(),o=e.getCode();r in n||(n[r]={});n[r][o]=i},e.c=function(t,e){var i;t in n&&e in n[t]&&(i=n[t][e]);return i};i("tFCN");var n={}},B0bq:function(t,e,i){i("fWfb"),t.exports=i("FeBl").Object.getOwnPropertySymbols},Bi1H:function(t,e,i){var n=i("x38o"),r=i("ObDU"),o=i("ZwU/");t.exports=function(t){return r(t)?o(t):n(t)}},BlJ1:function(t,e,i){"use strict";var n=i("Y6UM"),r=i("3Jqb"),o=i("6t+W"),s=i("57Gy"),a=i("/LWt"),h=function(t){function e(e,i,n,o,s,a){t.call(this,e,i,n,r.a.IDLE),this.src_=o,this.image_=new Image,null!==s&&(this.image_.crossOrigin=s),this.imageListenerKeys_=null,this.state=r.a.IDLE,this.imageLoadFunction_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=r.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(a.A)(this.extent)/this.image_.height),this.state=r.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=r.a.IDLE&&this.state!=r.a.ERROR||(this.state=r.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(o.b)(this.image_,s.a.ERROR,this.handleImageError_,this),Object(o.b)(this.image_,s.a.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(o.e),this.imageListenerKeys_=null},e}(n.a),c=i("OEyb"),l=i("tFCN"),u=i("3ciB"),d=i("09IN"),p=i("zF6X"),f=i("LKHy"),g=i("yGLh"),v=i("N9JB"),_=i("S+g9"),y=function(t){function e(e,i,n,o,s,h){var c=e.getExtent(),l=i.getExtent(),u=l?Object(a.B)(n,l):n,p=Object(a.x)(u),f=Object(v.a)(e,i,p,o),g=d.b,y=new _.a(e,i,u,c,f*g),m=h(y.calculateSourceExtent(),f,s),b=r.a.LOADED;m&&(b=r.a.IDLE);var x=m?m.getPixelRatio():1;t.call(this,n,o,x,b),this.targetProj_=i,this.maxSourceExtent_=c,this.triangulation_=y,this.targetResolution_=o,this.targetExtent_=n,this.sourceImage_=m,this.sourcePixelRatio_=x,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==r.a.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==r.a.LOADED){var e=Object(a.E)(this.targetExtent_)/this.targetResolution_,i=Object(a.A)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(v.b)(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==r.a.IDLE){this.state=r.a.LOADING,this.changed();var t=this.sourceImage_.getState();t==r.a.LOADED||t==r.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(o.a)(this.sourceImage_,s.a.CHANGE,function(t){var e=this.sourceImage_.getState();e!=r.a.LOADED&&e!=r.a.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Object(o.e)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(n.a),m=i("A7Qc"),b="imageloadstart",x="imageloadend",O="imageloaderror",w=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f.a);function E(t,e){t.getImage().src=e}var M=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(p.f)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,n){var r=this.getProjection();if(d.a&&r&&n&&!Object(g.g)(r,n)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(g.g)(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==e&&Object(a.p)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new y(r,n,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,r)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(n=r),this.getImageInternal(t,e,i,n)},e.prototype.getImageInternal=function(t,e,i,n){return Object(u.b)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case r.a.LOADING:this.loading=!0,this.dispatchEvent(new w(b,e));break;case r.a.LOADED:this.loading=!1,this.dispatchEvent(new w(x,e));break;case r.a.ERROR:this.loading=!1,this.dispatchEvent(new w(O,e))}},e}(m.a),C=i("iFba"),S=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.hidpi_=void 0===i.hidpi||i.hidpi,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:E,this.params_=i.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),i=this.hidpi_?i:1;var r=this.image_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==e&&r.getPixelRatio()==i&&Object(a.g)(r.getExtent(),t))return r;var c={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(l.a)(c,this.params_);var u=((t=t.slice())[0]+t[2])/2,d=(t[1]+t[3])/2;if(1!=this.ratio_){var p=this.ratio_*Object(a.E)(t)/2,f=this.ratio_*Object(a.A)(t)/2;t[0]=u-p,t[1]=d-f,t[2]=u+p,t[3]=d+f}var g=e/i,v=Math.ceil(Object(a.E)(t)/g),_=Math.ceil(Object(a.A)(t)/g);t[0]=u-g*v/2,t[2]=u+g*v/2,t[1]=d-g*_/2,t[3]=d+g*_/2,this.imageSize_[0]=v,this.imageSize_[1]=_;var y=this.getRequestUrl_(t,this.imageSize_,i,n,c);return this.image_=new h(t,e,i,y,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(o.a)(this.image_,s.a.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,r){var o=n.getCode().split(":").pop();r.SIZE=e[0]+","+e[1],r.BBOX=t.join(","),r.BBOXSR=o,r.IMAGESR=o,r.DPI=Math.round(90*i);var s=this.url_,a=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return a==s&&Object(c.a)(!1,50),Object(C.a)(a,r)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(l.a)(this.params_,t),this.image_=null,this.changed()},e}(M);e.a=S},Bmxh:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("Puzn"),r=i("L5RK"),o=i("yQMH"),s=i("52fq"),a=i("4irz"),h=i("nq2H"),c=i("cV5x"),l=function(t){function e(t){var i;return Object(r.b)(this,e),i=Object(o.b)(this,Object(o.c)(e).call(this,"boxstart,boxend")),Object(r.c)(Object(o.d)(i),"_map",void 0),Object(r.c)(Object(o.d)(i),"_olMap",void 0),Object(r.c)(Object(o.d)(i),"_vectorSource",void 0),Object(r.c)(Object(o.d)(i),"_dragBox",void 0),Object(r.c)(Object(o.d)(i),"_feature",void 0),i._map=t,i._olMap=t.olMap,i._vectorSource=t.vectorSource,t.eventHub.on("clear",function(){return i.removeBoxFeature()}),i}return Object(o.a)(e,t),Object(r.a)(e,[{key:"activateHandle",value:function(){var t=this,e=this._map;e.toggleCursorStyle("crosshair"),this._dragBox=new a.a({minArea:0}),this._olMap.addInteraction(this._dragBox),this._dragBox.on("boxstart",function(){e.toggleSelectInteraction(!1),t.dispatch("boxstart")}),this._dragBox.on("boxend",function(){e.toggleSelectInteraction(!0);var i=t._dragBox.getGeometry(),n=i.getExtent();t.removeBoxFeature(),t.addBoxFeature(new h.a({geometry:i})),t.dispatch("boxend",n)})}},{key:"deactivateHandle",value:function(){this._map.toggleCursorStyle(),this._olMap.removeInteraction(this._dragBox),this._dragBox=null}},{key:"addBoxFeature",value:function(t){this._feature=t,this._map.addFeature(this._feature)}},{key:"removeBoxFeature",value:function(){this._map.removeFeature(this._feature),this._feature=null}}]),e}(Object(c.a)(n.a,s.a))},BuVq:function(t,e){},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},CTDj:function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return a}),i.d(e,"f",function(){return h}),i.d(e,"b",function(){return c}),i.d(e,"a",function(){return l}),i.d(e,"g",function(){return u});var n,r,o="ol-hidden",s="ol-selectable",a="ol-unselectable",h="ol-unsupported",c="ol-control",l="ol-collapsed",u=(r={},function(t){if(n||(n=document.createElement("div").style),!(t in r)){n.font=t;var e=n.fontFamily;if(n.font="",!e)return null;r[t]=e.split(/,\s?/)}return r[t]})},D0cr:function(t,e,i){var n=i("kM2E"),r=i("Yobk"),o=i("lOnJ"),s=i("77Pl"),a=i("EqjI"),h=i("S82l"),c=i("5OpU"),l=(i("7KvD").Reflect||{}).construct,u=h(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),d=!h(function(){l(function(){})});n(n.S+n.F*(u||d),"Reflect",{construct:function(t,e){o(t),s(e);var i=arguments.length<3?t:o(arguments[2]);if(d&&!u)return l(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var h=i.prototype,p=r(a(h)?h:Object.prototype),f=Function.apply.call(t,p,e);return a(f)?f:p}})},DEUC:function(t,e,i){"use strict";var n=i("6OHv"),r=i("nfrs"),o=i("S/sH"),s=i("+BXv");function a(t){var e=new o(t),i=r(o.prototype.request,e);return n.extend(i,o.prototype,e),n.extend(i,e),i}var h=a(s);h.Axios=o,h.create=function(t){return a(n.merge(s,t))},h.Cancel=i("aPmR"),h.CancelToken=i("xyZz"),h.isCancel=i("Hiub"),h.all=function(t){return Promise.all(t)},h.spread=i("4cAh"),t.exports=h,t.exports.default=h},DL7K:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},DwLH:function(t,e,i){"use strict";var n="1.3.0",r=i("OEyb"),o=i("/LWt"),s=i("tFCN"),a=i("o1z/"),h=i("yGLh"),c=i("N9JB"),l=i("xifc"),u=i("ye7M"),d="carmentaserver",p="geoserver",f="mapserver",g="qgis",v=i("fGqn"),_=i("J23v"),y=i("iFba"),m=function(t){function e(e){var i=e||{},n=i.params||{},r=!("TRANSPARENT"in n)||n.TRANSPARENT;t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!r,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:b,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=Object(o.j)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var a=Object(h.h)(i),u=this.getProjection(),d=this.getTileGrid();d||(d=this.getTileGridForProjection(a));var p=d.getTileCoordForCoordAndResolution(t,e);if(!(d.getResolutions().length<=p[0])){var f=d.getResolution(p[0]),g=d.getTileCoordExtent(p,this.tmpExtent_),v=Object(l.d)(d.getTileSize(p[0]),this.tmpSize),_=this.gutter_;0!==_&&(v=Object(l.a)(v,_,this.tmpSize),g=Object(o.c)(g,f*_,g)),u&&u!==a&&(f=Object(c.a)(u,a,t,f),g=Object(h.n)(g,a,u),t=Object(h.m)(t,a,u));var y={SERVICE:"WMS",VERSION:n,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(s.a)(y,this.params_,r);var m=Math.floor((t[0]-g[0])/f),b=Math.floor((g[3]-t[1])/f);return y[this.v13_?"I":"X"]=m,y[this.v13_?"J":"Y"]=b,this.getRequestUrl_(p,v,g,1,u||a,y)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,n,o,s){var h=this.urls;if(h){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=n)switch(this.serverType_){case p:var c=90*n+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+c:s.FORMAT_OPTIONS="dpi:"+c;break;case f:s.MAP_RESOLUTION=90*n;break;case d:case g:s.DPI=90*n;break;default:Object(r.a)(!1,52)}var l,u,_=o.getAxisOrientation(),m=i;if(this.v13_&&"ne"==_.substr(0,2))l=i[0],m[0]=i[1],m[1]=l,l=i[2],m[2]=i[3],m[3]=l;if(s.BBOX=m.join(","),1==h.length)u=h[0];else u=h[Object(a.d)(Object(v.e)(t),h.length)];return Object(y.a)(u,s)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){Object(s.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||n;this.v13_=Object(_.a)(t,"1.3")>=0},e}(u.a);function b(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var a=r.getResolution(t[0]),h=r.getTileCoordExtent(t,this.tmpExtent_),c=Object(l.d)(r.getTileSize(t[0]),this.tmpSize),u=this.gutter_;0!==u&&(c=Object(l.a)(c,u,this.tmpSize),h=Object(o.c)(h,a*u,h)),1!=e&&(c=Object(l.c)(c,e,this.tmpSize));var d={SERVICE:"WMS",VERSION:n,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(s.a)(d,this.params_),this.getRequestUrl_(t,c,h,e,i,d)}}e.a=m},ENCO:function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},Eo0u:function(t,e){},FKTB:function(t,e,i){"use strict";var n=i("6OHv");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(e){var i=n.isString(e)?r(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},"Fu+J":function(t,e,i){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},Gu7T:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("c/Tr"),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,o.default)(t)}},Hiub:function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},Hqno:function(t,e,i){var n=i("LQJM");t.exports=function(t){var e=n(t),i=e%1;return e==e?i?e-i:e:0}},IU0A:function(t,e,i){"use strict";var n=function(){this.disposed_=!1};n.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},e.a=n},IjYr:function(t,e){},IyJb:function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}},J0PI:function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},J23v:function(t,e,i){"use strict";e.b=function(t,e,i){var n=void 0!==i?t.toFixed(i):""+t,r=n.indexOf(".");return(r=-1===r?n.length:r)>e?n:new Array(1+e-r).join("0")+n},e.a=function(t,e){for(var i=(""+t).split("."),n=(""+e).split("."),r=0;r<Math.max(i.length,n.length);r++){var o=parseInt(i[r]||"0",10),s=parseInt(n[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}},JFQ7:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},Jtho:function(t,e,i){"use strict";var n=i("gmzA");t.exports=function(t,e,i,r,o){var s=new Error(t);return n(s,e,i,r,o)}},K9ON:function(t,e,i){i("D0cr"),t.exports=i("FeBl").Reflect.construct},Kh5d:function(t,e,i){var n=i("sB3e"),r=i("PzxK");i("uqUo")("getPrototypeOf",function(){return function(t){return r(n(t))}})},KvH8:function(t,e){},"L+lb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRDQ0YyQUIzOERCQTExRTk4NUNBQUFDQ0I4NTRDRjQxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRDQ0YyQUI0OERCQTExRTk4NUNBQUFDQ0I4NTRDRjQxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RENDRjJBQjE4REJBMTFFOTg1Q0FBQUNDQjg1NENGNDEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RENDRjJBQjI4REJBMTFFOTg1Q0FBQUNDQjg1NENGNDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5iQ4BXAAADyklEQVR42oxUW2gcZRT+/stc9pLtZnezJtlkc2lioi1JaGgLXijqi6IY44NQQSn4oLRQhaKC0Ad90DfxgkUfpPggihht0QdFUGjRWLFKk6hpN42mSds1m93N7mRvszPze3bXFoQqDnwzZ4bzf+ec75wzbO62MfzL9TDhJcIwGPOg1C9kv0KYuZEzvyEF52/DtmfUlrWDSHQoz6Svk4SPCcf/HxHnB1EuPQkhwLsSUJs5gDXc2DWPA4Qj/03EGFi1clgVNiGn98N49kWwRBLOcgpuLgO3XIJXqzY8DzV8/3H00r5dLaNxc92RomUteg8+AvO+aSjHhsrn4XzzBbzUr5Rdnr45lCBvBB2nE3PXiOTpXBEeGUrRS7UszEgUw3vugChZqGYz0NujGDj8PIRVAJUMO/MnLr72Muq5rBT+wPWMpEsM+TpFaZRVd84bNXtt2Cr0MF0DhISqlCHyG+A+H5Dsh74tDCbkuqrXf2tGb5ToOpA9PgOPmQyrpTKkcNyFrc3jlZp9NMAFruvgUc5V0kZYUJRl9crqe7X01YrYssCIzD9IEzIRi2D26AuQgQCuXF5DjbLzdoynWDA05JKwmpQYTCTAqYuQGjyruJqfPTVEudhGLA63UkL2x+8hNqsVyNGdiIzvQmjvnYjtnICbyRQ9237IlQKChG0PhcA0KrVWo7LEc/577v3BP7kHRjgCjzK1FheouwEfQlRjzDSQIKGnn34Go1MPGM5iamlbOtPDO2LoHxgAKxRxmXnZdHfn9sj8XEE/+QmsfBZevQ493E7jRzp0RaPQqLTTyys4Q8JafUMzK4M9PetBEvjiMvKzZzCXSePboB4929t9cmmrAPfCeUjqmt7e3tRShDQJrhuIB/yBfT7t4C3rV9/3T07s5SMjKIT8EFUbacmxMjYK0ZtEZHGxv/vYGwe4UoxFIvNM6nU0Zsv0mZjq7Lh/KqCdaIOSm6nf4SS6Ef/0BLyx3cgdOdTsWPCtd+FLLSDxxOPQUhdgJ5MQPr9rJPuneSD4mbg9Gr77qZDxJTnznEtL3hGB/ccaqvPn0HZpCeydY5A/nUWwVkLXRx9AO/cznO1D4LR/XrnEnXxuvwyFv2Nv3tz7da9y7tpQVCeNjEOoU8t7rSK6axXwZF+jU8DaKhBsgxePg7tua4Cpo06phECs4xT7/Na+tAl1U4OgtSoKfaaOhKGjTraiyJwO8NafoWUTmkQEU3DaDDcjX13beH13m/loyfXW6aBqo+idFRs2TZxq/hBYc6Gbi/r3e6PTaD1ZWJPxr7KFD/8SYABF0YN3cm7WuQAAAABJRU5ErkJggg=="},L5RK:function(t,e,i){"use strict";i.d(e,"a",function(){return h}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return o});var n=i("9bBU"),r=i.n(n).a;function o(t,e,i){return e in t?r(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(t,n.key,n)}}function h(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}},LKHy:function(t,e,i){"use strict";e.b=function(t){t.stopPropagation()};var n=function(t){this.propagationStopped,this.type=t,this.target=null};n.prototype.preventDefault=function(){this.propagationStopped=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=n},LQJM:function(t,e,i){var n=i("Xb1Y"),r=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=n(t))===r||t===-r?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},LmAy:function(t,e,i){"use strict";e.a=r,e.b=o,e.e=s,e.c=h,e.d=function(t,e,i,n,r,o,s,a){for(var c=0,l=i.length;c<l;++c){var u=i[c],d=[];s=h(t,e,u,n,r,o,s,d),a.push(d),e=u[u.length-1]}return s};var n=i("o1z/");function r(t,e,i,r,o,s,a){var h=(i-e)/r;if(h<3){for(;e<i;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var c=new Array(h);c[0]=1,c[h-1]=1;for(var l=[e,i-r],u=0;l.length>0;){for(var d=l.pop(),p=l.pop(),f=0,g=t[p],v=t[p+1],_=t[d],y=t[d+1],m=p+r;m<d;m+=r){var b=t[m],x=t[m+1],O=Object(n.g)(b,x,g,v,_,y);O>f&&(u=m,f=O)}f>o&&(c[(u-e)/r]=1,p+r<u&&l.push(p,u),u+r<d&&l.push(u,d))}for(var w=0;w<h;++w)c[w]&&(s[a++]=t[e+w*r],s[a++]=t[e+w*r+1]);return a}function o(t,e,i,n,o,s,a,h){for(var c=0,l=i.length;c<l;++c){var u=i[c];a=r(t,e,u,n,o,s,a),h.push(a),e=u}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,i,n,r,o,a){if(e==i)return a;var h,c,l=s(t[e],r),u=s(t[e+1],r);e+=n,o[a++]=l,o[a++]=u;do{if(h=s(t[e],r),c=s(t[e+1],r),(e+=n)==i)return o[a++]=h,o[a++]=c,a}while(h==l&&c==u);for(;e<i;){var d=s(t[e],r),p=s(t[e+1],r);if(e+=n,d!=h||p!=c){var f=h-l,g=c-u,v=d-l,_=p-u;f*_==g*v&&(f<0&&v<f||f==v||f>0&&v>f)&&(g<0&&_<g||g==_||g>0&&_>g)?(h=d,c=p):(o[a++]=h,o[a++]=c,l=h,u=c,h=d,c=p)}}return o[a++]=h,o[a++]=c,a}function h(t,e,i,n,r,o,s,h){for(var c=0,l=i.length;c<l;++c){var u=i[c];s=a(t,e,u,n,r,o,s),h.push(s),e=u}return s}},MB6k:function(t,e,i){"use strict";e.a=function(t,e,i,o,s,a){var h=NaN,c=NaN,l=(i-e)/o;if(1===l)h=t[e],c=t[e+1];else if(2==l)h=(1-s)*t[e]+s*t[e+o],c=(1-s)*t[e+1]+s*t[e+o+1];else if(0!==l){for(var u=t[e],d=t[e+1],p=0,f=[0],g=e+o;g<i;g+=o){var v=t[g],_=t[g+1];p+=Math.sqrt((v-u)*(v-u)+(_-d)*(_-d)),f.push(p),u=v,d=_}var y=s*p,m=Object(n.a)(f,y);if(m<0){var b=(y-f[-m-2])/(f[-m-1]-f[-m-2]),x=e+(-m-2)*o;h=Object(r.c)(t[x],t[x+o],b),c=Object(r.c)(t[x+1],t[x+o+1],b)}else h=t[e+m*o],c=t[e+m*o+1]}return a?(a[0]=h,a[1]=c,a):[h,c]},e.b=o,e.c=function(t,e,i,n,r,s,a){if(a)return o(t,e,i[i.length-1],n,r,s);var h;if(r<t[n-1])return s?((h=t.slice(0,n))[n-1]=r,h):null;if(t[t.length-1]<r)return s?((h=t.slice(t.length-n))[n-1]=r,h):null;for(var c=0,l=i.length;c<l;++c){var u=i[c];if(e!=u){if(r<t[e+n-1])return null;if(r<=t[u-1])return o(t,e,u,n,r,!1);e=u}}return null};var n=i("zF6X"),r=i("o1z/");function o(t,e,i,n,o,s){if(i==e)return null;var a;if(o<t[e+n-1])return s?((a=t.slice(e,e+n))[n-1]=o,a):null;if(t[i-1]<o)return s?((a=t.slice(i-n,i))[n-1]=o,a):null;if(o==t[e+n-1])return t.slice(e,e+n);for(var h=e/n,c=i/n;h<c;){var l=h+c>>1;o<t[(l+1)*n-1]?c=l:h=l+1}var u=t[h*n-1];if(o==u)return t.slice((h-1)*n,(h-1)*n+n);var d=(o-u)/(t[(h+1)*n-1]-u);a=[];for(var p=0;p<n-1;++p)a.push(Object(r.c)(t[(h-1)*n+p],t[h*n+p],d));return a.push(o),a}},MJuv:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return h}),i.d(e,"d",function(){return c}),i.d(e,"c",function(){return l}),i.d(e,"e",function(){return u}),i.d(e,"g",function(){return d}),i.d(e,"i",function(){return p}),i.d(e,"l",function(){return f}),i.d(e,"h",function(){return g}),i.d(e,"k",function(){return v}),i.d(e,"m",function(){return _}),i.d(e,"f",function(){return y}),i.d(e,"j",function(){return m});var n=i("Vni7"),r=i("OEyb"),o=i("V2dr"),s=i("4acs"),a=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},h=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},c=function(t){return t.target.getTargetElement()===document.activeElement},l=o.b,u=function(t){var e=t.originalEvent;return 0==e.button&&!(s.i&&s.d&&e.ctrlKey)},d=o.a,p=function(t){return"pointermove"==t.type},f=function(t){return t.type==n.a.SINGLECLICK},g=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},v=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},y=function(t){var e=t.pointerEvent;return Object(r.a)(void 0!==e,56),"mouse"==e.pointerType},m=function(t){var e=t.pointerEvent;return Object(r.a)(void 0!==e,56),e.isPrimary&&0===e.button}},Mdwg:function(t,e,i){"use strict";var n=i("v5fe"),r=i("+iwx"),o="preload",s="useInterimTilesOnError",a=i("tFCN"),h=function(t){function e(e){var i=e||{},r=Object(a.a)({},i);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(void 0!==i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=n.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e}(r.a);h.prototype.getSource;e.a=h},N6iB:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},N9JB:function(t,e,i){"use strict";e.a=function(t,e,i,n){var o=Object(s.m)(i,e,t),a=Object(s.i)(e,n,i),h=e.getMetersPerUnit();void 0!==h&&(a*=h);var c=t.getMetersPerUnit();void 0!==c&&(a/=c);var l=t.getExtent();if(!l||Object(r.f)(l,o)){var u=Object(s.i)(t,a,o)/a;isFinite(u)&&u>0&&(a/=u)}return a},e.b=function(t,e,i,s,h,c,l,u,d,p,f){var g=Object(n.a)(Math.round(i*t),Math.round(i*e));if(0===d.length)return g.canvas;g.scale(i,i);var v=Object(r.j)();d.forEach(function(t,e,i){Object(r.q)(v,t.extent)});var _=Object(r.E)(v),y=Object(r.A)(v),m=Object(n.a)(Math.round(i*_/s),Math.round(i*y/s)),b=i/s;d.forEach(function(t,e,i){var n=t.extent[0]-v[0],o=-(t.extent[3]-v[3]),s=Object(r.E)(t.extent),a=Object(r.A)(t.extent);m.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,n*b,o*b,s*b,a*b)});var x=Object(r.C)(l);u.getTriangles().forEach(function(t,e,n){var r=t.source,h=t.target,l=r[0][0],u=r[0][1],d=r[1][0],p=r[1][1],f=r[2][0],_=r[2][1],y=(h[0][0]-x[0])/c,b=-(h[0][1]-x[1])/c,O=(h[1][0]-x[0])/c,w=-(h[1][1]-x[1])/c,E=(h[2][0]-x[0])/c,M=-(h[2][1]-x[1])/c,C=l,S=u;l=0,u=0;var T=[[d-=C,p-=S,0,0,O-y],[f-=C,_-=S,0,0,E-y],[0,0,d,p,w-b],[0,0,f,_,M-b]],j=Object(o.e)(T);if(j){g.save(),g.beginPath();var R=(y+O+E)/3,I=(b+w+M)/3,L=a(R,I,y,b),k=a(R,I,O,w),P=a(R,I,E,M);g.moveTo(k[0],k[1]),g.lineTo(L[0],L[1]),g.lineTo(P[0],P[1]),g.clip(),g.transform(j[0],j[2],j[1],j[3],y,b),g.translate(v[0]-C,v[3]-S),g.scale(s/i,-s/i),g.drawImage(m.canvas,0,0),g.restore()}}),f&&(g.save(),g.strokeStyle="black",g.lineWidth=1,u.getTriangles().forEach(function(t,e,i){var n=t.target,r=(n[0][0]-x[0])/c,o=-(n[0][1]-x[1])/c,s=(n[1][0]-x[0])/c,a=-(n[1][1]-x[1])/c,h=(n[2][0]-x[0])/c,l=-(n[2][1]-x[1])/c;g.beginPath(),g.moveTo(s,a),g.lineTo(r,o),g.lineTo(h,l),g.closePath(),g.stroke()}),g.restore());return g.canvas};var n=i("w2Al"),r=i("/LWt"),o=i("o1z/"),s=i("yGLh");function a(t,e,i,n){var r=i-t,o=n-e,s=Math.sqrt(r*r+o*o);return[Math.round(i+r/s),Math.round(n+o/s)]}},Nhaw:function(t,e,i){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},O8Za:function(t,e,i){"use strict";e.b=function(t,e,i){var n=t.getCenter();if(n){var o=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:r.d,center:o}):t.setCenter(o)}},e.c=function(t,e,i,n){e=t.constrainRotation(e,0),h(t,e,i,n)},e.d=h,e.e=function(t,e,i,n,r){e=t.constrainResolution(e,0,r),c(t,e,i,n)},e.f=function(t,e,i,n){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var a=t.getResolutions();o=Object(s.a)(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(i&&void 0!==o&&o!==r){var h=t.getCenter(),l=t.calculateCenterZoom(o,i);l=t.constrainCenter(l),i=[(o*h[0]-r*l[0])/(o-r),(o*h[1]-r*l[1])/(o-r)]}c(t,o,i,n)},e.g=c;var n=i("XOen"),r=i("2S6f"),o=i("6Bfc"),s=i("o1z/"),a=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.a.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.a.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(n.a);function h(t,e,i,n){if(void 0!==e){var o=t.getRotation(),s=t.getCenter();void 0!==o&&s&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:r.b}):t.rotate(e,i)}}function c(t,e,i,n){if(e){var o=t.getResolution(),s=t.getCenter();if(void 0!==o&&s&&e!==o&&n)t.animate({resolution:e,anchor:i,duration:n,easing:r.b});else{if(i){var a=t.calculateCenterZoom(e,i);t.setCenter(a)}t.setResolution(e)}}}e.a=a},OEyb:function(t,e,i){"use strict";e.a=function(t,e){if(!t)throw new n.a(e)};var n=i("AU1m")},ORAo:function(t,e,i){var n=i("riG9"),r=i("3c7H"),o=i("Hqno"),s=Math.ceil,a=Math.max;t.exports=function(t,e,i){e=(i?r(t,e,i):void 0===e)?1:a(o(e),0);var h=null==t?0:t.length;if(!h||e<1)return[];for(var c=0,l=0,u=Array(s(h/e));c<h;)u[l++]=n(t,c,c+=e);return u}},ObDU:function(t,e){var i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return i.test(t)}},OgA6:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},OrOo:function(t,e,i){"use strict";var n=i("3ciB"),r=i("XOen"),o=i("jP9t"),s=i("o1z/"),a=i("tFCN"),h=function(t){function e(e){t.call(this);var i=Object(a.a)({},e);i[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,i[o.a.VISIBLE]=void 0===e.visible||e.visible,i[o.a.Z_INDEX]=e.zIndex,i[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(n.b)()},e.prototype.getLayerStatesArray=function(t){return Object(n.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(n.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(r.a);e.a=h},PN9W:function(t,e,i){"use strict";var n=i("7+uW"),r=(i("EuXz"),i("gbyG"),i("Gh7F"),i("WpTh"),i("fx22"),i("tJwI"),i("bQXb")),o=(i("XTu8"),i("Puzn")),s=(i("5zde"),i("Xd32"),i("1A13"),i("dSUw"),i("cnlX"),i("zCEe")),a=(i("B0bq"),i("jFbC"),i("9bBU"),i("L5RK")),h=(i("FKfb"),i("yGLh")),c=i("AXqv"),l=i("7rnj");var u=1,d=2,p=4,f=5,g=484813681109536e-20,v=Math.PI/2,_=.16666666666666666,y=.04722222222222222,m=.022156084656084655,b=1e-10,x=.017453292519943295,O=57.29577951308232,w=Math.PI/4,E=2*Math.PI,M=3.14159265359,C={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},S={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},T=/[\s_\-\/\(\)]/g;function j(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),r=e.toLowerCase().replace(T,""),o=-1;++o<n.length;)if((i=n[o]).toLowerCase().replace(T,"")===r)return t[i]}var R=function(t){var e,i,n,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*x},lat_1:function(t){r.lat1=t*x},lat_2:function(t){r.lat2=t*x},lat_ts:function(t){r.lat_ts=t*x},lon_0:function(t){r.long0=t*x},lon_1:function(t){r.long1=t*x},lon_2:function(t){r.long2=t*x},alpha:function(t){r.alpha=parseFloat(t)*x},lonc:function(t){r.longc=t*x},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=j(S,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*x},pm:function(t){var e=j(C,t);r.from_greenwich=(e||parseFloat(t))*x},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)i=o[e],e in s?"function"==typeof(n=s[e])?n(i):r[n]=i:r[e]=i;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},I=function(t){return new D(t).output()},L=1,k=/\s/,P=/[A-Za-z]/,A=/[A-Za-z84]/,F=/[,\]]/,N=/[\d\.E\-\+]/;function D(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=L}function G(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,r=i.reduce(function(t,e){return z(e,t),t},n);e&&(t[e]=r)}function z(t,e){if(Array.isArray(t)){var i,n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void z(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n)switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&z(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&z(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void G(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return z(t,e[n]);return G(e,n,t)}else e[n]=t;else e[n]=!0}else e[t]=!0}D.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;k.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case L:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},D.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(F.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},D.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=L)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=L,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},D.prototype.number=function(t){if(!N.test(t)){if(F.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},D.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},D.prototype.keyword=function(t){if(A.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=L)}if(!F.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},D.prototype.neutral=function(t){if(P.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(N.test(t))return this.word=t,void(this.state=3);if(!F.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},D.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var U=.017453292519943295;function W(t){return t*U}var B=function(t){var e=I(t),i=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",i]);var r={};return z(e,r),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function i(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",W],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",W],["x0","false_easting",i],["y0","false_northing",i],["long0","central_meridian",W],["lat0","latitude_of_origin",W],["lat0","standard_parallel_1",W],["lat1","standard_parallel_1",W],["lat2","standard_parallel_2",W],["azimuth","Azimuth"],["alpha","azimuth",W],["srsCode","name"]].forEach(function(e){return i=t,r=(n=e)[0],o=n[1],void(!(r in i)&&o in i&&(i[r]=i[o],3===n.length&&(i[r]=n[2](i[r]))));var i,n,r,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=W(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function X(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?X[t]=R(arguments[1]):X[t]=B(arguments[1]):X[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?X.apply(e,t):X(t)});if("string"==typeof t){if(t in X)return X[t]}else"EPSG"in t?X["EPSG:"+t.EPSG]=t:"ESRI"in t?X["ESRI:"+t.ESRI]=t:"IAU2000"in t?X["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(X);var Y=X;var H=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var V=["3857","900913","3785","102113"];var K=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in Y}(t))return Y[t];if(function(t){return H.some(function(e){return t.indexOf(e)>-1})}(t)){var e=B(t);if(function(t){var e=j(t,"authority");if(e){var i=j(e,"epsg");return i&&V.indexOf(i)>-1}}(e))return Y["EPSG:3857"];var i=function(t){var e=j(t,"extension");if(e)return j(e,"proj4")}(e);return i?R(i):e}return function(t){return"+"===t[0]}(t)?R(t):void 0},q=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t},Z=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)},$=function(t){return t<0?-1:1},Q=function(t){return Math.abs(t)<=M?t:t-$(t)*E},J=function(t,e,i){var n=t*i,r=.5*t;return n=Math.pow((1-n)/(1+n),r),Math.tan(.5*(v-e))/n},tt=function(t,e){for(var i,n,r=.5*t,o=v-2*Math.atan(e),s=0;s<=15;s++)if(i=t*Math.sin(o),o+=n=v-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-o,Math.abs(n)<=1e-10)return o;return-9999};function et(t){return t}var it=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,n=t.x,r=t.y;if(r*O>90&&r*O<-90&&n*O>180&&n*O<-180)return null;if(Math.abs(Math.abs(r)-v)<=b)return null;if(this.sphere)e=this.x0+this.a*this.k0*Q(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(w+.5*r));else{var o=Math.sin(r),s=J(this.e,r,o);e=this.x0+this.a*this.k0*Q(n-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=v-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(i=tt(this.e,o)))return null}return e=Q(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:et,inverse:et,names:["longlat","identity"]}],nt={},rt=[];function ot(t,e){var i=rt.length;return t.names?(rt[i]=t,t.names.forEach(function(t){nt[t.toLowerCase()]=i}),this):(console.log(e),!0)}var st={start:function(){it.forEach(ot)},add:ot,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==nt[e]&&rt[nt[e]]?rt[nt[e]]:void 0}},at={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ht=at.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};at.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var ct={};ct.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ct.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ct.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},ct.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},ct.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},ct.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},ct.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},ct.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ct.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ct.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},ct.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},ct.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},ct.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},ct.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},ct.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},ct.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},ct.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var lt=function(t,e,i,n,r,o){var s={};return s.datum_type=void 0===t||"none"===t?f:p,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=u),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=d,s.datum_params[3]*=g,s.datum_params[4]*=g,s.datum_params[5]*=g,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=i,s.b=n,s.es=r,s.ep2=o,s};function ut(t,e){if(!(this instanceof ut))return new ut(t);e=e||function(t){if(t)throw t};var i=K(t);if("object"==typeof i){var n=ut.projections.get(i.projName);if(n){if(i.datumCode&&"none"!==i.datumCode){var r=j(ct,i.datumCode);r&&(i.datum_params=r.towgs84?r.towgs84.split(","):null,i.ellps=r.ellipse,i.datumName=r.datumName?r.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84";var o,s,a,h,c,l,u,d=function(t,e,i,n,r){if(!t){var o=j(at,n);o||(o=ht),t=o.a,e=o.b,i=o.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<b)&&(r=!0,e=t),{a:t,b:e,rf:i,sphere:r}}(i.a,i.b,i.rf,i.ellps,i.sphere),p=(o=d.a,s=d.b,d.rf,a=i.R_A,l=((h=o*o)-(c=s*s))/h,u=0,a?(h=(o*=1-l*(_+l*(y+l*m)))*o,l=0):u=Math.sqrt(l),{es:l,e:u,ep2:(h-c)/c}),f=i.datum||lt(i.datumCode,i.datum_params,d.a,d.b,p.es,p.ep2);q(this,i),q(this,n),this.a=d.a,this.b=d.b,this.rf=d.rf,this.sphere=d.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=f,this.init(),e(null,this)}else e(t)}else e(t)}ut.projections=st,ut.projections.start();var dt=ut;function pt(t){return t===u||t===d}var ft=function(t,e,i){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===u?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==d||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?i:t.datum_type===f||e.datum_type===f?i:t.es!==e.es||t.a!==e.a||pt(t.datum_type)||pt(e.datum_type)?(i=function(t,e,i){var n,r,o,s,a=t.x,h=t.y,c=t.z?t.z:0;if(h<-v&&h>-1.001*v)h=-v;else if(h>v&&h<1.001*v)h=v;else{if(h<-v)return{x:-1/0,y:-1/0,z:t.z};if(h>v)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(h),s=Math.cos(h),o=r*r,{x:((n=i/Math.sqrt(1-e*o))+c)*s*Math.cos(a),y:(n+c)*s*Math.sin(a),z:(n*(1-e)+c)*r}}(i,t.es,t.a),pt(t.datum_type)&&(i=function(t,e,i){if(e===u)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===d){var n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],h=i[5],c=i[6];return{x:c*(t.x-h*t.y+a*t.z)+n,y:c*(h*t.x+t.y-s*t.z)+r,z:c*(-a*t.x+s*t.y+t.z)+o}}}(i,t.datum_type,t.datum_params)),pt(e.datum_type)&&(i=function(t,e,i){if(e===u)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===d){var n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],h=i[5],c=i[6],l=(t.x-n)/c,p=(t.y-r)/c,f=(t.z-o)/c;return{x:l+h*p-a*f,y:-h*l+p+s*f,z:a*l-s*p+f}}}(i,e.datum_type,e.datum_params)),function(t,e,i,n){var r,o,s,a,h,c,l,u,d,p,f,g,v,_,y,m=t.x,b=t.y,x=t.z?t.z:0;if(r=Math.sqrt(m*m+b*b),o=Math.sqrt(m*m+b*b+x*x),r/i<1e-12){if(_=0,o/i<1e-12)return y=-n,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(b,m);s=x/o,u=(a=r/o)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*a*a)),d=s*h,v=0;do{v++,c=e*(l=i/Math.sqrt(1-e*d*d))/(l+(y=r*u+x*d-l*(1-e*d*d))),g=(f=s*(h=1/Math.sqrt(1-c*(2-c)*a*a)))*u-(p=a*(1-c)*h)*d,u=p,d=f}while(g*g>1e-24&&v<30);return{x:_,y:Math.atan(f/Math.abs(p)),z:y}}(i,e.es,e.a,e.b)):i},gt=function(t,e,i){var n,r,o,s=i.x,a=i.y,h=i.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=s,r="x"):1===o?(n=a,r="y"):(n=h,r="z"),t.axis[o]){case"e":c[r]=n;break;case"w":c[r]=-n;break;case"n":c[r]=n;break;case"s":c[r]=-n;break;case"u":void 0!==i[r]&&(c.z=n);break;case"d":void 0!==i[r]&&(c.z=-n);break;default:return null}return c},vt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},_t=function(t){yt(t.x),yt(t.y)};function yt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function mt(t,e,i){var n;return Array.isArray(i)&&(i=vt(i)),_t(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===u||t.datum.datum_type===d)&&"WGS84"!==e.datumCode||(e.datum.datum_type===u||e.datum.datum_type===d)&&"WGS84"!==t.datumCode}(t,e)&&(i=mt(t,n=new dt("WGS84"),i),t=n),"enu"!==t.axis&&(i=gt(t,!1,i)),"longlat"===t.projName?i={x:i.x*x,y:i.y*x}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=ft(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y}),"longlat"===e.projName?i={x:i.x*O,y:i.y*O}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter})),"enu"!==e.axis?gt(e,!0,i):i}var bt=dt("WGS84");function xt(t,e,i){var n,r,o;return Array.isArray(i)?(n=mt(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):(r=mt(t,e,i),2===(o=Object.keys(i)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=i[t])}),r))}function Ot(t){return t instanceof dt?t:t.oProj?t.oProj:dt(t)}var wt=function(t,e,i){t=Ot(t);var n,r=!1;return void 0===e?(e=t,t=bt,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=bt,r=!0),e=Ot(e),i?xt(t,e,i):(n={forward:function(i){return xt(t,e,i)},inverse:function(i){return xt(e,t,i)}},r&&(n.oProj=e),n)},Et=6,Mt="AJSAJS",Ct="AFAFAF",St=65,Tt=73,jt=79,Rt=86,It=90,Lt={forward:kt,inverse:function(t){var e=Nt(Gt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:Pt};function kt(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(p=t.easting,f=t.northing,g=t.zoneNumber,v=Dt(g),_=Math.floor(p/1e5),y=Math.floor(f/1e5)%20,r=_,o=y,s=v,a=s-1,h=Mt.charCodeAt(a),c=Ct.charCodeAt(a),l=h+r-1,u=c+o,d=!1,l>It&&(l=l-It+St-1,d=!0),(l===Tt||h<Tt&&l>Tt||(l>Tt||h<Tt)&&d)&&l++,(l===jt||h<jt&&l>jt||(l>jt||h<jt)&&d)&&++l===Tt&&l++,l>It&&(l=l-It+St-1),u>Rt?(u=u-Rt+St-1,d=!0):d=!1,(u===Tt||c<Tt&&u>Tt||(u>Tt||c<Tt)&&d)&&u++,(u===jt||c<jt&&u>jt||(u>jt||c<jt)&&d)&&++u===Tt&&u++,u>Rt&&(u=u-Rt+St-1),String.fromCharCode(l)+String.fromCharCode(u))+i.substr(i.length-5,e)+n.substr(n.length-5,e);var r,o,s,a,h,c,l,u,d;var p,f,g,v,_,y}(function(t){var e,i,n,r,o,s,a,h=t.lat,c=t.lon,l=6378137,u=At(h),d=At(c);a=Math.floor((c+180)/6)+1,180===c&&(a=60);h>=56&&h<64&&c>=3&&c<12&&(a=32);h>=72&&h<84&&(c>=0&&c<9?a=31:c>=9&&c<21?a=33:c>=21&&c<33?a=35:c>=33&&c<42&&(a=37));s=At(6*(a-1)-180+3),.006739496752268451,e=l/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),i=Math.tan(u)*Math.tan(u),n=.006739496752268451*Math.cos(u)*Math.cos(u),r=Math.cos(u)*(d-s),o=l*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u));var p=.9996*e*(r+(1-i+n)*r*r*r/6+(5-18*i+i*i+72*n-.39089081163157013)*r*r*r*r*r/120)+5e5,f=.9996*(o+e*Math.tan(u)*(r*r/2+(5-i+9*n+4*n*n)*r*r*r*r/24+(61-58*i+i*i+600*n-2.2240339282485886)*r*r*r*r*r*r/720));h<0&&(f+=1e7);return{northing:Math.round(f),easting:Math.round(p),zoneNumber:a,zoneLetter:function(t){var e="Z";84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C");return e}(h)}}({lat:t[1],lon:t[0]}),e)}function Pt(t){var e=Nt(Gt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function At(t){return t*(Math.PI/180)}function Ft(t){return t/Math.PI*180}function Nt(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,h,c,l,u,d,p=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=i-5e5,v=e;n<"N"&&(v-=1e7),l=6*(r-1)-180+3,d=(u=v/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*u)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*u)+151*f*f*f/96*Math.sin(6*u),o=p/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),s=Math.tan(d)*Math.tan(d),a=.006739496752268451*Math.cos(d)*Math.cos(d),h=.99330562*p/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),c=g/(.9996*o);var _=d-o*Math.tan(d)/h*(c*c/2-(5+3*s+10*a-4*a*a-.06065547077041606)*c*c*c*c/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*c*c*c*c*c*c/720);_=Ft(_);var y,m=(c-(1+2*s+a)*c*c*c/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*c*c*c*c*c/120)/Math.cos(d);if(m=l+Ft(m),t.accuracy){var b=Nt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:b.lat,right:b.lon,bottom:_,left:m}}else y={lat:_,lon:m};return y}function Dt(t){var e=t%Et;return 0===e&&(e=Et),e}function Gt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);for(var h=Dt(s),c=function(t,e){var i=Mt.charCodeAt(e-1),n=1e5,r=!1;for(;i!==t.charCodeAt(0);){if(++i===Tt&&i++,i===jt&&i++,i>It){if(r)throw"Bad character: "+t;i=St,r=!0}n+=1e5}return n}(n.charAt(0),h),l=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=Ct.charCodeAt(e-1),n=0,r=!1;for(;i!==t.charCodeAt(0);){if(++i===Tt&&i++,i===jt&&i++,i>Rt){if(r)throw"Bad character: "+t;i=St,r=!0}n+=1e5}return n}(n.charAt(1),h);l<zt(a);)l+=2e6;var u=i-o;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,f,g=u/2,v=0,_=0;return g>0&&(d=1e5/Math.pow(10,g),p=t.substring(o,o+g),v=parseFloat(p)*d,f=t.substring(o+g),_=parseFloat(f)*d),{easting:v+c,northing:_+l,zoneLetter:a,zoneNumber:s,accuracy:d}}function zt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ut(t,e,i){if(!(this instanceof Ut))return new Ut(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ut.fromMGRS=function(t){return new Ut(Pt(t))},Ut.prototype.toMGRS=function(t){return kt([this.x,this.y],t)};var Wt=Ut,Bt=i("lQeg"),Xt=.01068115234375,Yt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Xt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Xt)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},Ht=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))},Vt=function(t,e,i){for(var n=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(Ht(r,s,Math.cos(r),i)-t)*(a*Math.sqrt(a))*n,Math.abs(a)<b)return r}return r};var Kt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Yt(this.es),this.ml0=Ht(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,n,r=t.x,o=t.y,s=Q(r-this.long0),a=Math.sin(o),h=Math.cos(o);if(this.es){var c=h*s,l=Math.pow(c,2),u=this.ep2*Math.pow(h,2),d=Math.pow(u,2),p=Math.abs(h)>b?Math.tan(o):0,f=Math.pow(p,2),g=Math.pow(f,2);e=1-this.es*Math.pow(a,2),c/=Math.sqrt(e);var v=Ht(o,a,h,this.en);i=this.a*(this.k0*c*(1+l/6*(1-f+u+l/20*(5-18*f+g+14*u-58*f*u+l/42*(61+179*g-g*f-479*f)))))+this.x0,n=this.a*(this.k0*(v-this.ml0+a*s*c/2*(1+l/12*(5-f+9*u+4*d+l/30*(61+g-58*f+270*u-330*f*u+l/56*(1385+543*g-g*f-3111*f))))))+this.y0}else{var _=h*Math.sin(s);if(Math.abs(Math.abs(_)-1)<b)return 93;if(i=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,n=h*Math.cos(s)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(n))>=1){if(_-1>b)return 93;n=0}else n=Math.acos(n);o<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t},inverse:function(t){var e,i,n,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,i=Vt(e,this.es,this.en),Math.abs(i)<v){var a=Math.sin(i),h=Math.cos(i),c=Math.abs(h)>b?Math.tan(i):0,l=this.ep2*Math.pow(h,2),u=Math.pow(l,2),d=Math.pow(c,2),p=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var f=o*Math.sqrt(e)/this.k0,g=Math.pow(f,2);n=i-(e*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*d-9*l*d+l-4*u-g/30*(61+90*d-252*l*d+45*p+46*l-g/56*(1385+3633*d+4095*p+1574*p*d)))),r=Q(this.long0+f*(1-g/6*(1+2*d+l-g/20*(5+28*d+24*p+8*l*d+6*l-g/42*(61+662*d+1320*p+720*p*d))))/h)}else n=v*$(s),r=0;else{var _=Math.exp(o/this.k0),y=.5*(_-1/_),m=this.lat0+s/this.k0,x=Math.cos(m);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(y,2))),n=Math.asin(e),s<0&&(n=-n),r=0===y&&0===x?0:Q(Math.atan2(y,x)+this.long0)}return t.x=r,t.y=n,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},qt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Zt=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))},$t=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(Zt(1,e)+1))),t<0?-e:e},Qt=function(t,e){for(var i,n=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)i=n*o-s+t[r],s=o,o=i;return e+i*Math.sin(2*e)},Jt=function(t,e){for(var i,n=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)i=n*o-s+t[r],s=o,o=i;return Math.sin(e)*i},te=function(t,e,i){for(var n,r,o=Math.sin(e),s=Math.cos(e),a=qt(i),h=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(i),c=2*s*h,l=-2*o*a,u=t.length-1,d=t[u],p=0,f=0,g=0;--u>=0;)n=f,r=p,d=c*(f=d)-n-l*(p=g)+t[u],g=l*f-r+c*p;return[(c=o*h)*d-(l=s*a)*g,c*g+l*d]};var ee={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=-.03233083094085698*i,this.gtu[5]=.6650675310896665*i;var n=Qt(this.cbg,this.lat0);this.Zb=-this.Qn*(n+Jt(this.gtu,2*n))},forward:function(t){var e=Q(t.x-this.long0),i=t.y;i=Qt(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),o=Math.sin(e),s=Math.cos(e);i=Math.atan2(n,s*r),e=Math.atan2(o*r,Zt(n,r*s)),e=$t(Math.tan(e));var a,h,c=te(this.gtu,2*i,2*e);return i+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*i+this.Zb)+this.y0):(a=1/0,h=1/0),t.x=a,t.y=h,t},inverse:function(t){var e,i,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var o=te(this.utg,2*r,2*n);r+=o[0],n+=o[1],n=Math.atan(qt(n));var s=Math.sin(r),a=Math.cos(r),h=Math.sin(n),c=Math.cos(n);r=Math.atan2(s*c,Zt(h,c*a)),n=Math.atan2(h,c*a),e=Q(n+this.long0),i=Qt(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},ie=function(t,e){if(void 0===t){if((t=Math.floor(30*(Q(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var ne={init:function(){var t=ie(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*x,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ee.init.apply(this),this.forward=ee.forward,this.inverse=ee.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},re=function(t,e){return Math.pow((1-t)/(1+t),e)},oe=20;var se={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+w)/(Math.pow(Math.tan(.5*this.lat0+w),this.C)*re(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+w),this.C)*re(this.e*Math.sin(i),this.ratexp))-v,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+w)/this.K,1/this.C),r=oe;r>0&&(i=2*Math.atan(n*re(this.e*Math.sin(t.y),-.5*this.e))-v,!(Math.abs(i-t.y)<1e-14));--r)t.y=i;return r?(t.x=e,t.y=i,t):null},names:["gauss"]};var ae={init:function(){se.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,n,r;return t.x=Q(t.x-this.long0),se.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,n,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),i=Math.cos(s),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/o),n=Math.atan2(t.x*e,o*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,se.inverse.apply(this,[t]),t.x=Q(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var he={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=b&&(this.k0=.5*(1+$(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=b&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=b&&(this.k0=.5*this.cons*Z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/J(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Z(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-v,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,n,r,o,s,a=t.x,h=t.y,c=Math.sin(h),l=Math.cos(h),u=Q(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=b&&Math.abs(h+this.lat0)<=b?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*l*Math.cos(u)),t.x=this.a*e*l*Math.sin(u)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*l*Math.cos(u))+this.y0,t):(i=2*Math.atan(this.ssfn_(h,c,this.e))-v,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=b?(o=J(this.e,h*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<b?(e=2*this.a*this.k0/(1+r*Math.cos(u)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(u))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(u))+this.y0),t.x=e*r*Math.sin(u)+this.x0,t))},inverse:function(t){var e,i,n,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,i=this.lat0,s<=b?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<b?this.lat0>0?Q(this.long0+Math.atan2(t.x,-1*t.y)):Q(this.long0+Math.atan2(t.x,t.y)):Q(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=b){if(s<=b)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),i=this.con*tt(this.e,n),e=this.con*Q(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=b?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=Q(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*tt(this.e,Math.tan(.5*(v+o)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(v+t))*Math.pow((1-e)/(1+e),.5*i)}};var ce={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),o=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,h=0,c=o,l=-1e3,u=0;Math.abs(c-l)>1e-7;){if(++u>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),l=c,c=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=a,t.y=c,t},names:["somerc"]};var le={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n,r,o=J(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(s*s<1&&(s=1),isNaN(this.longc)){var a=J(this.e,this.lat1,Math.sin(this.lat1)),h=J(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var c=Math.pow(a,this.bl),l=Math.pow(h,this.bl);r=.5*((n=this.el/c)-1/n);var u=(this.el*this.el-l*c)/(this.el*this.el+l*c),d=(l-c)/(l+c),p=Q(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(u*Math.tan(.5*this.bl*p)/d)/this.bl,this.long0=Q(this.long0);var f=Q(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else n=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=n*Math.pow(o,this.bl),r=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,i,n,r=t.x,o=t.y,s=Q(r-this.long0);if(Math.abs(Math.abs(o)-v)<=b)n=o>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(w+n*this.gamma0*.5)),e=-1*n*v*this.al/this.bl;else{var a=J(this.e,o,Math.sin(o)),h=this.el/Math.pow(a,this.bl),c=.5*(h-1/h),l=.5*(h+1/h),u=Math.sin(this.bl*s),d=(c*Math.sin(this.gamma0)-u*Math.cos(this.gamma0))/l;i=Math.abs(Math.abs(d)-1)<=b?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=b?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+u*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},inverse:function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),o=.5*(n+1/n),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,h=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<b?(t.x=this.long0,t.y=v):Math.abs(a+1)<b?(t.x=this.long0,t.y=-1*v):(t.y=tt(this.e,h),t.x=Q(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var ue={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<b)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=Z(this.e,e,i),r=J(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Z(this.e,o,s),h=J(this.e,this.lat2,o),c=J(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>b?this.ns=Math.log(n/a)/Math.log(r/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=b&&(i=$(i)*(v-2*b));var n,r,o=Math.abs(Math.abs(i)-v);if(o>b)n=J(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if((o=i*this.ns)<=0)return null;r=0}var s=this.ns*Q(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,i,n,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),i=1):(e=-Math.sqrt(s*s+a*a),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*s,i*a)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=tt(this.e,n)))return null}else r=-v;return o=Q(h/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var de={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,n,r,o,s,a,h=t.x,c=t.y,l=Q(h-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),n=-l*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),o=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,n,r,o,s,a,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]},pe=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)},fe=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ge=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ve=function(t){return.05859375*t*t*(1+.75*t)},_e=function(t){return t*t*t*(35/3072)},ye=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)},me=function(t){return Math.abs(t)<v?t:t-$(t)*Math.PI},be=function(t,e,i,n,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN};var xe={init:function(){this.sphere||(this.e0=fe(this.es),this.e1=ge(this.es),this.e2=ve(this.es),this.e3=_e(this.es),this.ml0=this.a*pe(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,n=t.x,r=t.y;if(n=Q(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=ye(this.a,this.e,o),h=Math.tan(r)*Math.tan(r),c=n*Math.cos(r),l=c*c,u=this.es*s*s/(1-this.es);e=a*c*(1-l*h*(1/6-(8-h+8*u)*l/120)),i=this.a*pe(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*l*(.5+(5-h+6*u)*l/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var s=this.ml0/this.a+r,a=be(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-v)<=b)return t.x=this.long0,t.y=v,r<0&&(t.y*=-1),t;var h=ye(this.a,this.e,Math.sin(a)),c=h*h*h/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(a),2),u=n*this.a/h,d=u*u;e=a-h*Math.tan(a)/c*u*u*(.5-(1+3*l)*u*u/24),i=u*(1-d*(l/3+(1+3*l)*l*d/15))/Math.cos(a)}return t.x=Q(i+this.long0),t.y=me(e),t},names:["Cassini","Cassini_Soldner","cass"]},Oe=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e};var we=.3333333333333333,Ee=.17222222222222222,Me=.10257936507936508,Ce=.06388888888888888,Se=.0664021164021164,Te=.016415012942191543;var je={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-v)<b?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<b?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Oe(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=t*we,e=t*t,i[0]+=e*Ee,i[1]=e*Ce,e*=t,i[0]+=e*Me,i[1]+=e*Se,i[2]=e*Te,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Oe(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,n,r,o,s,a,h,c,l,u=t.x,d=t.y;if(u=Q(u-this.long0),this.sphere){if(o=Math.sin(d),l=Math.cos(d),n=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+l*n:1+this.sinph0*o+this.cosph0*l*n)<=b)return null;e=(i=Math.sqrt(2/i))*l*Math.sin(u),i*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*l*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(d+this.phi0)<b)return null;i=w-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(u),i*=n}}else{switch(a=0,h=0,c=0,n=Math.cos(u),r=Math.sin(u),o=Math.sin(d),s=Oe(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*h*n;break;case this.EQUIT:c=1+h*n;break;case this.N_POLE:c=v+d,s=this.qp-s;break;case this.S_POLE:c=d-v,s=this.qp+s}if(Math.abs(c)<b)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),i=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*h*n):(c=Math.sqrt(2/(1+h*n)))*a*this.ymf,e=this.xmf*c*h*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,i=n*(this.mode===this.S_POLE?c:-c)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,o,s,a,h,c,l,u=t.x/this.a,d=t.y/this.a;if(this.sphere){var p,f=0,g=0;if((i=.5*(p=Math.sqrt(u*u+d*d)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=b?0:Math.asin(d*g/p),u*=g,d=f*p;break;case this.OBLIQ:i=Math.abs(p)<=b?this.phi0:Math.asin(f*this.sinph0+d*g*this.cosph0/p),u*=g*this.cosph0,d=(f-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:d=-d,i=v-i;break;case this.S_POLE:i-=v}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,d):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,d*=this.dd,(s=Math.sqrt(u*u+d*d))<b)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),n=Math.cos(r),u*=r=Math.sin(r),this.mode===this.OBLIQ?(a=n*this.sinb1+d*r*this.cosb1/s,o=this.qp*a,d=s*this.cosb1*n-d*this.sinb1*r):(a=d*r/s,o=this.qp*a,d=s*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=u*u+d*d))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(u,d),h=Math.asin(a),c=this.apa,l=h+h,i=h+c[0]*Math.sin(l)+c[1]*Math.sin(l+l)+c[2]*Math.sin(l+l+l)}return t.x=Q(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Re=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Ie={init:function(){Math.abs(this.lat1+this.lat2)<b||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Z(this.e3,this.sin_po,this.cos_po),this.qs1=Oe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Z(this.e3,this.sin_po,this.cos_po),this.qs2=Oe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Oe(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>b?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=Oe(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*Q(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,i)),o=Q(r/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,n,r,o,s,a=Re(.5*e);if(t<b)return a;for(var h=t*t,c=1;c<=25;c++)if(i=Math.sin(a),n=Math.cos(a),a+=s=.5*(o=1-(r=t*i)*r)*o/n*(e/(1-h)-i/o+.5/t*Math.log((1-r)/(1+r))),Math.abs(s)<=1e-7)return a;return null}};var Le={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,n,r,o,s,a,h=t.x,c=t.y;return n=Q(h-this.long0),e=Math.sin(c),i=Math.cos(c),r=Math.cos(n),(o=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(o)<=b?(s=this.x0+1*this.a*i*Math.sin(n)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)/o):(s=this.x0+this.infinity_dist*i*Math.sin(n),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),s=Re(n*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),o=Q(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},ke=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*v:v;for(var n,r,o,s,a=Math.asin(.5*e),h=0;h<30;h++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=n=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(n)<=1e-10)return a;return NaN};var Pe={init:function(){this.sphere||(this.k0=Z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,n=t.x,r=t.y,o=Q(n-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Oe(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Q(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=ke(this.e,2*t.y*this.k0/this.a),e=Q(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]};var Ae={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,n=Q(e-this.long0),r=me(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,i=t.y;return t.x=Q(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=me(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Fe=20;var Ne={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=fe(this.es),this.e1=ge(this.es),this.e2=ve(this.es),this.e3=_e(this.es),this.ml0=this.a*pe(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,n,r=t.x,o=t.y,s=Q(r-this.long0);if(n=s*Math.sin(o),this.sphere)Math.abs(o)<=b?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(me(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=b)e=this.a*s,i=-1*this.ml0;else{var a=ye(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(n),i=this.a*pe(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,n,r,o,s,a,h,c;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=b)e=Q(n/this.a+this.long0),i=0;else{var l;for(s=this.lat0+r/this.a,a=n*n/this.a/this.a+s*s,h=s,o=Fe;o;--o)if(h+=c=-1*(s*(h*(l=Math.tan(h))+1)-h-.5*(h*h+a)*l)/((h-s)/l-1),Math.abs(c)<=b){i=h;break}e=Q(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=b)i=0,e=Q(this.long0+n/this.a);else{var u,d,p,f,g;for(s=(this.ml0+r)/this.a,a=n*n/this.a/this.a+s*s,h=s,o=Fe;o;--o)if(g=this.e*Math.sin(h),u=Math.sqrt(1-g*g)*Math.tan(h),d=this.a*pe(this.e0,this.e1,this.e2,this.e3,h),p=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=c=(s*(u*(f=d/this.a)+1)-f-.5*u*(f*f+a))/(this.es*Math.sin(2*h)*(f*f+a-2*s*f)/(4*u)+(s-f)*(u*p-2/Math.sin(2*h))-p),Math.abs(c)<=b){i=h;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=Q(this.long0+Math.asin(n*u/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]};var De={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=t.x,n=t.y-this.lat0,r=i-this.long0,o=n/g*1e-5,s=r,a=1,h=0;for(e=1;e<=10;e++)a*=o,h+=this.A[e]*a;var c,l=h,u=s,d=1,p=0,f=0,v=0;for(e=1;e<=6;e++)c=p*l+d*u,d=d*l-p*u,p=c,f=f+this.B_re[e]*d-this.B_im[e]*p,v=v+this.B_im[e]*d+this.B_re[e]*p;return t.x=v*this.a+this.x0,t.y=f*this.a+this.y0,t},inverse:function(t){var e,i,n=t.x,r=t.y,o=n-this.x0,s=(r-this.y0)/this.a,a=o/this.a,h=1,c=0,l=0,u=0;for(e=1;e<=6;e++)i=c*s+h*a,h=h*s-c*a,c=i,l=l+this.C_re[e]*h-this.C_im[e]*c,u=u+this.C_im[e]*h+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var p,f=l,v=u,_=s,y=a;for(e=2;e<=6;e++)p=v*l+f*u,f=f*l-v*u,v=p,_+=(e-1)*(this.B_re[e]*f-this.B_im[e]*v),y+=(e-1)*(this.B_im[e]*f+this.B_re[e]*v);f=1,v=0;var m=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=v*l+f*u,f=f*l-v*u,v=p,m+=e*(this.B_re[e]*f-this.B_im[e]*v),b+=e*(this.B_im[e]*f+this.B_re[e]*v);var x=m*m+b*b;l=(_*m+y*b)/x,u=(y*m-_*b)/x}var O=l,w=u,E=1,M=0;for(e=1;e<=9;e++)E*=O,M+=this.D[e]*E;var C=this.lat0+M*g*1e5,S=this.long0+w;return t.x=S,t.y=C,t},names:["New_Zealand_Map_Grid","nzmg"]};var Ge={init:function(){},forward:function(t){var e=t.x,i=t.y,n=Q(e-this.long0),r=this.x0+this.a*n,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Q(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},ze=20;var Ue={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Yt(this.es)},forward:function(t){var e,i,n=t.x,r=t.y;if(n=Q(n-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=ze;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<b)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var h=Math.sin(r),c=Math.cos(r);i=this.a*Ht(r,h,c,this.en),e=this.a*n*c/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=Re((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Re(Math.sin(e)/this.n)),n=Q(n+this.long0),e=me(e)):(e=Vt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<v?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=Q(i)):r-b<v&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]};var We={init:function(){},forward:function(t){for(var e=t.x,i=t.y,n=Q(e-this.long0),r=i,o=Math.PI*Math.sin(i);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<b)break}r/=2,Math.PI/2-Math.abs(i)<b&&(n=0);var a=.900316316158*this.a*n*Math.cos(r)+this.x0,h=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=h,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=Q(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t},names:["Mollweide","moll"]};var Be={init:function(){Math.abs(this.lat1+this.lat2)<b||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=fe(this.es),this.e1=ge(this.es),this.e2=ve(this.es),this.e3=_e(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Z(this.e,this.sinphi,this.cosphi),this.ml1=pe(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<b?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Z(this.e,this.sinphi,this.cosphi),this.ml2=pe(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=pe(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=pe(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*Q(i-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=Q(this.long0+o/this.ns),n=me(this.g-i/this.a),t.x=r,t.y=n,t;var s=this.g-i/this.a;return n=be(s,this.e0,this.e1,this.e2,this.e3),r=Q(this.long0+o/this.ns),t.x=r,t.y=n,t},names:["Equidistant_Conic","eqdc"]};var Xe={init:function(){this.R=this.a},forward:function(t){var e,i,n=t.x,r=t.y,o=Q(n-this.long0);Math.abs(r)<=b&&(e=this.x0+this.R*o,i=this.y0);var s=Re(2*Math.abs(r/Math.PI));(Math.abs(o)<=b||Math.abs(Math.abs(r)-v)<=b)&&(e=this.x0,i=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),h=a*a,c=Math.sin(s),l=Math.cos(s),u=l/(c+l-1),d=u*u,p=u*(2/c-1),f=p*p,g=Math.PI*this.R*(a*(u-f)+Math.sqrt(h*(u-f)*(u-f)-(f+h)*(d-f)))/(f+h);o<0&&(g=-g),e=this.x0+g;var _=h+u;return g=Math.PI*this.R*(p*_-a*Math.sqrt((f+h)*(h+1)-_*_))/(f+h),i=r>=0?this.y0+g:this.y0-g,t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r,o,s,a,h,c,l,u,d;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,o=(n=t.x/u)*n+(r=t.y/u)*r,u=3*(r*r/(h=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+n*n)*a*a/h/h/h-9*s*a/h/h)/27)/(c=(s-a*a/3/h)/h)/(l=2*Math.sqrt(-c/3)),Math.abs(u)>1&&(u=u>=0?1:-1),d=Math.acos(u)/3,i=t.y>=0?(-l*Math.cos(d+Math.PI/3)-a/3/h)*Math.PI:-(-l*Math.cos(d+Math.PI/3)-a/3/h)*Math.PI,e=Math.abs(n)<b?this.long0:Q(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(n*n-r*r)+o*o))/2/n),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Ye={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,o,s,a,h,c,l,u,d,p,f,g,_,y,m,x,O,w,E,M=t.x,C=t.y,S=Math.sin(t.y),T=Math.cos(t.y),j=Q(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=b?(t.x=this.x0+this.a*(v-C)*Math.sin(j),t.y=this.y0-this.a*(v-C)*Math.cos(j),t):Math.abs(this.sin_p12+1)<=b?(t.x=this.x0+this.a*(v+C)*Math.sin(j),t.y=this.y0+this.a*(v+C)*Math.cos(j),t):(m=this.sin_p12*S+this.cos_p12*T*Math.cos(j),y=(_=Math.acos(m))/Math.sin(_),t.x=this.x0+this.a*y*T*Math.sin(j),t.y=this.y0+this.a*y*(this.cos_p12*S-this.sin_p12*T*Math.cos(j)),t):(e=fe(this.es),i=ge(this.es),n=ve(this.es),r=_e(this.es),Math.abs(this.sin_p12-1)<=b?(o=this.a*pe(e,i,n,r,v),s=this.a*pe(e,i,n,r,C),t.x=this.x0+(o-s)*Math.sin(j),t.y=this.y0-(o-s)*Math.cos(j),t):Math.abs(this.sin_p12+1)<=b?(o=this.a*pe(e,i,n,r,v),s=this.a*pe(e,i,n,r,C),t.x=this.x0+(o+s)*Math.sin(j),t.y=this.y0+(o+s)*Math.cos(j),t):(a=S/T,h=ye(this.a,this.e,this.sin_p12),c=ye(this.a,this.e,S),l=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(c*T)),x=0===(u=Math.atan2(Math.sin(j),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(j)))?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(u)-Math.PI)<=b?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(j)*Math.cos(l)/Math.sin(u)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),_=h*x*(1-(O=x*x)*(g=(p=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es))*p)*(1-g)/6+(w=O*x)/8*(f=d*p)*(1-2*g)+(E=w*x)/120*(g*(4-7*g)-3*d*d*(1-7*g))-E*x/48*f),t.x=this.x0+_*Math.sin(u),t.y=this.y0+_*Math.cos(u),t))},inverse:function(t){var e,i,n,r,o,s,a,h,c,l,u,d,p,f,g,_,y,m,x,O,w,E;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*v*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),o=this.long0,Math.abs(e)<=b?s=this.lat0:(s=Re(r*this.sin_p12+t.y*n*this.cos_p12/e),a=Math.abs(this.lat0)-v,o=Math.abs(a)<=b?this.lat0>=0?Q(this.long0+Math.atan2(t.x,-t.y)):Q(this.long0-Math.atan2(-t.x,t.y)):Q(this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=o,t.y=s,t}return h=fe(this.es),c=ge(this.es),l=ve(this.es),u=_e(this.es),Math.abs(this.sin_p12-1)<=b?(d=this.a*pe(h,c,l,u,v),e=Math.sqrt(t.x*t.x+t.y*t.y),s=be((d-e)/this.a,h,c,l,u),o=Q(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=b?(d=this.a*pe(h,c,l,u,v),e=Math.sqrt(t.x*t.x+t.y*t.y),s=be((e-d)/this.a,h,c,l,u),o=Q(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=ye(this.a,this.e,this.sin_p12),_=Math.cos(g),m=-(y=this.e*this.cos_p12*_)*y/(1-this.es),x=3*this.es*(1-m)*this.sin_p12*this.cos_p12*_/(1-this.es),E=1-m*(w=(O=e/p)-m*(1+m)*Math.pow(O,3)/6-x*(1+3*m)*Math.pow(O,4)/24)*w/2-O*w*w*w/6,f=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*_),o=Q(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(f))),s=Math.atan((1-this.es*E*this.sin_p12/Math.sin(f))*Math.tan(f)/(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var He={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,o,s,a,h=t.x,c=t.y;return n=Q(h-this.long0),e=Math.sin(c),i=Math.cos(c),r=Math.cos(n),((o=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(o)<=b)&&(s=1*this.a*i*Math.sin(n),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=s,t.y=a,t},inverse:function(t){var e,i,n,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=Re(e/this.a),n=Math.sin(i),r=Math.cos(i),s=this.long0,Math.abs(e)<=b?(a=this.lat0,t.x=s,t.y=a,t):(a=Re(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.abs(this.lat0)-v,Math.abs(o)<=b?(s=this.lat0>=0?Q(this.long0+Math.atan2(t.x,-t.y)):Q(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=Q(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=s,t.y=a,t))},names:["ortho"]},Ve={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ke={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function qe(t,e,i,n){var r;return t<b?(n.value=Ke.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)<=w?n.value=Ke.AREA_0:r>w&&r<=v+w?(n.value=Ke.AREA_1,r-=v):r>v+w||r<=-(v+w)?(n.value=Ke.AREA_2,r=r>=0?r-M:r+M):(n.value=Ke.AREA_3,r+=v)),r}function Ze(t,e){var i=t+e;return i<-M?i+=E:i>+M&&(i-=E),i}var $e={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=v-w/2?this.face=Ve.TOP:this.lat0<=-(v-w/2)?this.face=Ve.BOTTOM:Math.abs(this.long0)<=w?this.face=Ve.FRONT:Math.abs(this.long0)<=v+w?this.face=this.long0>0?Ve.RIGHT:Ve.LEFT:this.face=Ve.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,n,r,o,s,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===Ve.TOP)r=v-e,i>=w&&i<=v+w?(h.value=Ke.AREA_0,n=i-v):i>v+w||i<=-(v+w)?(h.value=Ke.AREA_1,n=i>0?i-M:i+M):i>-(v+w)&&i<=-w?(h.value=Ke.AREA_2,n=i+v):(h.value=Ke.AREA_3,n=i);else if(this.face===Ve.BOTTOM)r=v+e,i>=w&&i<=v+w?(h.value=Ke.AREA_0,n=-i+v):i<w&&i>=-w?(h.value=Ke.AREA_1,n=-i):i<-w&&i>=-(v+w)?(h.value=Ke.AREA_2,n=-i-v):(h.value=Ke.AREA_3,n=i>0?-i+M:-i-M);else{var c,l,u,d,p,f;this.face===Ve.RIGHT?i=Ze(i,+v):this.face===Ve.BACK?i=Ze(i,+M):this.face===Ve.LEFT&&(i=Ze(i,-v)),d=Math.sin(e),p=Math.cos(e),f=Math.sin(i),c=p*Math.cos(i),l=p*f,u=d,this.face===Ve.FRONT?n=qe(r=Math.acos(c),u,l,h):this.face===Ve.RIGHT?n=qe(r=Math.acos(l),u,-c,h):this.face===Ve.BACK?n=qe(r=Math.acos(-c),u,-l,h):this.face===Ve.LEFT?n=qe(r=Math.acos(-l),u,c,h):(r=n=0,h.value=Ke.AREA_0)}return s=Math.atan(12/M*(n+Math.acos(Math.sin(n)*Math.cos(w))-v)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(n))))),h.value===Ke.AREA_1?s+=v:h.value===Ke.AREA_2?s+=M:h.value===Ke.AREA_3&&(s+=1.5*M),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,i,n,r,o,s,a,h,c,l,u,d,p={lam:0,phi:0},f={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?f.value=Ke.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(f.value=Ke.AREA_1,e-=v):t.x<0&&-t.x>=Math.abs(t.y)?(f.value=Ke.AREA_2,e=e<0?e+M:e-M):(f.value=Ke.AREA_3,e+=v),c=M/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(n=Math.cos(e))*n*(r=Math.tan(i))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===Ve.TOP)h=Math.acos(a),p.phi=v-h,f.value===Ke.AREA_0?p.lam=s+v:f.value===Ke.AREA_1?p.lam=s<0?s+M:s-M:f.value===Ke.AREA_2?p.lam=s-v:p.lam=s;else if(this.face===Ve.BOTTOM)h=Math.acos(a),p.phi=h-v,f.value===Ke.AREA_0?p.lam=-s+v:f.value===Ke.AREA_1?p.lam=-s:f.value===Ke.AREA_2?p.lam=-s-v:p.lam=s<0?-s-M:-s+M;else{var g,_,y;c=(g=a)*g,_=(c+=(y=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*y)>=1?0:Math.sqrt(1-c),f.value===Ke.AREA_1?(c=_,_=-y,y=c):f.value===Ke.AREA_2?(_=-_,y=-y):f.value===Ke.AREA_3&&(c=_,_=y,y=-c),this.face===Ve.RIGHT?(c=g,g=-_,_=c):this.face===Ve.BACK?(g=-g,_=-_):this.face===Ve.LEFT&&(c=g,g=_,_=-c),p.phi=Math.acos(-y)-v,p.lam=Math.atan2(_,g),this.face===Ve.RIGHT?p.lam=Ze(p.lam,-v):this.face===Ve.BACK?p.lam=Ze(p.lam,-M):this.face===Ve.LEFT&&(p.lam=Ze(p.lam,+v))}return 0!==this.es&&(l=p.phi<0?1:0,u=Math.tan(p.phi),d=this.b/Math.sqrt(u*u+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),l&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Qe=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Je=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ti=.8487,ei=1.3523,ii=O/5,ni=1/ii,ri=18,oi=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},si=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var ai,hi={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Q(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*ii);n<0?n=0:n>=ri&&(n=ri-1),i=O*(i-ni*n);var r={x:oi(Qe[n],i)*e,y:oi(Je[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*ti+this.x0,r.y=r.y*this.a*ei+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*ti),y:Math.abs(t.y-this.y0)/(this.a*ei)};if(e.y>=1)e.x/=Qe[ri][0],e.y=t.y<0?-v:v;else{var i=Math.floor(e.y*ri);for(i<0?i=0:i>=ri&&(i=ri-1);;)if(Je[i][0]>e.y)--i;else{if(!(Je[i+1][0]<=e.y))break;++i}var n=Je[i],r=5*(e.y-n[0])/(Je[i+1][0]-n[0]);r=function(t,e,i,n){for(var r=e;n;--n){var o=t(r);if(r-=o,Math.abs(o)<i)break}return r}(function(t){return(oi(n,t)-e.y)/si(n,t)},r,b,100),e.x/=oi(Qe[i],r),e.y=(5*i+r)*x,t.y<0&&(e.y=-e.y)}return e.x=Q(e.x+this.long0),e},names:["Robinson","robin"]};wt.defaultDatum="WGS84",wt.Proj=dt,wt.WGS84=new wt.Proj("WGS84"),wt.Point=Wt,wt.toPoint=vt,wt.defs=Y,wt.transform=mt,wt.mgrs=Lt,wt.version=Bt.version,(ai=wt).Proj.projections.add(Kt),ai.Proj.projections.add(ee),ai.Proj.projections.add(ne),ai.Proj.projections.add(ae),ai.Proj.projections.add(he),ai.Proj.projections.add(ce),ai.Proj.projections.add(le),ai.Proj.projections.add(ue),ai.Proj.projections.add(de),ai.Proj.projections.add(xe),ai.Proj.projections.add(je),ai.Proj.projections.add(Ie),ai.Proj.projections.add(Le),ai.Proj.projections.add(Pe),ai.Proj.projections.add(Ae),ai.Proj.projections.add(Ne),ai.Proj.projections.add(De),ai.Proj.projections.add(Ge),ai.Proj.projections.add(Ue),ai.Proj.projections.add(We),ai.Proj.projections.add(Be),ai.Proj.projections.add(Xe),ai.Proj.projections.add(Ye),ai.Proj.projections.add(He),ai.Proj.projections.add($e),ai.Proj.projections.add(hi);var ci=wt,li=(i("ktr9"),i("beEN"),i("/n6Q"),i("yQMH")),ui=(i("BwfY"),i("fS6E"),i("i/C/"),i("oM7Q"),i("3ciB")),di=i("AU1m"),pi={ADD:"add",REMOVE:"remove"},fi=i("XOen"),gi=i("LKHy"),vi="length",_i=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a),yi=function(t){function e(e,i){t.call(this);var n=i||{};if(this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(vi)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new _i(pi.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new _i(pi.REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new _i(pi.REMOVE,n)),this.dispatchEvent(new _i(pi.ADD,e))}else{for(var r=i;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(vi,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new di.a(58)},e}(fi.a),mi=function(t){function e(e,i,n){t.call(this,e),this.map=i,this.frameState=void 0!==n?n:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a),bi=function(t){function e(e,i,n,r,o){t.call(this,e,i,o),this.originalEvent=n,this.pixel=i.getEventPixel(n),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(mi),xi=i("4acs"),Oi=i("Vni7"),wi=function(t){function e(e,i,n,r,o){t.call(this,e,i,n.originalEvent,r,o),this.pointerEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(bi),Ei=i("6t+W"),Mi=i("bhTf"),Ci={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Si=function(t,e){this.dispatcher=t,this.mapping_=e};Si.prototype.getEvents=function(){return Object.keys(this.mapping_)},Si.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var Ti=Si,ji=1,Ri="mouse";function Ii(t){if(!this.isEventSimulatedFromTouch_(t)){ji.toString()in this.pointerMap&&this.cancel(t);var e=Fi(t,this.dispatcher);this.pointerMap[ji.toString()]=t,this.dispatcher.down(e,t)}}function Li(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Fi(t,this.dispatcher);this.dispatcher.move(e,t)}}function ki(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[ji.toString()];if(e&&e.button===t.button){var i=Fi(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function Pi(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Fi(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function Ai(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Fi(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function Fi(t,e){var i=e.cloneEvent(t,t),n=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),n()},i.pointerId=ji,i.isPrimary=!0,i.pointerType=Ri,i}var Ni=function(t){function e(e){var i={mousedown:Ii,mousemove:Li,mouseup:ki,mouseover:Pi,mouseout:Ai};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,n=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(i-s[0]),h=Math.abs(n-s[1]);if(a<=25&&h<=25)return!0}return!1},e.prototype.cancel=function(t){var e=Fi(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[ji.toString()]},e}(Ti),Di=["","unavailable","touch","pen","mouse"];function Gi(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function zi(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function Ui(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function Wi(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function Bi(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function Xi(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function Yi(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function Hi(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var Vi=function(t){function e(e){var i={MSPointerDown:Gi,MSPointerMove:zi,MSPointerUp:Ui,MSPointerOut:Wi,MSPointerOver:Bi,MSPointerCancel:Xi,MSGotPointerCapture:Hi,MSLostPointerCapture:Yi};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=Di[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(Ti);function Ki(t){this.dispatcher.fireNativeEvent(t)}function qi(t){this.dispatcher.fireNativeEvent(t)}function Zi(t){this.dispatcher.fireNativeEvent(t)}function $i(t){this.dispatcher.fireNativeEvent(t)}function Qi(t){this.dispatcher.fireNativeEvent(t)}function Ji(t){this.dispatcher.fireNativeEvent(t)}function tn(t){this.dispatcher.fireNativeEvent(t)}function en(t){this.dispatcher.fireNativeEvent(t)}var nn=function(t){function e(e){var i={pointerdown:Ki,pointermove:qi,pointerup:Zi,pointerout:$i,pointerover:Qi,pointercancel:Ji,gotpointercapture:en,lostpointercapture:tn};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ti),rn=!1,on=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var r=n||{};this.buttons=function(t){var e;if(t.buttons||rn)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){var i=0;i=t.pressure?t.pressure:e?.5:0;return i}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);!function(){try{var t=new MouseEvent("click",{buttons:1});rn=1===t.buttons}catch(t){}}();var sn=on,an=i("zF6X");function hn(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function cn(t){this.processTouches_(t,this.moveOverOut_)}function ln(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function un(t){this.processTouches_(t,this.cancelOut_)}var dn=function(t){function e(e,i){var n={touchstart:hn,touchmove:cn,touchend:ln,touchcancel:un};t.call(this,e,n),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&ji.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),n=i.length;function r(){t.preventDefault()}for(var o=0;o<n;++o){var s=this.touchToPointer_(t,i[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,n=0;n<i;n++){if(t[n].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),n=i.length;if(n>=e.length){for(var r=[],o=0;o<n;++o){var s=Number(i[o]),a=this.pointerMap[s];s==ji||this.findTouch_(e,s-2)||r.push(a.out)}for(var h=0;h<r.length;++h)this.cancelOut_(t,r[h])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,n=this.pointerMap[i.pointerId];if(n){var r=n.out,o=n.outTarget;this.dispatcher.move(i,t),r&&o!==i.target&&(r.relatedTarget=i.target,i.relatedTarget=o,r.target=o,i.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(i,t)):(i.target=o,i.relatedTarget=null,this.cancelOut_(t,i))),n.out=i,n.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var n=[i.clientX,i.clientY];e.push(n),setTimeout(function(){Object(an.h)(e,n)},this.dedupTimeout_)}},e}(Ti),pn=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],fn=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(xi.f)this.registerSource("native",new nn(this));else if(xi.e)this.registerSource("ms",new Vi(this));else{var t=new Ni(this);this.registerSource("mouse",t),xi.h&&this.registerSource("touch",new dn(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,n=i.getEvents();n&&(n.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(Ei.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(Ei.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},n=0,r=pn.length;n<r;n++){var o=pn[n][0];i[o]=t[o]||e[o]||pn[n][1]}return i},e.prototype.down=function(t,e){this.fireEvent(Ci.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(Ci.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(Ci.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(Ci.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(Ci.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(Ci.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(Ci.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(Ci.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new sn(t,i,e)},e.prototype.fireEvent=function(t,e,i){var n=this.makeEvent(t,e,i);this.dispatchEvent(n)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Fi(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(Mi.a),gn=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*xi.b:xi.b,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new fn(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(Ei.a)(this.pointerEventHandler_,Ci.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(Ei.a)(this.pointerEventHandler_,Ci.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new wi(Oi.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new wi(Oi.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new wi(Oi.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Oi.a.POINTERUP||e.type==Oi.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Oi.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new wi(Oi.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Ei.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new wi(Oi.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new fn(document),this.dragListenerKeys_.push(Object(Ei.a)(this.documentPointerEventHandler_,Oi.a.POINTERMOVE,this.handlePointerMove_,this),Object(Ei.a)(this.documentPointerEventHandler_,Oi.a.POINTERUP,this.handlePointerUp_,this),Object(Ei.a)(this.pointerEventHandler_,Oi.a.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new wi(Oi.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new wi(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(Ei.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(Ei.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ei.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(Mi.a),vn=i("Nhaw"),_n={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},yn=i("hTFF"),mn=i("XDHy"),bn=i("DL7K"),xn=i("57Gy"),On=i("OEyb"),wn=i("tFCN"),En=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};En.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(wn.b)(this.queuedElements_)},En.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},En.prototype.enqueue=function(t){Object(On.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},En.prototype.getCount=function(){return this.elements_.length},En.prototype.getLeftChildIndex_=function(t){return 2*t+1},En.prototype.getRightChildIndex_=function(t){return 2*t+2},En.prototype.getParentIndex_=function(t){return t-1>>1},En.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},En.prototype.isEmpty=function(){return 0===this.elements_.length},En.prototype.isKeyQueued=function(t){return t in this.queuedElements_},En.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},En.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,r=e[t],o=i[t],s=t;t<n>>1;){var a=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),c=h<n&&i[h]<i[a]?h:a;e[t]=e[c],i[t]=i[c],t=c}e[t]=r,i[t]=o,this.siftDown_(s,t)},En.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,r=i[e],o=n[e];e>t;){var s=this.getParentIndex_(e);if(!(n[s]>o))break;i[e]=i[s],n[e]=n[s],e=s}i[e]=r,n[e]=o},En.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(i=n(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=i,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var Mn=function(t){function e(e,i){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var n=e[0];Object(Ei.a)(n,xn.a.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===bn.a.LOADED||i===bn.a.ERROR||i===bn.a.EMPTY||i===bn.a.ABORT){Object(Ei.c)(e,xn.a.CHANGE,this.handleTileChange,this);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,n,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),(i=n.getState())===bn.a.ABORT?s=!0:i!==bn.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,n.load());0===o&&s&&this.tileChangeCallback_()},e}(En),Cn=i("Wrfv"),Sn=i("V2dr"),Tn=i("o1z/");function jn(t){return t}function Rn(t,e){return void 0!==t?0:void 0}function In(t,e){return void 0!==t?t+e:void 0}var Ln=0,kn=1,Pn="center",An="resolution",Fn="rotation";i("J23v");function Nn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Dn(t,e){var i,n,r=t[0],o=t[1],s=e[0],a=e[1],h=s[0],c=s[1],l=a[0],u=a[1],d=l-h,p=u-c,f=0===d&&0===p?0:(d*(r-h)+p*(o-c))/(d*d+p*p||0);return f<=0?(i=h,n=c):f>=1?(i=l,n=u):(i=h+f*d,n=c+f*p),[i,n]}function Gn(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}function zn(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function Un(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[0]*i-t[1]*n,o=t[1]*i+t[0]*n;return t[0]=r,t[1]=o,t}function Wn(t,e){return t[0]*=e,t[1]*=e,t}function Bn(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function Xn(t,e){return Math.sqrt(Bn(t,e))}function Yn(t,e){return Bn(t,Dn(t,e))}var Hn=i("2S6f"),Vn=i("/LWt"),Kn=i("Fu+J"),qn=i("ZYQ1"),Zn=i("vv/+"),$n=0;function Qn(t,e){setTimeout(function(){t(e)},0)}function Jn(t){return!(t.sourceCenter&&t.targetCenter&&!zn(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var tr=function(t){function e(e){t.call(this);var i=Object(wn.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(h.f)(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[Pn]=void 0!==t.center?t.center:null;var i=function(t){var e,i,n,r=void 0!==t.minZoom?t.minZoom:$n,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var a=t.resolutions;i=a[r],n=void 0!==a[o]?a[o]:a[a.length-1],e=function(t){return function(e,i,n){if(void 0!==e){var r=Object(an.f)(t,e,n);r=Object(Tn.a)(r+i,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var s=t[o]/t[o+1];return t[o]/Math.pow(s,r-o)}return t[o]}}}(a)}else{var c=Object(h.f)(t.projection,"EPSG:3857"),l=c.getExtent(),u=l?Math.max(Object(Vn.E)(l),Object(Vn.A)(l)):360*h.a[Zn.b.DEGREES]/c.getMetersPerUnit(),d=u/Cn.b/Math.pow(2,$n),p=d/Math.pow(2,28-$n);void 0!==(i=t.maxResolution)?r=0:i=d/Math.pow(s,r),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(s,o):d/Math.pow(s,o):p),o=r+Math.floor(Math.log(i/n)/Math.log(s)),n=i/Math.pow(s,o-r),e=function(t,e,i){return function(n,r,o){if(void 0!==n){var s=-o/2+.5,a=Math.floor(Math.log(e/n)/Math.log(t)+s),h=Math.max(a+r,0);return void 0!==i&&(h=Math.min(h,i)),e/Math.pow(t,h)}}}(s,i,o-r)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:r,zoomFactor:s}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var n=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(Tn.a)(t[0],e[0],e[2]),Object(Tn.a)(t[1],e[1],e[3])]:void 0}):jn;var e}(t),r=i.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=r||Object(Tn.i)(5),function(t,e){return void 0!==t?Math.abs(t+e)<=o?0:t+e:void 0}):!1===e?In:"number"==typeof e?(i=e,n=2*Math.PI/i,function(t,e){return void 0!==t?t=Math.floor((t+e)/n+.5)*n:void 0}):In}return Rn;var i,n;var r,o}(t);this.constraints_={center:n,resolution:r,rotation:o},void 0!==t.resolution?e[An]=t.resolution:void 0!==t.zoom&&(e[An]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[An]=Object(Tn.a)(Number(this.getResolution()||e[An]),this.minResolution_,this.maxResolution_))),e[Fn]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(wn.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(wn.a)({},e,t)},e.prototype.animate=function(t){var e,i=arguments,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Qn(e,!0))}for(var o=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),h=this.getRotation(),c=[],l=0;l<n;++l){var u=i[l],d={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||Hn.c};if(u.center&&(d.sourceCenter=s,d.targetCenter=u.center,s=d.targetCenter),void 0!==u.zoom?(d.sourceResolution=a,d.targetResolution=this.constrainResolution(this.maxResolution_,u.zoom-this.minZoom_,0),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),void 0!==u.rotation){d.sourceRotation=h;var p=Object(Tn.d)(u.rotation-h+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=h+p,h=d.targetRotation}d.callback=e,Jn(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(Ln,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Ln]>0},e.prototype.getInteracting=function(){return this.hints_[kn]>0},e.prototype.cancelAnimations=function(){this.setHint(Ln,-this.hints_[Ln]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&Qn(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],r=!0,o=0,s=n.length;o<s;++o){var a=n[o];if(!a.complete){var h=t-a.start,c=a.duration>0?h/a.duration:1;c>=1?(a.complete=!0,c=1):r=!1;var l=a.easing(c);if(a.sourceCenter){var u=a.sourceCenter[0],d=a.sourceCenter[1],p=u+l*(a.targetCenter[0]-u),f=d+l*(a.targetCenter[1]-d);this.set(Pn,[p,f])}if(a.sourceResolution&&a.targetResolution){var g=1===l?a.targetResolution:a.sourceResolution+l*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(Pn,this.calculateCenterZoom(g,a.anchor)),this.set(An,g)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var v=1===l?Object(Tn.d)(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+l*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(Pn,this.calculateCenterRotate(v,a.anchor)),this.set(Fn,v)}if(e=!0,!a.complete)break}}if(r){this.animations_[i]=null,this.setHint(Ln,-1);var _=n[0].callback;_&&Qn(_,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,n=this.getCenter();return void 0!==n&&(Un(i=[n[0]-e[0],n[1]-e[1]],t-this.getRotation()),Nn(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenter(),r=this.getResolution();void 0!==n&&void 0!==r&&(i=[e[0]-t*(e[0]-n[0])/r,e[1]-t*(e[1]-n[1])/r]);return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(ui.c)(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var n=e||0,r=i||0;return this.constraints_.resolution(t,n,r)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(Pn)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();Object(On.a)(i,1);var n=this.getResolution();Object(On.a)(void 0!==n,2);var r=this.getRotation();return Object(On.a)(void 0!==r,3),Object(Vn.z)(i,n,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(An)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),n=Object(Vn.E)(t)/i[0],r=Object(Vn.A)(t)/i[1];return Math.max(n,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(Fn)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),n=this.getResolution(),r=n/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==i?i:null,resolution:n,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var r=Object(an.f)(this.resolutions_,t,1);n=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,n=e||{},r=n.size;r||(r=this.getSizeFromViewport_()),Object(On.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(On.a)(!Object(Vn.H)(t),25),i=Object(qn.c)(t)):t.getType()===Kn.a.CIRCLE?(t=t.getExtent(),(i=Object(qn.c)(t)).rotate(this.getRotation(),Object(Vn.x)(t))):i=t;var o,s=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0===n.constrainResolution||n.constrainResolution,h=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var c=i.getFlatCoordinates(),l=this.getRotation(),u=Math.cos(-l),d=Math.sin(-l),p=1/0,f=1/0,g=-1/0,v=-1/0,_=i.getStride(),y=0,m=c.length;y<m;y+=_){var b=c[y]*u-c[y+1]*d,x=c[y]*d+c[y+1]*u;p=Math.min(p,b),f=Math.min(f,x),g=Math.max(g,b),v=Math.max(v,x)}var O=this.getResolutionForExtent([p,f,g,v],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);if(O=isNaN(O)?o:Math.max(O,o),a){var w=this.constrainResolution(O,0,0);!h&&w<O&&(w=this.constrainResolution(w,-1,0)),O=w}d=-d;var E=(p+g)/2,M=(f+v)/2,C=[(E+=(s[1]-s[3])/2*O)*u-(M+=(s[0]-s[2])/2*O)*d,M*u+E*d],S=n.callback?n.callback:Sn.c;void 0!==n.duration?this.animate({resolution:O,center:C,duration:n.duration,easing:n.easing},S):(this.setResolution(O),this.setCenter(C),Qn(S,!0))},e.prototype.centerOn=function(t,e,i){var n=this.getRotation(),r=Math.cos(-n),o=Math.sin(-n),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,h=this.getResolution(),c=(s+=(e[0]/2-i[0])*h)*r-(a+=(i[1]-e[1]/2)*h)*(o=-o),l=a*r+s*o;this.setCenter([c,l])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(Pn,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(An,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(Fn,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(fi.a),er=i("w2Al"),ir=i("OrOo"),nr=i("9Ewl"),rr={LAYERS:"layers"},or=function(t){function e(e){var i=e||{},n=Object(wn.a)({},i);delete n.layers;var r=i.layers;t.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},Object(Ei.a)(this,Object(fi.b)(rr.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new yi(r.slice(),{unique:!0}):Object(On.a)("function"==typeof r.getArray,43):r=new yi(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ei.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(Ei.a)(t,pi.ADD,this.handleLayersAdd_,this),Object(Ei.a)(t,pi.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Ei.e);Object(wn.b)(this.listenerKeys_);for(var i=t.getArray(),n=0,r=i.length;n<r;n++){var o=i[n];this.listenerKeys_[Object(ui.c)(o)]=[Object(Ei.a)(o,mn.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(Ei.a)(o,xn.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(ui.c)(e)]=[Object(Ei.a)(e,mn.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(Ei.a)(e,xn.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(ui.c)(e);this.listenerKeys_[i].forEach(Ei.e),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(rr.LAYERS)},e.prototype.setLayers=function(t){this.set(rr.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var n=this.getLayerState(),r=i,o=e.length;r<o;r++){var s=e[r];s.opacity*=n.opacity,s.visible=s.visible&&n.visible,s.maxResolution=Math.min(s.maxResolution,n.maxResolution),s.minResolution=Math.max(s.minResolution,n.minResolution),void 0!==n.extent&&(void 0!==s.extent?s.extent=Object(Vn.B)(s.extent,n.extent):s.extent=n.extent)}return e},e.prototype.getSourceState=function(){return nr.a.READY},e}(ir.a),sr=i("xifc"),ar=i("azsZ");var hr=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,r,o={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new or({layers:t.layers});o[_n.LAYERGROUP]=s,o[_n.TARGET]=t.target,o[_n.VIEW]=void 0!==t.view?t.view:new tr,void 0!==t.controls&&(Array.isArray(t.controls)?i=new yi(t.controls.slice()):(Object(On.a)("function"==typeof t.controls.getArray,47),i=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new yi(t.interactions.slice()):(Object(On.a)("function"==typeof t.interactions.getArray,48),n=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?r=new yi(t.overlays.slice()):(Object(On.a)("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new yi;return{controls:i,interactions:n,keyboardEventTarget:e,overlays:r,values:o}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:xi.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(ar.c)(),this.pixelToCoordinateTransform_=Object(ar.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(xi.h?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[xn.a.CLICK,xn.a.DBLCLICK,xn.a.MOUSEDOWN,xn.a.TOUCHSTART,xn.a.MSPOINTERDOWN,Oi.a.POINTERDOWN,xn.a.MOUSEWHEEL,xn.a.WHEEL],r=0,o=n.length;r<o;++r)Object(Ei.a)(this.overlayContainerStopEvent_,n[r],gi.b);for(var s in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new gn(this,e.moveTolerance),Oi.a)Object(Ei.a)(this.mapBrowserEventHandler_,Oi.a[s],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,Object(Ei.a)(this.viewport_,xn.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(Ei.a)(this.viewport_,xn.a.WHEEL,this.handleBrowserEvent,this),Object(Ei.a)(this.viewport_,xn.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new yi,this.interactions=i.interactions||new yi,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Mn(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(Ei.a)(this,Object(fi.b)(_n.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(Ei.a)(this,Object(fi.b)(_n.VIEW),this.handleViewChanged_,this),Object(Ei.a)(this,Object(fi.b)(_n.SIZE),this.handleSizeChanged_,this),Object(Ei.a)(this,Object(fi.b)(_n.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(Ei.a)(this.controls,pi.ADD,function(t){t.element.setMap(this)},this),Object(Ei.a)(this.controls,pi.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(Ei.a)(this.interactions,pi.ADD,function(t){t.element.setMap(this)},this),Object(Ei.a)(this.interactions,pi.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(Ei.a)(this.overlays_,pi.ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(Ei.a)(this.overlays_,pi.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(Ei.c)(this.viewport_,xn.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(Ei.c)(this.viewport_,xn.a.WHEEL,this.handleBrowserEvent,this),Object(Ei.c)(this.viewport_,xn.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(xn.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var n=this.getCoordinateFromPixel(t),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==i.layerFilter?i.layerFilter:Sn.b;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,function(t){i||(i=[]),i.push(t)},e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var n=i||{},r=void 0!==n.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||Sn.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Sn.b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,n,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(_n.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(ar.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(_n.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(ar.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(_n.SIZE)},e.prototype.getView=function(){return this.get(_n.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,n){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=i[0]-r.focus[0],s=i[1]-r.focus[1];return 65536*Math.log(n)+Math.sqrt(o*o+s*s)/n},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,n=new bi(i,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var n=e[i];if(n.getActive())if(!n.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,n=i;if(t){var r=t.viewHints;r[Ln]&&(i=this.loadTilesWhileAnimating_?8:0,n=2),r[kn]&&(i=this.loadTilesWhileInteracting_?8:0,n=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}!t||!this.hasListener(yn.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var i=0,n=e.length;i<n;++i){var r=e[i];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(yn.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)Object(Ei.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(Ei.a)(n,xn.a.KEYDOWN,this.handleBrowserEvent,this),Object(Ei.a)(n,xn.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(xn.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(er.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(xn.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(Ei.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(Ei.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(ui.c)(t)),this.viewPropertyListenerKey_=Object(Ei.a)(t,mn.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(Ei.a)(t,xn.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ei.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(Ei.a)(t,mn.a.PROPERTYCHANGE,this.render,this),Object(Ei.a)(t,xn.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),n=this.getView(),r=Object(Vn.j)(),o=this.frameState_,s=null;if(void 0!==i&&Object(sr.b)(i)&&n&&n.isDef()){for(var a=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),c={},l=0,u=h.length;l<u;++l)c[Object(ui.c)(h[l].layer)]=h[l];e=n.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}if(s&&(s.extent=Object(Vn.z)(e.center,e.resolution,e.rotation,s.size,r)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o)(!this.previousExtent_||!Object(Vn.H)(this.previousExtent_)&&!Object(Vn.p)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new mi(vn.a.MOVESTART,this,o)),this.previousExtent_=Object(Vn.l)(this.previousExtent_));this.previousExtent_&&!s.viewHints[Ln]&&!s.viewHints[kn]&&!Object(Vn.p)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new mi(vn.a.MOVEEND,this,s)),Object(Vn.d)(s.extent,this.previousExtent_))}this.dispatchEvent(new mi(vn.a.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(_n.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(_n.SIZE,t)},e.prototype.setTarget=function(t){this.set(_n.TARGET,t)},e.prototype.setView=function(t){this.set(_n.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(ui.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(ui.c)(t)],this.render()},e}(fi.a);var cr=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:Sn.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(er.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(er.e)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)Object(Ei.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Sn.c&&this.listenerKeys.push(Object(Ei.a)(t,vn.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(fi.a),lr=i("CTDj"),ur=i("+iwx");function dr(t){this.updateElement_(t.frameState)}var pr=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||dr,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",o=void 0!==i.collapseLabel?i.collapseLabel:"»";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var s=void 0!==i.label?i.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=r,h.appendChild(a),Object(Ei.a)(h,xn.a.CLICK,this.handleClick_,this);var c=n+" "+lr.e+" "+lr.b+(this.collapsed_&&this.collapsible_?" "+lr.a:"")+(this.collapsible_?"":" ol-uncollapsible"),l=this.element;l.className=c,l.appendChild(this.ulElement_),l.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],n=t.layerStatesArray,r=t.viewState.resolution,o=0,s=n.length;o<s;++o){var a=n[o];if(Object(ur.b)(a,r)){var h=a.layer.getSource();if(h){var c=h.getAttributions();if(c){var l=c(t);if(l)if(this.overrideCollapsible_||!1!==h.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(l))for(var u=0,d=l.length;u<d;++u)l[u]in e||(i.push(l[u]),e[l[u]]=!0);else l in e||(i.push(l),e[l]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(an.b)(e,this.renderedAttributions_)){Object(er.d)(this.ulElement_);for(var n=0,r=e.length;n<r;++n){var o=document.createElement("li");o.innerHTML=e[n],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(lr.a),this.collapsed_?Object(er.f)(this.collapseLabel_,this.label_):Object(er.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(cr);function fr(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var r=this.element.classList.contains(lr.c);r||0!==i?r&&0!==i&&this.element.classList.remove(lr.c):this.element.classList.add(lr.c)}this.label_.style.msTransform=n,this.label_.style.webkitTransform=n,this.label_.style.transform=n}this.rotation_=i}}var gr=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||fr,target:i.target});var n=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),Object(Ei.a)(s,xn.a.CLICK,this.handleClick_,this);var a=n+" "+lr.e+" "+lr.b,h=this.element;h.className=a,h.appendChild(s),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(lr.c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:Hn.b}):t.setRotation(0))},e}(cr),vr=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var n=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,o=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"−",a=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=n+"-in",c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),Object(Ei.a)(c,xn.a.CLICK,this.handleClick_.bind(this,r));var l=document.createElement("button");l.className=n+"-out",l.setAttribute("type","button"),l.title=h,l.appendChild("string"==typeof s?document.createTextNode(s):s),Object(Ei.a)(l,xn.a.CLICK,this.handleClick_.bind(this,-r));var u=n+" "+lr.e+" "+lr.b,d=this.element;d.className=u,d.appendChild(c),d.appendChild(l),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var n=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:n,duration:this.duration_,easing:Hn.b})):e.setResolution(n)}}},e}(cr);function _r(t){var e=t||{},i=new yi;return(void 0===e.zoom||e.zoom)&&i.push(new vr(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new gr(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new pr(e.attributionOptions)),i}var yr=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};yr.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},yr.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},yr.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;var r=this.points_[e]-this.points_[i],o=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/n,this.initialVelocity_>this.minVelocity_},yr.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},yr.prototype.getAngle=function(){return this.angle_};var mr=yr,br=i("O8Za");function xr(t){var e=!1;if(t.type==Oi.a.DBLCLICK){var i=t.originalEvent,n=t.map,r=t.coordinate,o=i.shiftKey?-this.delta_:this.delta_,s=n.getView();Object(br.f)(s,o,r,this.duration_),t.preventDefault(),e=!0}return!e}var Or=function(t){function e(e){t.call(this,{handleEvent:xr});var i=e||{};this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(br.a),wr=i("MJuv"),Er=i("do1/"),Mr=function(t){function e(e){t.call(this,{stopDown:Sn.a});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:wr.h,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(kn,1));var e=this.targetPointers,i=Object(Er.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var n=this.lastCentroid[0]-i[0],r=i[1]-this.lastCentroid[1],o=t.map.getView(),s=[n,r];Wn(s,o.getResolution()),Un(s,o.getRotation()),Nn(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-n*Math.cos(r),s[1]-n*Math.sin(r)]);i.animate({center:i.constrainCenter(a),duration:500,easing:Hn.b})}return this.panning_&&(this.panning_=!1,i.setHint(kn,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Er.b),Cr=function(t){function e(e){var i=e||{};t.call(this,{stopDown:Sn.a}),this.condition_=i.condition?i.condition:wr.b,this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(wr.f)(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==Rn){var n=e.getSize(),r=t.pixel,o=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=i.getRotation();Object(br.d)(i,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!Object(wr.f)(t))return!0;var e=t.map.getView();e.setHint(kn,-1);var i=e.getRotation();return Object(br.c)(e,i,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!Object(wr.f)(t)&&(!(!Object(wr.e)(t)||!this.condition_(t))&&(t.map.getView().setHint(kn,1),this.lastAngle_=void 0,!0))},e}(Er.b);function Sr(){var t=this.getMap(),e=t.getView(),i=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(i),o=Object(Vn.n)([t.getPixelFromCoordinate(Object(Vn.v)(n)),t.getPixelFromCoordinate(Object(Vn.D)(n))]),s=e.getResolutionForExtent(o,i);Object(Vn.J)(r,1/s),n=r}var a=e.constrainResolution(e.getResolutionForExtent(n,i)),h=Object(Vn.x)(n);h=e.constrainCenter(h),e.animate({resolution:a,center:h,duration:this.duration_,easing:Hn.b})}var Tr=function(t){function e(e){var i=e||{},n=i.condition?i.condition:wr.k;t.call(this,{condition:n,className:i.className||"ol-dragzoom",onBoxEnd:Sr}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i("4irz").a),jr={LEFT:37,UP:38,RIGHT:39,DOWN:40};function Rr(t){var e=!1;if(t.type==xn.a.KEYDOWN){var i=t.originalEvent.keyCode;if(this.condition_(t)&&(i==jr.DOWN||i==jr.LEFT||i==jr.RIGHT||i==jr.UP)){var n=t.map.getView(),r=n.getResolution()*this.pixelDelta_,o=0,s=0;i==jr.DOWN?s=-r:i==jr.LEFT?o=-r:i==jr.RIGHT?o=r:s=r;var a=[o,s];Un(a,n.getRotation()),Object(br.b)(n,a,this.duration_),t.preventDefault(),e=!0}}return!e}var Ir=function(t){function e(e){t.call(this,{handleEvent:Rr});var i=e||{};this.defaultCondition_=function(t){return Object(wr.h)(t)&&Object(wr.m)(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(br.a);function Lr(t){var e=!1;if(t.type==xn.a.KEYDOWN||t.type==xn.a.KEYPRESS){var i=t.originalEvent.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var n=t.map,r=i=="+".charCodeAt(0)?this.delta_:-this.delta_,o=n.getView();Object(br.f)(o,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var kr=function(t){function e(e){t.call(this,{handleEvent:Lr});var i=e||{};this.condition_=i.condition?i.condition:wr.m,this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(br.a),Pr="trackpad",Ar="wheel",Fr=function(t){function e(e){var i=e||{};t.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:wr.c,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(kn,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==xn.a.WHEEL&&e!==xn.a.MOUSEWHEEL)return!0;t.preventDefault();var i,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==xn.a.WHEEL?(i=r.deltaY,xi.c&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=xi.b),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==xn.a.MOUSEWHEEL&&(i=-r.wheelDeltaY,xi.g&&(i/=3)),0===i)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?Pr:Ar),this.mode_===Pr){var s=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(kn,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),h=s.getMinResolution(),c=s.getMaxResolution(),l=0;if(a<h?(a=Math.max(a,h/this.trackpadZoomBuffer_),l=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),l=-1),this.lastAnchor_){var u=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(u))}return s.setResolution(a),0===l&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,i>0?-1:1),easing:Hn.b,anchor:this.lastAnchor_,duration:this.duration_}),l>0?s.animate({resolution:h,easing:Hn.b,anchor:this.lastAnchor_,duration:500}):l<0&&s.animate({resolution:c,easing:Hn.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=i;var d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),d),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=Object(Tn.a)(this.delta_,-1,1);Object(br.f)(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(br.a),Nr=function(t){function e(e){var i=e||{},n=i;n.stopDown||(n.stopDown=Sn.a),t.call(this,n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Rn){var h=s.getViewport().getBoundingClientRect(),c=Object(Er.a)(this.targetPointers);if(c[0]-=h.left,c[1]-=h.top,this.anchor_=s.getCoordinateFromPixel(c),this.rotating_){var l=a.getRotation();s.render(),Object(br.d)(a,l+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(kn,-1),this.rotating_){var i=e.getRotation();Object(br.c)(e,i,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(kn,1),!0}return!1},e}(Er.b),Dr=function(t){function e(e){var i=e||{},n=i;n.stopDown||(n.stopDown=Sn.a),t.call(this,n),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,o=i.clientY-n.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,h=a.getView(),c=h.getResolution(),l=h.getMaxResolution(),u=h.getMinResolution(),d=c*e;d>l?(e=l/c,d=l):d<u&&(e=u/c,d=u),1!=e&&(this.lastScaleDelta_=e);var p=a.getViewport().getBoundingClientRect(),f=Object(Er.a)(this.targetPointers);f[0]-=p.left,f[1]-=p.top,this.anchor_=a.getCoordinateFromPixel(f),a.render(),Object(br.g)(h,d,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(kn,-1);var i=e.getResolution();if(this.constrainResolution_||i<e.getMinResolution()||i>e.getMaxResolution()){var n=this.lastScaleDelta_-1;Object(br.e)(e,i,this.anchor_,this.duration_,n)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(kn,1),!0}return!1},e}(Er.b),Gr="addfeatures",zr=function(t){function e(e,i,n,r){t.call(this,e),this.features=n,this.file=i,this.projection=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);function Ur(t){for(var e=t.dataTransfer.files,i=0,n=e.length;i<n;++i){var r=e.item(i),o=new FileReader;o.addEventListener(xn.a.LOAD,this.handleResult_.bind(this,r)),o.readAsText(r)}}function Wr(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}br.a,Er.b;var Br=i("nq2H"),Xr=i("VgFP"),Yr=i("hrLW"),Hr=function(t){function e(e,i,n){if(t.call(this),void 0!==n&&void 0===i)this.setFlatCoordinates(n,e);else{var r=i||0;this.setCenterAndRadius(e,r,n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<n){if(0===a)for(var h=0;h<this.stride;++h)i[h]=r[h];else{var c=this.getRadius()/Math.sqrt(a);i[0]=r[0]+c*o,i[1]=r[1]+c*s;for(var l=2;l<this.stride;++l)i[l]=r[l]}return i.length=this.stride,a}return n},e.prototype.containsXY=function(t,e){var i=this.flatCoordinates,n=t-i[0],r=e-i[1];return n*n+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return Object(Vn.k)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return Kn.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(Vn.F)(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||(t[1]<=i[1]&&t[3]>=i[1]||Object(Vn.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+i;for(var r=1;r<e;++r)n[e+r]=t[r];this.setFlatCoordinates(this.layout,n),this.changed()},e.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,r=Object(Yr.a)(n,0,t,this.stride);n[r++]=n[0]+e;for(var o=1,s=this.stride;o<s;++o)n[r++]=n[o];n.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(Xr.a);Hr.prototype.transform;var Vr=Hr,Kr=i("grfP"),qr=i("5MGX"),Zr=i("bmSR"),$r=i("wupX"),Qr=i("MB6k"),Jr=i("pWpL"),to=i("LmAy"),eo=function(t){function e(e,i,n){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&n)this.setFlatCoordinates(i,e),this.ends_=n;else{for(var r=this.getLayout(),o=e,s=[],a=[],h=0,c=o.length;h<c;++h){var l=o[h];0===h&&(r=l.getLayout()),Object(an.c)(s,l.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(an.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(Vn.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(Zr.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(Zr.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=qr.a.XYM&&this.layout!=qr.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,r=void 0!==i&&i;return Object(Qr.c)(this.flatCoordinates,0,this.ends_,this.stride,t,n,r)},e.prototype.getCoordinates=function(){return Object($r.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Kr.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,n=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],h=new Kr.a(t.slice(r,a),i);n.push(h),r=a}return n},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,n=this.ends_,r=this.stride,o=0,s=n.length;o<s;++o){var a=n[o],h=Object(Qr.a)(e,i,a,r,.5);Object(an.c)(t,h),i=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(to.b)(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,n),new e(i,qr.a.XY,n)},e.prototype.getType=function(){return Kn.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(Jr.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(Yr.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(Xr.a),io=i("T18w"),no=function(t){function e(e,i){t.call(this),i&&!Array.isArray(e[0])?this.setFlatCoordinates(i,e):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(an.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){if(n<Object(Vn.e)(this.getExtent(),t,e))return n;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var h=Object(Tn.f)(t,e,r[s],r[s+1]);if(h<n){n=h;for(var c=0;c<o;++c)i[c]=r[s+c];i.length=o}}return n},e.prototype.getCoordinates=function(){return Object($r.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new io.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,n=[],r=0,o=t.length;r<o;r+=i){var s=new io.a(t.slice(r,r+i),e);n.push(s)}return n},e.prototype.getType=function(){return Kn.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,n=0,r=e.length;n<r;n+=i){var o=e[n],s=e[n+1];if(Object(Vn.h)(t,o,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(Yr.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Xr.a),ro=i("+b92");var oo=i("ZXW8"),so=i("vhPq"),ao=i("piqq"),ho=function(t){function e(e,i,n){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],h=0,c=o.length;h<c;++h){var l=o[h];0===h&&(r=l.getLayout());for(var u=s.length,d=l.getEnds(),p=0,f=d.length;p<f;++p)d[p]+=u;Object(an.c)(s,l.getFlatCoordinates()),a.push(d)}i=r,e=s,n=a}void 0!==i&&n?(this.setFlatCoordinates(i,e),this.endss_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;Object(an.c)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,r=(e=t.getEnds().slice()).length;n<r;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),n=0;n<t;++n)i[n]=this.endss_[n].slice();return new e(this.flatCoordinates.slice(),this.layout,i)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(Vn.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(Zr.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(Zr.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Object(oo.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(ro.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(ao.e)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object($r.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,i,n){for(var r=[],o=Object(Vn.j)(),s=0,a=i.length;s<a;++s){var h=i[s];o=Object(Vn.o)(t,e,h[0],n),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=h[h.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(so.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new no(this.getFlatInteriorPoints().slice(),qr.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(ao.c)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(ao.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(to.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,n),new e(i,qr.a.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var n=this.endss_[t].slice(),r=n[n.length-1];if(0!==e)for(var o=0,s=n.length;o<s;++o)n[o]-=e;return new qn.a(this.flatCoordinates.slice(e,r),this.layout,n)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,n=[],r=0,o=0,s=i.length;o<s;++o){var a=i[o].slice(),h=a[a.length-1];if(0!==r)for(var c=0,l=a.length;c<l;++c)a[c]-=r;var u=new qn.a(e.slice(r,h),t,a);n.push(u),r=h}return n},e.prototype.getType=function(){return Kn.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(Jr.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(Yr.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var n=i[i.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},e}(Xr.a),co=i("6Bfc"),lo=i("v5fe"),uo={IMAGE:"image",VECTOR:"vector"},po=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,fo=/^([a-z]*)$/i;function go(t){return"string"==typeof t?t:mo(t)}var vo,_o;vo={},_o=0;function yo(t){return t[0]=Object(Tn.a)(t[0]+.5|0,0,255),t[1]=Object(Tn.a)(t[1]+.5|0,0,255),t[2]=Object(Tn.a)(t[2]+.5|0,0,255),t[3]=Object(Tn.a)(t[3],0,1),t}function mo(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}function bo(t){return Array.isArray(t)?mo(t):t}var xo=i("3Jqb"),Oo=[0,0,0,1],wo=[],Eo=[0,0,0,1],Mo=[0,0,0,0],Co=new(i("9JMd").a),So={},To=null,jo={},Ro=function(){var t,e,i=60,n=So,r="32px ",o=["monospace","serif"],s=o.length,a="wmytzilWMYTZIL@#/&?$%10";function h(t){for(var i=Io(),n=100;n<=700;n+=300){for(var h=n+" ",c=!0,l=0;l<s;++l){var u=o[l];if(i.font=h+r+u,e=i.measureText(a).width,t!=u){i.font=h+r+t+","+u;var d=i.measureText(a).width;c=c&&d!=e}}if(c)return!0}return!1}function c(){var e=!0;for(var r in n)n[r]<i&&(h(r)?(n[r]=i,Object(wn.b)(jo),To=null,Co.clear()):(++n[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Object(lr.g)(e);if(r)for(var o=0,s=r.length;o<s;++o){var a=r[o];a in n||(n[a]=i,h(a)||(n[a]=0,void 0===t&&(t=setInterval(c,32))))}}}();function Io(){return To||(To=Object(er.a)(1,1)),To}var Lo,ko,Po=(ko=jo,function(t){var e=ko[t];return void 0==e&&(Lo||((Lo=document.createElement("span")).textContent="M",Lo.style.margin=Lo.style.padding="0 !important",Lo.style.position="absolute !important",Lo.style.left="-99999px !important"),Lo.style.font=t,document.body.appendChild(Lo),e=ko[t]=Lo.offsetHeight,document.body.removeChild(Lo)),e});function Ao(t,e){var i=Io();return t!=i.font&&(i.font=t),i.measureText(e).width}function Fo(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}var No=Object(ar.c)();function Do(t,e,i,n,r,o,s,a,h,c,l){var u;1!=i&&(u=t.globalAlpha,t.globalAlpha=u*i),e&&t.setTransform.apply(t,e),t.drawImage(n,r,o,s,a,h,c,s*l,a*l),u&&(t.globalAlpha=u),e&&t.setTransform.apply(t,No)}var Go=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};Go.prototype.clone=function(){return new Go({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},Go.prototype.getOpacity=function(){return this.opacity_},Go.prototype.getRotateWithView=function(){return this.rotateWithView_},Go.prototype.getRotation=function(){return this.rotation_},Go.prototype.getScale=function(){return this.scale_},Go.prototype.getSnapToPixel=function(){return!1},Go.prototype.getAnchor=function(){return Object(ui.b)()},Go.prototype.getImage=function(t){return Object(ui.b)()},Go.prototype.getHitDetectionImage=function(t){return Object(ui.b)()},Go.prototype.getImageState=function(){return Object(ui.b)()},Go.prototype.getImageSize=function(){return Object(ui.b)()},Go.prototype.getHitDetectionImageSize=function(){return Object(ui.b)()},Go.prototype.getOrigin=function(){return Object(ui.b)()},Go.prototype.getSize=function(){return Object(ui.b)()},Go.prototype.setOpacity=function(t){this.opacity_=t},Go.prototype.setRotateWithView=function(t){this.rotateWithView_=t},Go.prototype.setRotation=function(t){this.rotation_=t},Go.prototype.setScale=function(t){this.scale_=t},Go.prototype.setSnapToPixel=function(t){},Go.prototype.listenImageChange=function(t,e){return Object(ui.b)()},Go.prototype.load=function(){Object(ui.b)()},Go.prototype.unlistenImageChange=function(t,e){Object(ui.b)()};var zo=function(t){function e(e){var i=e||{};t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,atlasManager:i.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(function(t){function e(e){var i=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return xo.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,i,n="",r="",o=0,s=null,a=0,h=0;this.stroke_&&(null===(i=this.stroke_.getColor())&&(i=Eo),i=bo(i),void 0===(h=this.stroke_.getWidth())&&(h=1),s=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),xi.a||(s=null,a=0),void 0===(r=this.stroke_.getLineJoin())&&(r="round"),void 0===(n=this.stroke_.getLineCap())&&(n="round"),void 0===(o=this.stroke_.getMiterLimit())&&(o=10));var c=2*(this.radius_+h)+1,l={strokeStyle:i,strokeWidth:h,size:c,lineCap:n,lineDash:s,lineDashOffset:a,lineJoin:r,miterLimit:o};if(void 0===t){var u=Object(er.a)(c,c);this.canvas_=u.canvas,e=c=this.canvas_.width,this.draw_(l,u,0,0),this.createHitDetectionCanvas_(l)}else{c=Math.round(c);var d,p=!this.fill_;p&&(d=this.drawHitDetectionCanvas_.bind(this,l));var f=this.getChecksum(),g=t.add(f,c,c,this.draw_.bind(this,l),d);this.canvas_=g.image,this.origin_=[g.offsetX,g.offsetY],e=g.image.width,p?(this.hitDetectionCanvas_=g.hitImage,this.hitDetectionImageSize_=[g.hitImage.width,g.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[c/2,c/2],this.size_=[c,c],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,i,n){var r,o,s;e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var a=this.points_;if(a===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var h=void 0!==this.radius2_?this.radius2_:this.radius_;for(h!==this.radius_&&(a*=2),r=0;r<=a;r++)o=2*r*Math.PI/a-Math.PI/2+this.angle_,s=r%2==0?this.radius_:h,e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=Oo),e.fillStyle=bo(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(er.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,s,a,h=void 0!==this.radius2_?this.radius2_:this.radius_;for(h!==this.radius_&&(r*=2),o=0;o<=r;o++)a=2*o*Math.PI/r-Math.PI/2+this.angle_,s=o%2==0?this.radius_:h,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}e.fillStyle=go(Oo),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var i="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[i,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(Go)),Uo=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};Uo.prototype.clone=function(){var t=this.getColor();return new Uo({color:Array.isArray(t)?t.slice():t||void 0})},Uo.prototype.getColor=function(){return this.color_},Uo.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Uo.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+go(t):this.checksum_=Object(ui.c)(this.color_):this.checksum_="f-"}return this.checksum_};var Wo=Uo,Bo=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};Bo.prototype.clone=function(){var t=this.getColor();return new Bo({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Bo.prototype.getColor=function(){return this.color_},Bo.prototype.getLineCap=function(){return this.lineCap_},Bo.prototype.getLineDash=function(){return this.lineDash_},Bo.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Bo.prototype.getLineJoin=function(){return this.lineJoin_},Bo.prototype.getMiterLimit=function(){return this.miterLimit_},Bo.prototype.getWidth=function(){return this.width_},Bo.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Bo.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},Bo.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},Bo.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},Bo.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},Bo.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},Bo.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},Bo.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(ui.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var Xo=Bo,Yo=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=qo,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};Yo.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new Yo({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Yo.prototype.getRenderer=function(){return this.renderer_},Yo.prototype.setRenderer=function(t){this.renderer_=t},Yo.prototype.getGeometry=function(){return this.geometry_},Yo.prototype.getGeometryFunction=function(){return this.geometryFunction_},Yo.prototype.getFill=function(){return this.fill_},Yo.prototype.setFill=function(t){this.fill_=t},Yo.prototype.getImage=function(){return this.image_},Yo.prototype.setImage=function(t){this.image_=t},Yo.prototype.getStroke=function(){return this.stroke_},Yo.prototype.setStroke=function(t){this.stroke_=t},Yo.prototype.getText=function(){return this.text_},Yo.prototype.setText=function(t){this.text_=t},Yo.prototype.getZIndex=function(){return this.zIndex_},Yo.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=qo,this.geometry_=t},Yo.prototype.setZIndex=function(t){this.zIndex_=t};var Ho=null;function Vo(t,e){if(!Ho){var i=new Wo({color:"rgba(255,255,255,0.4)"}),n=new Xo({color:"#3399CC",width:1.25});Ho=[new Yo({image:new zo({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]}return Ho}function Ko(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[Kn.a.POLYGON]=[new Yo({fill:new Wo({color:[255,255,255,.5]})})],t[Kn.a.MULTI_POLYGON]=t[Kn.a.POLYGON],t[Kn.a.LINE_STRING]=[new Yo({stroke:new Xo({color:e,width:5})}),new Yo({stroke:new Xo({color:i,width:3})})],t[Kn.a.MULTI_LINE_STRING]=t[Kn.a.LINE_STRING],t[Kn.a.CIRCLE]=t[Kn.a.POLYGON].concat(t[Kn.a.LINE_STRING]),t[Kn.a.POINT]=[new Yo({image:new zo({radius:6,fill:new Wo({color:i}),stroke:new Xo({color:e,width:1.5})}),zIndex:1/0})],t[Kn.a.MULTI_POINT]=t[Kn.a.POINT],t[Kn.a.GEOMETRY_COLLECTION]=t[Kn.a.POLYGON].concat(t[Kn.a.LINE_STRING],t[Kn.a.POINT]),t}function qo(t){return t.getGeometry()}var Zo=Yo,$o="renderOrder",Qo=function(t){function e(e){var i=e||{},n=Object(wn.a)({},i);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,t.call(this,n),this.declutter_=void 0!==i.declutter&&i.declutter,this.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(i.style),this.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,this.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,this.renderMode_=i.renderMode||uo.VECTOR,this.type=lo.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get($o)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set($o,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:Vo,this.styleFunction_=null===t?void 0:function(t){var e;if("function"==typeof t)e=t;else{var i;Array.isArray(t)?i=t:(Object(On.a)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i}}return e}(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(ur.a);Qo.prototype.getSource;var Jo=Qo,ts={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};function es(t,e){return function(t,e,i,n){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(r,o,s):t,!0),e.getType()==ts.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==ts.JSON||o==ts.TEXT?r=a.responseText:o==ts.XML?(r=a.responseXML)||(r=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==ts.ARRAY_BUFFER&&(r=a.response),r?i.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),a.onerror=function(){n.call(this)}.bind(this),a.send()}}(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},Sn.c)}function is(t,e){return[[-1/0,-1/0,1/0,1/0]]}var ns=i("A7Qc"),rs={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},os=i("emf4"),ss=i.n(os),as=function(t){this.rbush_=ss()(t,void 0),this.items_={}};as.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(ui.c)(e)]=i},as.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,r=e.length;n<r;n++){var o=t[n],s=e[n],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};i[n]=a,this.items_[Object(ui.c)(s)]=a}this.rbush_.load(i)},as.prototype.remove=function(t){var e=Object(ui.c)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},as.prototype.update=function(t,e){var i=this.items_[Object(ui.c)(e)],n=[i.minX,i.minY,i.maxX,i.maxY];Object(Vn.p)(n,t)||(this.remove(e),this.insert(t,e))},as.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},as.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},as.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},as.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},as.prototype.forEach_=function(t,e,i){for(var n,r=0,o=t.length;r<o;r++)if(n=e.call(i,t[r]))return n;return n},as.prototype.isEmpty=function(){return Object(wn.d)(this.items_)},as.prototype.clear=function(){this.rbush_.clear(),this.items_={}},as.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(Vn.k)(e.minX,e.minY,e.maxX,e.maxY,t)},as.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var hs=as,cs=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a),ls=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:void 0,state:nr.a.READY,wrapX:void 0===i.wrapX||i.wrapX}),this.loader_=Sn.c,this.format_=i.format,this.overlaps_=void 0==i.overlaps||i.overlaps,this.url_=i.url,void 0!==i.loader?this.loader_=i.loader:void 0!==this.url_&&(Object(On.a)(this.format_,7),this.loader_=es(this.url_,this.format_)),this.strategy_=void 0!==i.strategy?i.strategy:is;var n,r,o=void 0===i.useSpatialIndex||i.useSpatialIndex;this.featuresRtree_=o?new hs:null,this.loadedExtentsRtree_=new hs,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(n=i.features).getArray()),o||void 0!==n||(n=new yi(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(ui.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new cs(rs.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(Ei.a)(e,xn.a.CHANGE,this.handleFeatureChange_,this),Object(Ei.a)(e,mn.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n?n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e:(Object(On.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],n=[],r=0,o=t.length;r<o;r++){var s=t[r],a=Object(ui.c)(s);this.addToIndex_(a,s)&&i.push(s)}for(var h=0,c=i.length;h<c;h++){var l=i[h],u=Object(ui.c)(l);this.setupChangeEvents_(u,l);var d=l.getGeometry();if(d){var p=d.getExtent();e.push(p),n.push(l)}else this.nullGeometryFeatures_[u]=l}this.featuresRtree_&&this.featuresRtree_.load(e,n);for(var f=0,g=i.length;f<g;f++)this.dispatchEvent(new cs(rs.ADDFEATURE,i[f]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(Ei.a)(this,rs.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),Object(Ei.a)(this,rs.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),Object(Ei.a)(t,pi.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(Ei.a)(t,pi.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(Ei.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new cs(rs.CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){if(i.getGeometry().intersectsExtent(t)){var n=e(i);if(n)return n}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(wn.d)(this.nullGeometryFeatures_)||Object(an.c)(t,Object(wn.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],h=e||Sn.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(h(t)){var e=t.getGeometry(),c=s;if((s=e.closestPointXY(i,n,o,s))<c){r=t;var l=Math.sqrt(s);a[0]=i-l,a[1]=n-l,a[2]=i+l,a[3]=n+l}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(ui.c)(e),n=e.getGeometry();if(n){var r=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var o=e.getId();if(void 0!==o){var s=o.toString();i in this.undefIdIndex_?(delete this.undefIdIndex_[i],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else i in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[i]=e);this.changed(),this.dispatchEvent(new cs(rs.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(ui.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(wn.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,i){var n=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,function(t){return Object(Vn.g)(t.extent,a)})||(n.loader_.call(n,a,e,i),r.insert(a,{extent:a.slice()}),n.loading=n.loader_!==Sn.c)},a=0,h=o.length;a<h;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,function(i){if(Object(Vn.p)(i.extent,t))return e=i,!0}),e&&i.remove(e)},e.prototype.removeFeature=function(t){var e=Object(ui.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(ui.c)(t);this.featureChangeKeys_[e].forEach(Ei.e),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i?delete this.idIndex_[i.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new cs(rs.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(ns.a),us={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ds="drawstart",ps="drawend",fs=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);var gs=function(t){function e(e){var i=e;i.stopDown||(i.stopDown=Sn.a),t.call(this,i),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;t===Kn.a.POINT||t===Kn.a.MULTI_POINT?e=us.POINT:t===Kn.a.LINE_STRING||t===Kn.a.MULTI_LINE_STRING?e=us.LINE_STRING:t===Kn.a.POLYGON||t===Kn.a.MULTI_POLYGON?e=us.POLYGON:t===Kn.a.CIRCLE&&(e=us.CIRCLE);return e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===us.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Sn.b;var n,r=e.geometryFunction;if(!r)if(this.type_===Kn.a.CIRCLE)r=function(t,e){var i=e||new Vr([NaN,NaN]),n=Bn(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(n)),i};else{var o,s=this.mode_;s===us.POINT?o=io.a:s===us.LINE_STRING?o=Kr.a:s===us.POLYGON&&(o=qn.a),r=function(t,e){var i=e;return i?s===us.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new o(t),i}}this.geometryFunction_=r,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Jo({source:new ls({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(n=Ko(),function(t,e){return n[t.getGeometry().getType()]}),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:wr.h,this.freehandCondition_,e.freehand?this.freehandCondition_=wr.c:this.freehandCondition_=e.freehandCondition?e.freehandCondition:wr.k,Object(Ei.a)(this,Object(fi.b)(co.a.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===xn.a.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==us.POINT&&this.freehandCondition_(e);var i=e.type===Oi.a.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&e.type===Oi.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,i=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===Oi.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),n=!1):this.freehand_&&e.type===Oi.a.POINTERDOWN?n=!1:i?(n=e.type===Oi.a.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(e):(e.pointerEvent.pointerType==Ri||e.type===Oi.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===Oi.a.DBLCLICK&&(n=!1),t.prototype.handleEvent.call(this,e)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new wi(Oi.a.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===us.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===us.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,n=e[0]-i[0],r=e[1]-i[1],o=n*n+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,n=[this.finishCoordinate_];if(this.mode_===us.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===us.POLYGON){var r=this.sketchCoords_;i=r[0].length>this.minPoints_,n=[r[0][0],r[0][r[0].length-2]]}if(i)for(var o=t.map,s=0,a=n.length;s<a;s++){var h=n[s],c=o.getPixelFromCoordinate(h),l=t.pixel,u=l[0]-c[0],d=l[1]-c[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(u*u+d*d)<=p){this.finishCoordinate_=h;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Br.a(new io.a(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===us.POINT?this.sketchCoords_=e.slice():this.mode_===us.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Br.a(new Kr.a(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new Br.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new fs(ds,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,i,n,r=t.coordinate,o=this.sketchFeature_.getGeometry();(this.mode_===us.POINT?i=this.sketchCoords_:this.mode_===us.POLYGON?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=r[0],i[1]=r[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(r);if(o.getType()==Kn.a.POLYGON&&this.mode_!==us.POLYGON){this.sketchLine_||(this.sketchLine_=new Br.a);var s=o.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),n.changed()):(n=new Kr.a(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,i,n=t.coordinate,r=this.sketchFeature_.getGeometry();this.mode_===us.LINE_STRING?(this.finishCoordinate_=n.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),this.geometryFunction_(i,r)):this.mode_===us.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===us.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===us.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===us.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===us.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===Kn.a.MULTI_POINT?t.setGeometry(new no([e])):this.type_===Kn.a.MULTI_LINE_STRING?t.setGeometry(new eo([e])):this.type_===Kn.a.MULTI_POLYGON&&t.setGeometry(new ho([e])),this.dispatchEvent(new fs(ps,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new fs(ds,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(Er.b),vs={EXTENTCHANGED:"extentchanged"},_s=function(t){function e(e){t.call(this,vs.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);function ys(t){return function(e){return Object(Vn.b)([t,e])}}function ms(t,e){return t[0]==e[0]?function(i){return Object(Vn.b)([t,[i[0],e[1]]])}:t[1]==e[1]?function(i){return Object(Vn.b)([t,[e[0],i[1]]])}:null}Er.b;var bs=1,xs="modifystart",Os="modifyend",ws=function(t){function e(e,i,n){t.call(this,e),this.features=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);function Es(t,e){return t.index-e.index}function Ms(t,e){var i=e.geometry;if(i.getType()===Kn.a.CIRCLE){var n=i;if(e.index===bs){var r=Bn(n.getCenter(),t),o=Math.sqrt(r)-n.getRadius();return o*o}}return Yn(t,e.segment)}function Cs(t,e){var i=e.geometry;return i.getType()===Kn.a.CIRCLE&&e.index===bs?i.getClosestPoint(t):Dn(t,e.segment)}Er.b;var Ss={SELECT:"select"},Ts=function(t){function e(e,i,n,r){t.call(this,e),this.selected=i,this.deselected=n,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);function js(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),r=!e&&!i&&!n,o=t.map,s=this.getFeatures(),a=[],h=[];if(r){Object(wn.b)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return h.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=s.getLength()-1;c>=0;--c){var l=s.item(c),u=h.indexOf(l);u>-1?h.splice(u,1):(s.remove(l),a.push(l))}0!==h.length&&s.extend(h)}else{o.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r))return!e&&!n||Object(an.d)(s.getArray(),t)?(i||n)&&Object(an.d)(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(h.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=a.length-1;d>=0;--d)s.remove(a[d]);s.extend(h)}return(h.length>0||a.length>0)&&this.dispatchEvent(new Ts(Ss.SELECT,h,a,t)),Object(wr.i)(t)}var Rs=function(t){function e(e){t.call(this,{handleEvent:js});var i=e||{};this.condition_=i.condition?i.condition:wr.l,this.addCondition_=i.addCondition?i.addCondition:wr.g,this.removeCondition_=i.removeCondition?i.removeCondition:wr.g,this.toggleCondition_=i.toggleCondition?i.toggleCondition:wr.k,this.multi_=!!i.multi&&i.multi,this.filter_=i.filter?i.filter:Sn.b,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var n,r,o=new Jo({source:new ls({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:(n=Ko(),Object(an.c)(n[Kn.a.POLYGON],n[Kn.a.LINE_STRING]),Object(an.c)(n[Kn.a.GEOMETRY_COLLECTION],n[Kn.a.LINE_STRING]),function(t,e){return t.getGeometry()?n[t.getGeometry().getType()]:null}),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=o,i.layers)if("function"==typeof i.layers)r=i.layers;else{var s=i.layers;r=function(t){return Object(an.d)(s,t)}}else r=Sn.b;this.layerFilter_=r,this.featureLayerAssociation_={};var a=this.getFeatures();Object(Ei.a)(a,pi.ADD,this.addFeature_,this),Object(Ei.a)(a,pi.REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(ui.c)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(ui.c)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap(),n=this.getFeatures();i&&n.forEach(i.unskipFeature.bind(i)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&n.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(ui.c)(t)]},e}(br.a);function Is(t){return t.feature?t.feature:t.element?t.element:void 0}Er.b;var Ls="translatestart",ks="translating",Ps="translateend",As=function(t){function e(e,i,n){t.call(this,e),this.features=i,this.coordinate=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a);Er.b;function Fs(t){var e=t||{},i=new yi,n=new mr(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new Cr),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new Or({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new Mr({condition:e.onFocusOnly?wr.d:void 0,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new Nr),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new Dr({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new Ir),i.push(new kr({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new Fr({condition:e.onFocusOnly?wr.d:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new Tr({duration:e.zoomDuration})),i}var Ns=i("09IN"),Ds=function(t){function e(e,i,n,r,o){var s=void 0!==o?xo.a.IDLE:xo.a.LOADED;t.call(this,e,i,n,s),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=xo.a.ERROR):this.state=xo.a.LOADED,this.changed()},e.prototype.load=function(){this.state==xo.a.IDLE&&(this.state=xo.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(i("Y6UM").a),Gs=function(t){function e(e,i,n,r,o){t.call(this,e),this.vectorContext=i,this.frameState=n,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi.a),zs=i("RUSk"),Us=function(){};Us.prototype.drawCustom=function(t,e,i){},Us.prototype.drawGeometry=function(t){},Us.prototype.setStyle=function(t){},Us.prototype.drawCircle=function(t,e){},Us.prototype.drawFeature=function(t,e){},Us.prototype.drawGeometryCollection=function(t,e){},Us.prototype.drawLineString=function(t,e){},Us.prototype.drawMultiLineString=function(t,e){},Us.prototype.drawMultiPoint=function(t,e){},Us.prototype.drawMultiPolygon=function(t,e){},Us.prototype.drawPoint=function(t,e){},Us.prototype.drawPolygon=function(t,e){},Us.prototype.drawText=function(t,e){},Us.prototype.setFillStrokeStyle=function(t,e){},Us.prototype.setImageStyle=function(t,e){},Us.prototype.setTextStyle=function(t,e){};var Ws=Us,Bs=function(t){function e(e,i,n,r,o){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=n,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(ar.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Object(zs.c)(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var c=0,l=r.length;c<l;c+=2){var u=r[c]-this.imageAnchorX_,d=r[c+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_){var p=u+this.imageAnchorX_,f=d+this.imageAnchorY_;Object(ar.b)(s,p,f,this.imageScale_,this.imageScale_,h,-p,-f),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,u,d,this.imageWidth_,this.imageHeight_)}0===h&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(zs.c)(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=n){var a=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var c=Object(ar.b)(this.tmpLocalTransform_,a,h,this.textScale_,this.textScale_,s,-a,-h);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,a,h),this.textFillState_&&o.fillText(this.text_,a,h)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,s=Object(zs.c)(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var h=2;h<a;h+=2)o.lineTo(s[h],s[h+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if(Object(Vn.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(Xr.b)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Kn.a.POINT:this.drawPoint(t);break;case Kn.a.LINE_STRING:this.drawLineString(t);break;case Kn.a.POLYGON:this.drawPolygon(t);break;case Kn.a.MULTI_POINT:this.drawMultiPoint(t);break;case Kn.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Kn.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Kn.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Kn.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(Vn.F)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(Object(Vn.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(Vn.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,h=o.length;a<h;++a)r=this.moveToLineTo_(n,r,o[a],s,!1);i.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(Vn.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(Vn.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var h=r[s];n=this.drawRings_(i,n,h,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),xi.a&&(Object(an.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,xi.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:"center";i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=n&&(i.textAlign=e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:bo(i||Oo)}}else this.fillState_=null;if(e){var n=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),h=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||wo,lineDashOffset:s||0,lineJoin:void 0!==a?a:"round",lineWidth:this.pixelRatio_*(void 0!==h?h:1),miterLimit:void 0!==c?c:10,strokeStyle:bo(n||Eo)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),n=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:bo(i||Oo)}}else this.textFillState_=null;var n=t.getStroke();if(n){var r=n.getColor(),o=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),h=n.getLineJoin(),c=n.getWidth(),l=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:s||wo,lineDashOffset:a||0,lineJoin:void 0!==h?h:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==l?l:10,strokeStyle:bo(r||Eo)}}else this.textStrokeState_=null;var u=t.getFont(),d=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),_=t.getText(),y=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==u?u:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==m?m:"middle"},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(Ws),Xs=i("IU0A"),Ys=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function Hs(t,e,i){return e+":"+t+":"+(i?go(i):"null")}Ys.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Ys.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Ys.prototype.get=function(t,e,i){var n=Hs(t,e,i);return n in this.cache_?this.cache_[n]:null},Ys.prototype.set=function(t,e,i,n){var r=Hs(t,e,i);this.cache_[r]=n,++this.cacheSize_},Ys.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Vs=new Ys;function Ks(t,e){Vs.expire()}function qs(t,e){return t.zIndex-e.zIndex}var Zs=[],$s=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=Object(er.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=lr.e,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(ar.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),n=this.context_;if(i.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),h=new Bs(n,o,r,a,s),c=new Gs(t,h,e,n,null);i.dispatchEvent(c)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,n=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],h=-e.center[1];return Object(ar.b)(this.transform_,i,n,r,o,s,a,h)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,n=Math.round(t.size[0]*i),r=Math.round(t.size[1]*i);this.canvas_.width!=n||this.canvas_.height!=r?(this.canvas_.width=n,this.canvas_.height=r):e.clearRect(0,0,n,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(yn.a.PRECOMPOSE,t);var s=t.layerStatesArray;Object(an.j)(s,qs),o&&(e.save(),Fo(e,o,n/2,r/2));var a,h,c=t.viewState.resolution;for(a=0,h=s.length;a<h;++a){var l=s[a],u=l.layer,d=this.getLayerRenderer(u);Object(ur.b)(l,c)&&l.sourceState==nr.a.READY&&(d.prepareFrame(t,l)&&d.composeFrame(t,l,e))}o&&e.restore(),this.dispatchRenderEvent(yn.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,s){var a,h,c=e.viewState.resolution,l=e.layerStatesArray,u=l.length,d=Object(ar.a)(e.pixelToCoordinateTransform,t.slice());for(h=u-1;h>=0;--h){var p=l[h],f=p.layer;if(Object(ur.b)(p,c)&&o.call(s,f))if(a=this.getLayerRenderer(f).forEachLayerAtCoordinate(d,e,i,n,r))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,n=e.length;i<n;++i){var r=e[i];Object(an.d)(Zs,r)||Zs.push(r)}},e}(function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(ui.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;Object(ar.b)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(ar.d)(Object(ar.g)(n,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,s){var a,h=e.viewState,c=h.resolution;function l(t,i){var o=e.layerStates[Object(ui.c)(i)].managed;if(!(Object(ui.c)(t)in e.skippedFeatureUids)||o)return n.call(r,t,o?i:null)}var u=h.projection,d=t;if(u.canWrapX()){var p=u.getExtent(),f=Object(Vn.E)(p),g=t[0];if(g<p[0]||g>p[2])d=[g+f*Math.ceil((p[0]-g)/f),t[1]]}var v,_=e.layerStatesArray;for(v=_.length-1;v>=0;--v){var y=_[v],m=y.layer;if(Object(ur.b)(y,c)&&o.call(s,m)){var b=this.getLayerRenderer(m),x=m.getSource();if(x&&(a=b.forEachFeatureAtCoordinate(x.getWrapX()?d:t,e,i,l)),a)return a}}},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,s){return Object(ui.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,Sn.b,this,n,r)},e.prototype.getLayerRenderer=function(t){var e=Object(ui.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,n=0,r=this.layerRendererConstructors_.length;n<r;++n){var o=this.layerRendererConstructors_[n];if(o.handles(t)){i=o.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=Object(Ei.a)(i,xn.a.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(Ei.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){Object(ui.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Ks)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Xs.a)),Qs=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(ar.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var n=e.pixelRatio,r=e.size[0]*n,o=e.size[1]*n,s=e.viewState.rotation,a=Object(Vn.C)(i),h=Object(Vn.D)(i),c=Object(Vn.w)(i),l=Object(Vn.v)(i);Object(ar.a)(e.coordinateToPixelTransform,a),Object(ar.a)(e.coordinateToPixelTransform,h),Object(ar.a)(e.coordinateToPixelTransform,c),Object(ar.a)(e.coordinateToPixelTransform,l),t.save(),Fo(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(c[0]*n,c[1]*n),t.lineTo(l[0]*n,l[1]*n),t.clip(),Fo(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,n){var r=this.getLayer();if(r.hasListener(t)){var o=i.size[0]*i.pixelRatio,s=i.size[1]*i.pixelRatio,a=i.viewState.rotation;Fo(e,-a,o/2,s/2);var h=void 0!==n?n:this.getTransform(i,0),c=new Bs(e,i.pixelRatio,i.extent,h,i.viewState.rotation),l=new Gs(t,c,i,e,null);r.dispatchEvent(l),Fo(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,n,r){return this.forEachFeatureAtCoordinate(t,e,i,Sn.b)?n.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,n){this.dispatchComposeEvent_(yn.a.POSTCOMPOSE,t,e,n)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(yn.a.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(yn.a.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,n=t.pixelRatio,r=n*t.size[0]/2,o=n*t.size[1]/2,s=n/i.resolution,a=-s,h=-i.rotation,c=-i.center[0]+e,l=-i.center[1];return Object(ar.b)(this.transform_,r,o,s,a,h,c,l)},e.prototype.composeFrame=function(t,e,i){Object(ui.b)()},e.prototype.prepareFrame=function(t,e){return Object(ui.b)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(n,r){return t.forEachLoadedTile(e,n,r,function(t){i[n]||(i[n]={}),i[n][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===xo.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=xo.a.LOADED&&e!=xo.a.ERROR&&Object(Ei.a)(t,xn.a.CHANGE,this.handleImageChange_,this),e==xo.a.IDLE&&(t.load(),e=t.getState()),e==xo.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==nr.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var n=Object(ui.c)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,n){var r=Object(ui.c)(e),o=i.toString();r in t?o in t[r]?t[r][o].extend(n):t[r][o]=n:(t[r]={},t[r][o]=n)},e.prototype.manageTilePyramid=function(t,e,i,n,r,o,s,a,h,c){var l=Object(ui.c)(e);l in t.wantedTiles||(t.wantedTiles[l]={});var u,d,p,f,g,v,_=t.wantedTiles[l],y=t.tileQueue;for(v=i.getMinZoom();v<=s;++v)for(d=i.getTileRangeForExtentAndZ(o,v,d),p=i.getResolution(v),f=d.minX;f<=d.maxX;++f)for(g=d.minY;g<=d.maxY;++g)s-v<=a?((u=e.getTile(v,f,g,n,r)).getState()==bn.a.IDLE&&(_[u.getKey()]=!0,y.isKeyQueued(u.getKey())||y.enqueue([u,l,i.getTileCoordCenter(u.tileCoord),p])),void 0!==h&&h.call(c,u)):e.useTile(v,f,g,r)},e}(i("nxYM").a)),Js=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(ar.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var n=this.getImage();if(n){var r=e.extent,o=void 0!==r&&!Object(Vn.g)(r,t.extent)&&Object(Vn.F)(r,t.extent);o&&this.clip(i,t,r);var s=this.getImageTransform(),a=i.globalAlpha;i.globalAlpha=e.opacity;var h=s[4],c=s[5],l=n.width*s[0],u=n.height*s[3];l>=.5&&u>=.5&&i.drawImage(n,0,0,+n.width,+n.height,Math.round(h),Math.round(c),Math.round(l),Math.round(u)),i.globalAlpha=a,o&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return Object(ui.b)()},e.prototype.getImageTransform=function(){return Object(ui.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,n,r){if(this.getImage()){var o=Object(ar.a)(this.coordinateToCanvasPixelTransform,t.slice());Wn(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(er.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?n.call(r,this.getLayer(),s):void 0}},e}(Qs),ta=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=Object(ar.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===lo.a.VECTOR)for(var n=0,r=Zs.length;n<r;++n){var o=Zs[n];if(o!==e&&o.handles(i)){this.vectorRenderer_=new o(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,n=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,h=this.getLayer().getSource(),c=t.viewHints,l=this.vectorRenderer_,u=t.extent;if(l||void 0===e.extent||(u=Object(Vn.B)(u,e.extent)),!c[Ln]&&!c[kn]&&!Object(Vn.H)(u)){var d=o.projection;if(!Ns.a){var p=h.getProjection();p&&(d=p)}var f=this.skippedFeatures_;if(l){var g=l.context,v=Object(wn.a)({},t,{size:[Object(Vn.E)(u)/a,Object(Vn.A)(u)/a],viewState:Object(wn.a)({},t.viewState,{rotation:0})}),_=Object.keys(v.skippedFeatureUids).sort();i=new Ds(u,a,n,g.canvas,function(t){!l.prepareFrame(v,e)||!l.replayGroupChanged&&Object(an.b)(f,_)||(g.canvas.width=v.size[0]*n,g.canvas.height=v.size[1]*n,l.compose(g,v,e),f=_,t())})}else i=h.getImage(u,a,n,d);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=f)}if(this.image_){var y=(i=this.image_).getExtent(),m=i.getResolution(),b=i.getPixelRatio(),x=n*m/(a*b),O=Object(ar.b)(this.imageTransform_,n*r[0]/2,n*r[1]/2,x,x,0,b*(y[0]-s[0])/m,b*(s[1]-y[3])/m);Object(ar.b)(this.coordinateToCanvasPixelTransform,n*r[0]/2-O[4],n*r[1]/2-O[5],n/a,-n/a,0,-s[0],-s[1]),this.renderedResolution=m*n/b}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,n,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,n,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,n,r)},e}(Js);ta.handles=function(t){return t.getType()===lo.a.IMAGE||t.getType()===lo.a.VECTOR&&t.getRenderMode()===uo.IMAGE},ta.create=function(t,e){return new ta(e)};var ea=ta,ia=i("o1CS"),na=function(t){function e(e,i){t.call(this,e),this.context=i?null:Object(er.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(Vn.j)(),this.tmpTileRange_=new ia.b(0,0,0,0),this.imageTransform_=Object(ar.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return i==bn.a.LOADED||i==bn.a.EMPTY||i==bn.a.ERROR&&!n},e.prototype.getTile=function(t,e,i,n,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,i,n,r);return s.getState()==bn.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(bn.a.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,n=t.size,r=t.viewState,o=r.projection,s=r.resolution,a=r.center,h=this.getLayer(),c=h.getSource(),l=c.getRevision(),u=c.getTileGridForProjection(o),d=u.getZForResolution(s,this.zDirection),p=u.getResolution(d),f=Math.round(s/p)||1,g=t.extent;if(void 0!==e.extent&&(g=Object(Vn.B)(g,e.extent)),Object(Vn.H)(g))return!1;var v=u.getTileRangeForExtentAndZ(g,d),_=u.getTileRangeExtent(d,v),y=c.getTilePixelRatio(i),m={};m[d]={};var b,x,O,w=this.createLoadedTileFinder(c,o,m),E=t.viewHints,M=E[Ln]||E[kn],C=this.tmpExtent,S=this.tmpTileRange_;for(this.newTiles_=!1,x=v.minX;x<=v.maxX;++x)for(O=v.minY;O<=v.maxY;++O)if(!(Date.now()-t.time>16&&M)){if(b=this.getTile(d,x,O,i,o),this.isDrawableTile_(b)){var T=Object(ui.c)(this);if(b.getState()==bn.a.LOADED){m[d][b.tileCoord.toString()]=b;var j=b.inTransition(T);this.newTiles_||!j&&-1!==this.renderedTiles.indexOf(b)||(this.newTiles_=!0)}if(1===b.getAlpha(T,t.time))continue}var R=u.getTileCoordChildTileRange(b.tileCoord,S,C),I=!1;R&&(I=w(d+1,R)),I||u.forEachTileCoordParentTileRange(b.tileCoord,w,null,S,C)}var L=p*i/y*f;if(!(this.renderedResolution&&Date.now()-t.time>16&&M)&&(this.newTiles_||!this.renderedExtent_||!Object(Vn.g)(this.renderedExtent_,g)||this.renderedRevision!=l||f!=this.oversampling_||!M&&L!=this.renderedResolution)){var k=this.context;if(k){var P=c.getTilePixelSize(d,i,o),A=Math.round(v.getWidth()*P[0]/f),F=Math.round(v.getHeight()*P[1]/f),N=k.canvas;N.width!=A||N.height!=F?(this.oversampling_=f,N.width=A,N.height=F):((this.renderedExtent_&&!Object(Vn.p)(_,this.renderedExtent_)||this.renderedRevision!=l)&&k.clearRect(0,0,A,F),f=this.oversampling_)}this.renderedTiles.length=0;var D,G,z,U,W,B,X,Y,H,V,K=Object.keys(m).map(Number);for(K.sort(function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0}),U=0,W=K.length;U<W;++U)for(var q in z=K[U],G=c.getTilePixelSize(z,i,o),D=u.getResolution(z)/p,X=y*c.getGutterForProjection(o),Y=m[z])b=Y[q],x=((B=u.getTileCoordExtent(b.getTileCoord(),C))[0]-_[0])/p*y/f,O=(_[3]-B[3])/p*y/f,H=G[0]*D/f,V=G[1]*D/f,this.drawTileImage(b,t,e,x,O,H,V,X,d===z),this.renderedTiles.push(b);this.renderedRevision=l,this.renderedResolution=p*i/y*f,this.renderedExtent_=_}var Z=this.renderedResolution/s,$=Object(ar.b)(this.imageTransform_,i*n[0]/2,i*n[1]/2,Z,Z,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*i,(a[1]-this.renderedExtent_[3])/this.renderedResolution*i);return Object(ar.b)(this.coordinateToCanvasPixelTransform,i*n[0]/2-$[4],i*n[1]/2-$[5],i/s,-i/s,0,-a[0],-a[1]),this.updateUsedTiles(t.usedTiles,c,d,v),this.manageTilePyramid(t,c,u,i,o,g,d,h.getPreload()),this.scheduleExpireCache(t,c),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,n,r,o,s,a,h){var c=this.getTileImage(t);if(c){var l=Object(ui.c)(this),u=h?t.getAlpha(l,e.time):1,d=this.getLayer().getSource();1!==u||d.getOpaque(e.viewState.projection)||this.context.clearRect(n,r,o,s);var p=u!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,r,o,s),p&&this.context.restore(),1!==u?e.animate=!0:h&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Js);na.handles=function(t){return t.getType()===lo.a.TILE},na.create=function(t,e){return new na(e)},na.prototype.getLayer;var ra=na,oa=function(){};oa.prototype.getReplay=function(t,e){return Object(ui.b)()},oa.prototype.isEmpty=function(){return Object(ui.b)()},oa.prototype.addDeclutter=function(t){return Object(ui.b)()};var sa=oa,aa={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},ha=i("+Ggc"),ca=i("3ahG");function la(t,e,i,n,r,o,s,a){for(var h,c,l,u=[],d=t[e]>t[i-n],p=r.length,f=t[e],g=t[e+1],v=t[e+=n],_=t[e+1],y=0,m=Math.sqrt(Math.pow(v-f,2)+Math.pow(_-g,2)),b="",x=0,O=0;O<p;++O){c=d?p-O-1:O;var w=r.charAt(c),E=o(b=d?w+b:b+w)-x;x+=E;for(var M=s+E/2;e<i-n&&y+m<M;)f=v,g=_,v=t[e+=n],_=t[e+1],y+=m,m=Math.sqrt(Math.pow(v-f,2)+Math.pow(_-g,2));var C=M-y,S=Math.atan2(_-g,v-f);if(d&&(S+=S>0?-Math.PI:Math.PI),void 0!==l){var T=S-l;if(T+=T>Math.PI?-2*Math.PI:T<-Math.PI?2*Math.PI:0,Math.abs(T)>a)return null}var j=C/m,R=Object(Tn.c)(f,v,j),I=Object(Tn.c)(g,_,j);l==S?(d&&(h[0]=R,h[1]=I,h[2]=E/2),h[4]=b):(x=E,h=[R,I,E/2,S,b=w],d?u.unshift(h):u.push(h),l=S),s+=E}return u}var ua={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},da=[ua.FILL],pa=[ua.STROKE],fa=[ua.BEGIN_PATH],ga=[ua.CLOSE_PATH],va=ua,_a=[aa.POLYGON,aa.CIRCLE,aa.LINE_STRING,aa.IMAGE,aa.TEXT,aa.DEFAULT],ya={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ma=Object(Vn.j)(),ba=Object(ar.c)(),xa=function(t){function e(e,i,n,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=i,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(ar.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,n,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,i,n,r,o,s,a,h,c,l,u,d,p,f,g,v,_){var y=v||_;e-=r*=d,i-=o*=d;var m,b,x,O,w=f+c>n.width?n.width-c:f,E=a+l>n.height?n.height-l:a,M=g[3]+w*d+g[1],C=g[0]+E*d+g[2],S=e-g[3],T=i-g[0];(y||0!==u)&&(m=[S,T],b=[S+M,T],x=[S+M,T+C],O=[S,T+C]);var j=null;if(0!==u){var R=e+r,I=i+o;j=Object(ar.b)(ba,R,I,1,1,u,-R,-I),Object(Vn.l)(ma),Object(Vn.r)(ma,Object(ar.a)(ba,m)),Object(Vn.r)(ma,Object(ar.a)(ba,b)),Object(Vn.r)(ma,Object(ar.a)(ba,x)),Object(Vn.r)(ma,Object(ar.a)(ba,O))}else Object(Vn.k)(S,T,S+M,T+C,ma);var L=t.canvas,k=_?_[2]*d/2:0,P=ma[0]-k<=L.width&&ma[2]+k>=0&&ma[1]-k<=L.height&&ma[3]+k>=0;if(p&&(e=Math.round(e),i=Math.round(i)),s){if(!P&&1==s[4])return;Object(Vn.q)(s,ma);var A=P?[t,j?j.slice(0):null,h,n,c,l,w,E,e,i,d]:null;A&&y&&A.push(v,_,m,b,x,O),s.push(A)}else P&&(y&&this.replayTextBackground_(t,m,b,x,O,v,_),Do(t,j,h,n,c,l,w,E,e,i,d))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,i,n,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=n);var h,c,l,u=[t[e],t[e+1]],d=[NaN,NaN],p=!0;for(h=e+n;h<i;h+=n)d[0]=t[h],d[1]=t[h+1],(l=Object(Vn.i)(a,d))!==c?(p&&(this.coordinates[s++]=u[0],this.coordinates[s++]=u[1]),this.coordinates[s++]=d[0],this.coordinates[s++]=d[1],p=!1):l===ha.a.INTERSECTING?(this.coordinates[s++]=d[0],this.coordinates[s++]=d[1],p=!1):p=!0,u[0]=d[0],u[1]=d[1],c=l;return(r&&p||h===e+n)&&(this.coordinates[s++]=u[0],this.coordinates[s++]=u[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var a=i[o],h=this.appendFlatCoordinates(t,e,a,n,!1,!1);r.push(h),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,o,s,a,h=t.getType(),c=t.getStride(),l=this.coordinates.length;if(h==Kn.a.MULTI_POLYGON){n=(t=t).getOrientedFlatCoordinates(),s=[];var u=t.getEndss();a=0;for(var d=0,p=u.length;d<p;++d){var f=[];a=this.drawCustomCoordinates_(n,a,u[d],c,f),s.push(f)}this.instructions.push([va.CUSTOM,l,s,t,i,$r.c])}else h==Kn.a.POLYGON||h==Kn.a.MULTI_LINE_STRING?(o=[],n=h==Kn.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(n,0,t.getEnds(),c,o),this.instructions.push([va.CUSTOM,l,o,t,i,$r.b])):h==Kn.a.LINE_STRING||h==Kn.a.MULTI_POINT?(n=t.getFlatCoordinates(),r=this.appendFlatCoordinates(n,0,n.length,c,!1,!1),this.instructions.push([va.CUSTOM,l,r,t,i,$r.a])):h==Kn.a.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),r=this.coordinates.length,this.instructions.push([va.CUSTOM,l,r,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[va.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[va.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(ar.a)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,No)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],xi.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Do.apply(void 0,s))}}t.length=5,Object(Vn.l)(t)}}},e.prototype.replay_=function(t,e,i,n,r,o,s){var a;this.pixelCoordinates_&&Object(an.b)(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=Object(zs.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(ar.g)(this.renderedTransform_,e));for(var h,c,l,u,d,p,f,g,v,_,y,m,b=!Object(wn.d)(i),x=0,O=n.length,w=0,E=0,M=0,C=null,S=null,T=this.coordinateCache_,j=this.viewRotation_,R={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},I=this.instructions!=n||this.overlaps?0:200;x<O;){var L=n[x];switch(L[0]){case va.BEGIN_GEOMETRY:_=L[1],b&&i[Object(ui.c)(_)]||!_.getGeometry()?x=L[2]:void 0===s||Object(Vn.F)(s,_.getGeometry().getExtent())?++x:x=L[2]+1;break;case va.BEGIN_PATH:E>I&&(this.fill_(t),E=0),M>I&&(t.stroke(),M=0),E||M||(t.beginPath(),u=d=NaN),++x;break;case va.CIRCLE:var k=a[w=L[1]],P=a[w+1],A=a[w+2]-k,F=a[w+3]-P,N=Math.sqrt(A*A+F*F);t.moveTo(k+N,P),t.arc(k,P,N,0,2*Math.PI,!0),++x;break;case va.CLOSE_PATH:t.closePath(),++x;break;case va.CUSTOM:w=L[1],h=L[2];var D=L[3],G=L[4],z=6==L.length?L[5]:void 0;R.geometry=D,R.feature=_,x in T||(T[x]=[]);var U=T[x];z?z(a,w,h,2,U):(U[0]=a[w],U[1]=a[w+1],U.length=2),G(U,R),++x;break;case va.DRAW_IMAGE:w=L[1],h=L[2],v=L[3],c=L[4],l=L[5],g=o?null:L[6];var W=L[7],B=L[8],X=L[9],Y=L[10],H=L[11],V=L[12],K=L[13],q=L[14],Z=void 0,$=void 0,Q=void 0;for(L.length>16?(Z=L[15],$=L[16],Q=L[17]):(Z=Mo,$=Q=!1),H&&(V+=j);w<h;w+=2)this.replayImage_(t,a[w],a[w+1],v,c,l,g,W,B,X,Y,V,K,r,q,Z,$?C:null,Q?S:null);this.renderDeclutter_(g,_),++x;break;case va.DRAW_CHARS:var J=L[1],tt=L[2],et=L[3];g=o?null:L[4];var it=L[5],nt=L[6],rt=L[7],ot=L[8],st=L[9],at=L[10],ht=L[11],ct=L[12],lt=L[13],ut=L[14],dt=Object(ca.a)(a,J,tt,2),pt=ot(ct);if(it||pt<=dt){var ft=this.textStates[lt].textAlign,gt=la(a,J,tt,2,ct,ot,(dt-pt)*ya[ft],rt);if(gt){var vt=void 0,_t=void 0,yt=void 0,mt=void 0,bt=void 0;if(at)for(vt=0,_t=gt.length;vt<_t;++vt)yt=(bt=gt[vt])[4],mt=this.getImage(yt,lt,"",at),c=bt[2]+ht,l=et*mt.height+2*(.5-et)*ht-st,this.replayImage_(t,bt[0],bt[1],mt,c,l,g,mt.height,1,0,0,bt[3],ut,!1,mt.width,Mo,null,null);if(nt)for(vt=0,_t=gt.length;vt<_t;++vt)yt=(bt=gt[vt])[4],mt=this.getImage(yt,lt,nt,""),c=bt[2],l=et*mt.height-st,this.replayImage_(t,bt[0],bt[1],mt,c,l,g,mt.height,1,0,0,bt[3],ut,!1,mt.width,Mo,null,null)}}this.renderDeclutter_(g,_),++x;break;case va.END_GEOMETRY:if(void 0!==o){var xt=o(_=L[1]);if(xt)return xt}++x;break;case va.FILL:I?E++:this.fill_(t),++x;break;case va.MOVE_TO_LINE_TO:for(w=L[1],h=L[2],y=a[w],f=(m=a[w+1])+.5|0,(p=y+.5|0)===u&&f===d||(t.moveTo(y,m),u=p,d=f),w+=2;w<h;w+=2)p=(y=a[w])+.5|0,f=(m=a[w+1])+.5|0,w!=h-2&&p===u&&f===d||(t.lineTo(y,m),u=p,d=f);++x;break;case va.SET_FILL_STYLE:C=L,this.alignFill_=L[2],E&&(this.fill_(t),E=0,M&&(t.stroke(),M=0)),t.fillStyle=L[1],++x;break;case va.SET_STROKE_STYLE:S=L,M&&(t.stroke(),M=0),this.setStrokeStyle_(t,L),++x;break;case va.STROKE:I?M++:t.stroke(),++x;break;default:++x}}E&&this.fill_(t),M&&t.stroke()},e.prototype.replay=function(t,e,i,n,r){this.viewRotation_=i,this.replay_(t,e,n,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,n,r,o){return this.viewRotation_=i,this.replay_(t,e,n,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,o=-1;for(t=0;t<r;++t)(n=(i=e[t])[0])==va.END_GEOMETRY?o=t:n==va.BEGIN_GEOMETRY&&(i[2]=t,Object(an.i)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=bo(n||Oo)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=bo(r||Eo);var o=e.getLineCap();i.lineCap=void 0!==o?o:"round";var s=e.getLineDash();i.lineDash=s?s.slice():wo;var a=e.getLineDashOffset();i.lineDashOffset=a||0;var h=e.getLineJoin();i.lineJoin=void 0!==h?h:"round";var c=e.getWidth();i.lineWidth=void 0!==c?c:1;var l=e.getMiterLimit();i.miterLimit=void 0!==l?l:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,n=[va.SET_FILL_STYLE,i];return"string"!=typeof i&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[va.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Object(an.b)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[va.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(Vn.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(Vn.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Ws),Oa=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,n){return this.appendFlatCoordinates(t,e,i,n,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([va.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([va.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([va.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([va.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=n[0]},e}(xa),wa=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,i,n,!1,!1),s=[va.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([va.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],fa);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(pa),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([va.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],fa);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),h=0,c=0,l=o.length;c<l;++c)h=this.drawFlatCoordinates_(s,h,o[c],a);this.hitDetectionInstructions.push(pa),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(pa),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(pa),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(fa)},e}(xa),Ea=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,s=void 0!=r.strokeStyle,a=i.length;this.instructions.push(fa),this.hitDetectionInstructions.push(fa);for(var h=0;h<a;++h){var c=i[h],l=this.coordinates.length,u=this.appendFlatCoordinates(t,e,c,n,!0,!s),d=[va.MOVE_TO_LINE_TO,l,u];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(ga),this.hitDetectionInstructions.push(ga)),e=c}return o&&(this.instructions.push(da),this.hitDetectionInstructions.push(da)),s&&(this.instructions.push(pa),this.hitDetectionInstructions.push(pa)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([va.SET_FILL_STYLE,go(Oo)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([va.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var h=[va.CIRCLE,a];this.instructions.push(fa,h),this.hitDetectionInstructions.push(fa,h),this.hitDetectionInstructions.push(da),void 0!==i.fillStyle&&this.instructions.push(da),void 0!==i.strokeStyle&&(this.instructions.push(pa),this.hitDetectionInstructions.push(pa)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([va.SET_FILL_STYLE,go(Oo)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([va.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([va.SET_FILL_STYLE,go(Oo)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([va.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),h=0,c=0,l=o.length;c<l;++c)h=this.drawFlatCoordinatess_(s,h,o[c],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,n=e.length;i<n;++i)e[i]=Object(to.e)(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(xa);function Ma(t,e,i,n,r){var o,s,a,h,c,l,u,d,p,f=i,g=i,v=0,_=0,y=i;for(o=i;o<n;o+=r){var m=e[o],b=e[o+1];void 0!==h&&(d=m-h,p=b-c,a=Math.sqrt(d*d+p*p),void 0!==l&&(_+=s,Math.acos((l*d+u*p)/(s*a))>t&&(_>v&&(v=_,f=y,g=o),_=0,y=o-r)),s=a,l=d,u=p),h=m,c=b}return(_+=a)>v?[y,o]:[f,g]}var Ca="line";var Sa={Circle:Ea,Default:xa,Image:Oa,LineString:wa,Polygon:Ea,Text:function(t){function e(e,i,n,r,o,s){t.call(this,e,i,n,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Co.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,s,a=this.coordinates.length,h=t.getType(),c=null,l=2,u=2;if(r.placement===Ca){if(!Object(Vn.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var d;if(c=t.getFlatCoordinates(),u=t.getStride(),h==Kn.a.LINE_STRING)d=[c.length];else if(h==Kn.a.MULTI_LINE_STRING)d=t.getEnds();else if(h==Kn.a.POLYGON)d=t.getEnds().slice(0,1);else if(h==Kn.a.MULTI_POLYGON){var p=t.getEndss();for(d=[],o=0,s=p.length;o<s;++o)d.push(p[o][0])}this.beginGeometry(t,e);for(var f,g=r.textAlign,v=0,_=0,y=d.length;_<y;++_){if(void 0==g){var m=Ma(r.maxAngle,c,v,d[_],u);v=m[0],f=m[1]}else f=d[_];for(o=v;o<f;o+=u)this.coordinates.push(c[o],c[o+1]);l=this.coordinates.length,v=d[_],this.drawChars_(a,l,this.declutterGroup_),a=l}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),x=b.width/this.pixelRatio;switch(h){case Kn.a.POINT:case Kn.a.MULTI_POINT:l=(c=t.getFlatCoordinates()).length;break;case Kn.a.LINE_STRING:c=t.getFlatMidpoint();break;case Kn.a.CIRCLE:c=t.getCenter();break;case Kn.a.MULTI_LINE_STRING:l=(c=t.getFlatMidpoints()).length;break;case Kn.a.POLYGON:if(c=t.getFlatInteriorPoint(),!r.overflow&&c[2]/this.resolution<x)return;u=3;break;case Kn.a.MULTI_POLYGON:var O=t.getFlatInteriorPoints();for(c=[],o=0,s=O.length;o<s;o+=3)(r.overflow||O[o+2]/this.resolution>=x)&&c.push(O[o],O[o+1]);if(0==(l=c.length))return}l=this.appendFlatCoordinates(c,0,l,u,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(b,a,l),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,n){var r,o=n+e+t+i+this.pixelRatio;if(!Co.containsKey(o)){var s=n?this.strokeStates[n]||this.textStrokeState_:null,a=i?this.fillStates[i]||this.textFillState_:null,h=this.textStates[e]||this.textState_,c=this.pixelRatio,l=h.scale*c,u=ya[h.textAlign||"center"],d=n&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),f=p.length,g=[],v=function(t,e,i){for(var n=e.length,r=0,o=0;o<n;++o){var s=Ao(t,e[o]);r=Math.max(r,s),i.push(s)}return r}(h.font,p,g),_=Po(h.font),y=_*f,m=v+d,b=Object(er.a)(Math.ceil(m*l),Math.ceil((y+d)*l));r=b.canvas,Co.set(o,r),1!=l&&b.scale(l,l),b.font=h.font,n&&(b.strokeStyle=s.strokeStyle,b.lineWidth=d,b.lineCap=s.lineCap,b.lineJoin=s.lineJoin,b.miterLimit=s.miterLimit,xi.a&&s.lineDash.length&&(b.setLineDash(s.lineDash),b.lineDashOffset=s.lineDashOffset)),i&&(b.fillStyle=a.fillStyle),b.textBaseline="middle",b.textAlign="center";var x,O=.5-u,w=u*r.width/l+O*d;if(n)for(x=0;x<f;++x)b.strokeText(p[x],w+O*g[x],.5*(d+_)+x*_);if(i)for(x=0;x<f;++x)b.fillText(p[x],w+O*g[x],.5*(d+_)+x*_)}return Co.get(o)},e.prototype.drawTextImage_=function(t,e,i){var n=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=ya[n.textAlign||"center"],a=ya[n.textBaseline],h=r&&r.lineWidth?r.lineWidth:0,c=s*t.width/o+2*(.5-s)*h,l=a*t.height/o+2*(.5-a)*h;this.instructions.push([va.DRAW_IMAGE,e,i,t,(c-this.textOffsetX_)*o,(l-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,n.padding==Mo?Mo:n.padding.map(function(t){return t*o}),!!n.backgroundFill,!!n.backgroundStroke]),this.hitDetectionInstructions.push([va.DRAW_IMAGE,e,i,t,(c-this.textOffsetX_)*o,(l-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,n.padding,!!n.backgroundFill,!!n.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var n=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;n&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var h=this.fillKey_;o&&(h in this.fillStates||(this.fillStates[h]={fillStyle:o.fillStyle}));var c=this.pixelRatio,l=ya[r.textBaseline],u=this.textOffsetY_*c,d=this.text_,p=r.font,f=r.scale,g=n?n.lineWidth*f/2:0,v=this.widths_[p];v||(this.widths_[p]=v={}),this.instructions.push([va.DRAW_CHARS,t,e,l,i,r.overflow,h,r.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Ao(p,t)),e*f*c},u,s,g*c,d,a,1]),this.hitDetectionInstructions.push([va.DRAW_CHARS,t,e,l,i,r.overflow,h,r.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Ao(p,t)),e*f},u,s,g,d,a,1/c])},e.prototype.setTextStyle=function(t,e){var i,n,r;if(t){this.declutterGroup_=e;var o=t.getFill();o?((n=this.textFillState_)||(n=this.textFillState_={}),n.fillStyle=bo(o.getColor()||Oo)):n=this.textFillState_=null;var s=t.getStroke();if(s){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var a=s.getLineDash(),h=s.getLineDashOffset(),c=s.getWidth(),l=s.getMiterLimit();r.lineCap=s.getLineCap()||"round",r.lineDash=a?a.slice():wo,r.lineDashOffset=void 0===h?0:h,r.lineJoin=s.getLineJoin()||"round",r.lineWidth=void 0===c?1:c,r.miterLimit=void 0===l?10:l,r.strokeStyle=bo(s.getColor()||Eo)}else r=this.textStrokeState_=null;i=this.textState_;var u=t.getFont()||"10px sans-serif";Ro(u);var d=t.getScale();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||"middle",i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Mo,i.scale=void 0===d?1:d;var p=t.getOffsetX(),f=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===v?0:v,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(ui.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(ui.c)(n.fillStyle):""}else this.text_=""},e}(xa)},Ta=function(t){function e(e,i,n,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Object(er.a)(1,1),this.hitDetectionTransform_=Object(ar.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(Vn.j)()).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,s){var a,h=2*(n=Math.round(n))+1,c=Object(ar.b)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=this.hitDetectionContext_;l.canvas.width!==h||l.canvas.height!==h?(l.canvas.width=h,l.canvas.height=h):l.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(a=Object(Vn.j)(),Object(Vn.r)(a,t),Object(Vn.c)(a,e*(this.renderBuffer_+n),a));var u,d,p=function(t){if(void 0!==ja[t])return ja[t];for(var e=2*t+1,i=new Array(e),n=0;n<e;n++)i[n]=new Array(e);var r=t,o=0,s=0;for(;r>=o;)Ra(i,t+r,t+o),Ra(i,t+o,t+r),Ra(i,t-o,t+r),Ra(i,t-r,t+o),Ra(i,t-r,t-o),Ra(i,t-o,t-r),Ra(i,t+o,t-r),Ra(i,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return ja[t]=i,i}(n);function f(t){for(var e=l.getImageData(0,0,h,h).data,i=0;i<h;i++)for(var n=0;n<h;n++)if(p[i][n]&&e[4*(n*h+i)+3]>0){var r=void 0;return(!u||d!=aa.IMAGE&&d!=aa.TEXT||-1!==u.indexOf(t))&&(r=o(t)),r||void l.clearRect(0,0,h,h)}}this.declutterTree_&&(u=this.declutterTree_.all().map(function(t){return t.value}));var g,v,_,y,m,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(an.g),g=b.length-1;g>=0;--g){var x=b[g].toString();for(_=this.replaysByZIndex_[x],v=_a.length-1;v>=0;--v)if(void 0!==(y=_[d=_a[v]]))if(!s||d!=aa.IMAGE&&d!=aa.TEXT){if(m=y.replayHitDetection(l,c,i,r,f,a))return m}else{var O=s[x];O?O.push(y,c.slice(0)):s[x]=[y,c.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],n=e[1],r=e[2],o=e[3],s=[i,n,i,o,r,o,r,n];return Object(zs.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];void 0===r&&(r=new(0,Sa[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),n[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(wn.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,n,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(an.g),t.save(),this.clip(t,e);var h,c,l,u,d,p,f=o||_a;for(h=0,c=a.length;h<c;++h){var g=a[h].toString();for(d=this.replaysByZIndex_[g],l=0,u=f.length;l<u;++l){var v=f[l];if(p=d[v],void 0!==p)if(!s||v!=aa.IMAGE&&v!=aa.TEXT)p.replay(t,e,i,n,r);else{var _=s[g];_?_.push(p,e.slice(0)):s[g]=[p,e.slice(0)]}}}t.restore()},e}(sa),ja={0:[[!0]]};function Ra(t,e,i){var n,r=Math.floor(t.length/2);if(e>=r)for(n=r;n<e;n++)t[n][i]=!0;else if(e<r)for(n=e+1;n<r;n++)t[n][i]=!0}var Ia=Ta,La=.5,ka={Point:function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=xo.a.LOADED)return;var o=t.getReplay(i.getZIndex(),aa.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),aa.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,n)}},LineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),aa.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),aa.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,n)}},Polygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var s=t.getReplay(i.getZIndex(),aa.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,n)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),aa.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,n)}},MultiPoint:function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=xo.a.LOADED)return;var o=t.getReplay(i.getZIndex(),aa.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),aa.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,n)}},MultiLineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),aa.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,n)}var s=i.getText();if(s){var a=t.getReplay(i.getZIndex(),aa.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,n)}},MultiPolygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(o||r){var s=t.getReplay(i.getZIndex(),aa.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,n)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),aa.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,n)}},GeometryCollection:function(t,e,i,n){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){var a=ka[s[r].getType()];a(t,s[r],i,n)}},Circle:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var s=t.getReplay(i.getZIndex(),aa.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,n)}var a=i.getText();if(a){var h=t.getReplay(i.getZIndex(),aa.TEXT);h.setTextStyle(a,t.addDeclutter(!1)),h.drawText(e,n)}}};function Pa(t,e){return parseInt(Object(ui.c)(t),10)-parseInt(Object(ui.c)(e),10)}function Aa(t,e){var i=Fa(t,e);return i*i}function Fa(t,e){return La*t/e}function Na(t,e,i,n,r,o){var s=!1,a=i.getImage();if(a){var h=a.getImageState();h==xo.a.LOADED||h==xo.a.ERROR?a.unlistenImageChange(r,o):(h==xo.a.IDLE&&a.load(),h=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,i,n){var r=i.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(n);if(i.getRenderer())!function t(e,i,n,r){if(i.getType()==Kn.a.GEOMETRY_COLLECTION){for(var o=i.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],n,r);return}var h=e.getReplay(n.getZIndex(),aa.DEFAULT);h.drawCustom(i,r,n.getRenderer())}(t,o,i,e);else{var s=ka[o.getType()];s(t,o,i,e)}}(t,e,i,n),s}var Da=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?ss()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(Vn.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(er.a)(),Object(Ei.a)(Co,xn.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(Ei.c)(Co,xn.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var n=e.extent,r=e.pixelRatio,o=i.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,h=s.rotation,c=a.getExtent(),l=this.getLayer().getSource(),u=this.getTransform(e,0),d=i.extent,p=void 0!==d;p&&this.clip(t,e,d);var f=this.replayGroup_;if(f&&!f.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,v=this.getLayer(),_=0,y=0,m=1!==i.opacity,b=v.hasListener(yn.a.RENDER);if(m||b){var x=t.canvas.width,O=t.canvas.height;if(h){var w=Math.round(Math.sqrt(x*x+O*O));_=(w-x)/2,y=(w-O)/2,x=O=w}this.context.canvas.width=x,this.context.canvas.height=O,g=this.context}else g=t;var E=g.globalAlpha;m||(g.globalAlpha=i.opacity),g!=t&&g.translate(_,y);var M=e.viewHints,C=!(M[Ln]||M[kn]),S=e.size[0]*r,T=e.size[1]*r;if(Fo(g,-h,S/2,T/2),f.replay(g,u,h,o,C),l.getWrapX()&&a.canWrapX()&&!Object(Vn.g)(c,n)){for(var j,R=n[0],I=Object(Vn.E)(c),L=0;R<c[0];)j=I*--L,u=this.getTransform(e,j),f.replay(g,u,h,o,C),R+=I;for(L=0,R=n[2];R>c[2];)j=I*++L,u=this.getTransform(e,j),f.replay(g,u,h,o,C),R-=I}if(Fo(g,h,S/2,T/2),b&&this.dispatchRenderEvent(g,e,u),g!=t){if(m){var k=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(g.canvas,-_,-y),t.globalAlpha=k}else t.drawImage(g.canvas,-_,-y);g.translate(-_,-y)}m||(g.globalAlpha=E)}p&&t.restore()},e.prototype.composeFrame=function(t,e,i){var n=this.getTransform(t,0);this.preCompose(i,t,n),this.compose(i,t,e),this.postCompose(i,t,e,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){if(this.replayGroup_){var o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,i,{},function(t){var e=Object(ui.c)(t);if(!(e in h))return h[e]=!0,n.call(r,t,a)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),n=i.getSource(),r=t.viewHints[Ln],o=t.viewHints[kn],s=i.getUpdateWhileAnimating(),a=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var h=t.extent,c=t.viewState,l=c.projection,u=c.resolution,d=t.pixelRatio,p=i.getRevision(),f=i.getRenderBuffer(),g=i.getRenderOrder();void 0===g&&(g=Pa);var v=Object(Vn.c)(h,f*u),_=c.projection.getExtent();if(n.getWrapX()&&c.projection.canWrapX()&&!Object(Vn.g)(_,t.extent)){var y=Object(Vn.E)(_),m=Math.max(Object(Vn.E)(v)/2,y);v[0]=_[0]-m,v[2]=_[2]+m}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==p&&this.renderedRenderOrder_==g&&Object(Vn.g)(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new Ia(Fa(u,d),v,u,d,n.getOverlaps(),this.declutterTree_,i.getRenderBuffer());n.loadFeatures(v,u,l);var x=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,u)),e){var r=this.renderFeature(t,u,d,e,b);this.dirty_=this.dirty_||r}}.bind(this);if(g){var O=[];n.forEachFeatureInExtent(v,function(t){O.push(t)}),O.sort(g);for(var w=0,E=O.length;w<E;++w)x(O[w])}else n.forEachFeatureInExtent(v,x);return b.finish(),this.renderedResolution_=u,this.renderedRevision_=p,this.renderedRenderOrder_=g,this.renderedExtent_=v,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var s=0,a=n.length;s<a;++s)o=Na(r,t,n[s],Aa(e,i),this.handleStyleImageChange_,this)||o;else o=Na(r,t,n,Aa(e,i),this.handleStyleImageChange_,this);return o},e}(Qs);Da.handles=function(t){return t.getType()===lo.a.VECTOR},Da.create=function(t,e){return new Da(e)};var Ga=Da,za={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Ua={image:[aa.POLYGON,aa.CIRCLE,aa.LINE_STRING,aa.IMAGE,aa.TEXT],hybrid:[aa.POLYGON,aa.LINE_STRING]},Wa={image:[aa.DEFAULT],hybrid:[aa.IMAGE,aa.TEXT,aa.DEFAULT],vector:_a},Ba=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?ss()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(ar.c)();var i=e.getRenderMode();this.zDirection=i===za.VECTOR?1:0,i!==za.VECTOR&&(this.context=Object(er.a)()),Object(Ei.a)(Co,xn.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(Ei.c)(Co,xn.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,n,r,o){var s=t.prototype.getTile.call(this,e,i,n,r,o);return s.getState()===bn.a.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,i){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var n=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var c=r.getSource(),l=c.getTileGrid(),u=c.getTileGridForProjection(i).getResolution(t.tileCoord[0]),d=t.extent,p=function(o,p){var f=t.getTile(t.tileKeys[o]);if(f.getState()==bn.a.LOADED){var g=f.tileCoord,v=l.getTileCoordExtent(g),_=Object(Vn.B)(d,v),y=Object(Vn.p)(v,_)?null:Object(Vn.c)(_,r.getRenderBuffer()*u,n.tmpExtent),m=f.getProjection(),b=!1;Object(h.g)(i,m)||(b=!0,f.setProjection(i)),a.dirty=!1;var x=new Ia(0,_,u,e,c.getOverlaps(),n.declutterTree_,r.getRenderBuffer()),O=Aa(u,e),w=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,u)),e){var n=this.renderFeature(t,O,e,x);this.dirty_=this.dirty_||n,a.dirty=a.dirty||n}},E=f.getFeatures();s&&s!==a.renderedRenderOrder&&E.sort(s);for(var M=0,C=E.length;M<C;++M){var S=E[M];b&&(m.getUnits()==Zn.b.TILE_PIXELS&&(m.setWorldExtent(v),m.setExtent(f.getExtent())),S.getGeometry().transform(m,i)),y&&!Object(Vn.F)(y,S.getGeometry().getExtent())||w.call(n,S)}x.finish(),f.setReplayGroup(r,t.tileCoord.toString(),x)}},f=0,g=t.tileKeys.length;f<g;++f)p(f);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=e.viewState.resolution,s=e.viewState.rotation;i=void 0==i?0:i;var a,h,c,l,u=this.getLayer(),d={},p=this.renderedTiles;for(c=0,l=p.length;c<l;++c){var f=p[c];if(a=Object(Vn.c)(f.extent,i*o,a),Object(Vn.f)(a,t))for(var g=0,v=f.tileKeys.length;g<v;++g){var _=f.getTile(f.tileKeys[g]);if(_.getState()==bn.a.LOADED){var y=_.getReplayGroup(u,f.tileCoord.toString());h=h||y.forEachFeatureAtCoordinate(t,o,s,i,{},function(t){var e=Object(ui.c)(t);if(!(e in d))return d[e]=!0,n.call(r,t,u)},null)}}}return h},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),n=t.tileCoord,r=i.getResolution(n[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,h=i.getTileCoordExtent(n,this.tmpExtent),c=o.center,l=Object(Vn.C)(h),u=e.size,d=Math.round(s*u[0]/2),p=Math.round(s*u[1]/2);return Object(ar.b)(this.tmpTransform_,d,p,r/a,r/a,o.rotation,(l[0]-c[0])/r,(c[1]-l[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,n){var r=this.getLayer(),o=r.getRenderMode();if(o!=za.IMAGE){var s,a,h=r.getDeclutter()?{}:null,c=r.getSource(),l=Wa[o],u=i.pixelRatio,d=i.viewState.rotation,p=i.size;d&&Fo(e,-d,s=Math.round(u*p[0]/2),a=Math.round(u*p[1]/2)),h&&this.declutterTree_.clear();for(var f=i.viewHints,g=!(f[Ln]||f[kn]),v=this.renderedTiles,_=c.getTileGridForProjection(i.viewState.projection),y=[],m=[],b=v.length-1;b>=0;--b){var x=v[b];if(x.getState()!=bn.a.ABORT)for(var O=x.tileCoord,w=_.getTileCoordExtent(O,this.tmpExtent)[0]-x.extent[0],E=void 0,M=0,C=x.tileKeys.length;M<C;++M){var S=x.getTile(x.tileKeys[M]);if(S.getState()==bn.a.LOADED){var T=S.getReplayGroup(r,O.toString());if(T&&T.hasReplays(l)){E||(E=this.getTransform(i,w));var j=S.tileCoord[0],R=T.getClipCoords(E);e.save(),e.globalAlpha=n.opacity;for(var I=0,L=y.length;I<L;++I){var k=y[I];j<m[I]&&(e.beginPath(),e.moveTo(R[0],R[1]),e.lineTo(R[2],R[3]),e.lineTo(R[4],R[5]),e.lineTo(R[6],R[7]),e.moveTo(k[6],k[7]),e.lineTo(k[4],k[5]),e.lineTo(k[2],k[3]),e.lineTo(k[0],k[1]),e.clip())}T.replay(e,E,d,{},g,l,h),e.restore(),y.push(R),m.push(j)}}}}h&&function(t,e,i,n){for(var r=Object.keys(t).map(Number).sort(an.g),o={},s=0,a=r.length;s<a;++s)for(var h=t[r[s].toString()],c=0,l=h.length;c<l;){var u=h[c++],d=h[c++];u.replay(e,d,i,o,n)}}(h,e,d,g),d&&Fo(e,d,s,a)}t.prototype.postCompose.call(this,e,i,n)},e.prototype.renderFeature=function(t,e,i,n){if(!i)return!1;var r=!1;if(Array.isArray(i))for(var o=0,s=i.length;o<s;++o)r=Na(n,t,i[o],e,this.handleStyleImageChange_,this)||r;else r=Na(n,t,i,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,i){var n=this.getLayer(),r=t.getReplayState(n),o=n.getRevision(),s=Ua[n.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,h=a[0],c=n.getSource(),l=c.getTileGridForProjection(i),u=l.getResolution(h),d=t.getContext(n),p=c.getTilePixelSize(h,e,i);d.canvas.width=p[0],d.canvas.height=p[1];for(var f=l.getTileCoordExtent(a,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var _=t.getTile(t.tileKeys[g]);if(_.getState()==bn.a.LOADED){var y=e/u,m=Object(ar.e)(this.tmpTransform_);Object(ar.f)(m,y,-y),Object(ar.h)(m,-f[0],-f[3]),_.getReplayGroup(n,t.tileCoord.toString()).replay(d,m,0,{},!0,s)}}}},e}(ra);Ba.handles=function(t){return t.getType()===lo.a.VECTOR_TILE},Ba.create=function(t,e){return new Ba(e)};var Xa=Ba,Ya=function(t){function e(e){(e=Object(wn.a)({},e)).controls||(e.controls=_r()),e.interactions||(e.interactions=Fs()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new $s(this);return t.registerLayerRenderers([ea,ra,Ga,Xa]),t},e}(hr);var Ha="projection";function Va(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}var Ka=function(t){function e(e){var i=e||{},n=document.createElement("div");n.className=void 0!==i.className?i.className:"ol-mouse-position",t.call(this,{element:n,render:i.render||Va,target:i.target}),Object(Ei.a)(this,Object(fi.b)(Ha),this.handleProjectionChanged_,this),i.coordinateFormat&&this.setCoordinateFormat(i.coordinateFormat),i.projection&&this.setProjection(i.projection),this.undefinedHTML_=void 0!==i.undefinedHTML?i.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get(Ha)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var i=e.getViewport();this.listenerKeys.push(Object(Ei.a)(i,xn.a.MOUSEMOVE,this.handleMouseMove,this),Object(Ei.a)(i,xn.a.TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(Ei.a)(i,xn.a.MOUSEOUT,this.handleMouseOut,this),Object(Ei.a)(i,xn.a.TOUCHEND,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set(Ha,Object(h.h)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();this.transform_=i?Object(h.k)(this.mapProjection_,i):h.l}var n=this.getMap().getCoordinateFromPixel(t);if(n){this.transform_(n,n);var r=this.getCoordinateFormat();e=r?r(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(cr),qa=i("kZ1N");i("0vMM");var Za="units",$a={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},Qa=[1,2,5];function Ja(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var th=function(t){function e(e){var i=e||{},n=void 0!==i.className?i.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:i.render||Ja,target:i.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+lr.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==i.minWidth?i.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(Ei.a)(this,Object(fi.b)(Za),this.handleUnitsChanged_,this),this.setUnits(i.units||$a.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(Za)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Za,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,i=t.projection,n=this.getUnits(),r=n==$a.DEGREES?Zn.b.DEGREES:Zn.b.METERS,o=Object(h.i)(i,t.resolution,e,r);i.getUnits()!=Zn.b.DEGREES&&i.getMetersPerUnit()&&r==Zn.b.METERS&&(o*=i.getMetersPerUnit());var s=this.minWidth_*o,a="";if(n==$a.DEGREES){var c=h.a[Zn.b.DEGREES];i.getUnits()==Zn.b.DEGREES?s*=c:o/=c,s<c/60?(a="″",o*=3600):s<c?(a="′",o*=60):a="°"}else n==$a.IMPERIAL?s<.9144?(a="in",o/=.0254):s<1609.344?(a="ft",o/=.3048):(a="mi",o/=1609.344):n==$a.NAUTICAL?(o/=1852,a="nm"):n==$a.METRIC?s<.001?(a="μm",o*=1e6):s<1?(a="mm",o*=1e3):s<1e3?a="m":(a="km",o/=1e3):n==$a.US?s<.9144?(a="in",o*=39.37):s<1609.344?(a="ft",o/=.30480061):(a="mi",o/=1609.3472):Object(On.a)(!1,33);for(var l,u,d=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){if(l=Qa[(d%3+3)%3]*Math.pow(10,Math.floor(d/3)),u=Math.round(l/o),isNaN(u))return this.element.style.display="none",void(this.renderedVisible_=!1);if(u>=this.minWidth_)break;++d}var p=l+" "+a;this.renderedHTML_!=p&&(this.innerElement_.innerHTML=p,this.renderedHTML_=p),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(cr);var eh=i("o6Zh"),ih=i.n(eh);i("9Yib"),i("A0n/");function nh(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:"children"};!function t(r,o){r.forEach(function(r,s,a){
/*!
 * operation-tree-node v1.0.4
 * (c) 2019-2019 yujinpan
 * Released under the MIT License.
 */
var h;i=r[n.children],!1!==e(r,s,a,o)&&(h=i,Array.isArray(h)&&h.length)&&t(i,r)})}(t,null)}var rh=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},i=[];return nh(t,function(){i.push(e.apply(void 0,arguments))},arguments.length>2?arguments[2]:void 0),i};
/*!
 * operation-tree-node v1.0.4
 * (c) 2019-2019 yujinpan
 * Released under the MIT License.
 */var oh=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:"children"};!function t(r,o){r.forEach(function(r,s,a){var h;i=r[n.children],!1!==e(r,s,a,o)&&(h=i,Array.isArray(h)&&h.length)&&t(i,r)})}(t,null)};
/*!
 * operation-tree-node v1.0.4
 * (c) 2019-2019 yujinpan
 * Released under the MIT License.
 */function sh(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ah(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function hh(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ch(t){return!(!Array.isArray(t)||!t.length)}var lh=function(t,e){var i,n,r,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:"children"}).children;return function t(s){var a=[];return s.forEach(function(s){var h=a.find(function(t){return e(t,s)});i=s[o],h?(n=h[o],ch(i)&&(ch(n)?h[o]=t([].concat(hh(n),hh(i))):h[o]=t(i))):(r=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ah(i,!0).forEach(function(e){sh(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ah(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},s),ch(i)&&(r[o]=hh(i)),a.push(r))}),a}(t)};
/*!
 * operation-tree-node v1.0.4
 * (c) 2019-2019 yujinpan
 * Released under the MIT License.
 */function uh(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dh(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function ph(t){return!(!Array.isArray(t)||!t.length)}function fh(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:"children"};!function t(r,o){r.forEach(function(r,s,a){i=r[n.children],!1!==e(r,s,a,o)&&ph(i)&&t(i,r)})}(t,null)}function gh(t,e){var i,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{parent:"parent"}).parent;t.forEach(function(t){!function t(r){i=r[n];i&&!1!==e(i)&&t(i)}(t)})}var vh=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:"id",children:"children",parent:"parent"},r=n.children,o=n.id,s=[],a=[],h=function(t){a.push(t[o]),t._checked=!0};return fh(function(t,e){var i,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:"children"}).children;return function t(r,o){return r.map(function(r,s,a){var h=e(r,s,a,o);return ph(i=h[n])&&(h[n]=t(i,h)),h})}(t)}(t,function(t,e,i,n){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dh(i,!0).forEach(function(e){uh(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dh(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},t,{_checked:!1,parent:n})},n),function(t){if(t._checked)return!1;e.includes(t[o])&&(h(t),s.push(t),ph(i=t[r])&&fh(i,function(t){h(t)},n))},n),gh(s,function(t){if(t._checked)return!1;var e=t[r].length;if(1===e)h(t);else{var i=t._checkedCount||0;t._checkedCount=i+1,t._checkedCount===e&&h(t)}},n),a},_h=(i("mJx5"),i("DwLH"),i("Mdwg"),i("irp0"),i("clnH"),i("BlJ1"),i("czjk"),i("Vpnp")),yh=i("wMNw"),mh=(i("uDYd"),i("VjuZ"),i("xGqq"),i("fG7N"),i("swbA")),bh=i("52fq"),xh=(i("Rw4K"),i("K9ON"),i("cV5x")),Oh=i("Bmxh"),wh=function(){this.dataProjection=null,this.defaultFeatureProjection=null};function Eh(t,e,i){var n,r=i?Object(h.h)(i.featureProjection):null,o=i?Object(h.h)(i.dataProjection):null;if(n=r&&o&&!Object(h.g)(r,o)?Array.isArray(t)?Object(h.n)(t,o,r):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&i&&void 0!==i.decimals&&!Array.isArray(n)){var s=Math.pow(10,i.decimals);n===t&&(n=t.clone()),n.applyTransform(function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*s)/s;return t})}return n}function Mh(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}wh.prototype.getReadOptions=function(t,e){var i;return e&&(i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(i)},wh.prototype.adaptOptions=function(t){return Object(wn.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},wh.prototype.getLastExtent=function(){return null},wh.prototype.getType=function(){return Object(ui.b)()},wh.prototype.readFeature=function(t,e){return Object(ui.b)()},wh.prototype.readFeatures=function(t,e){return Object(ui.b)()},wh.prototype.readGeometry=function(t,e){return Object(ui.b)()},wh.prototype.readProjection=function(t){return Object(ui.b)()},wh.prototype.writeFeature=function(t,e){return Object(ui.b)()},wh.prototype.writeFeatures=function(t,e){return Object(ui.b)()},wh.prototype.writeGeometry=function(t,e){return Object(ui.b)()};var Ch=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return ts.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Mh(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Mh(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(ui.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(ui.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Mh(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(ui.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Mh(t))},e.prototype.readProjectionFromObject=function(t){return Object(ui.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(ui.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(ui.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(ui.b)()},e}(wh),Sh=i("flWm"),Th={};Th[Kn.a.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new io.a([t.x,t.y,t.z,t.m],qr.a.XYZM):void 0!==t.z?new io.a([t.x,t.y,t.z],qr.a.XYZ):void 0!==t.m?new io.a([t.x,t.y,t.m],qr.a.XYM):new io.a([t.x,t.y]);return e},Th[Kn.a.LINE_STRING]=function(t){var e=Ih(t);return new Kr.a(t.paths[0],e)},Th[Kn.a.POLYGON]=function(t){var e=Ih(t);return new qn.a(t.rings,e)},Th[Kn.a.MULTI_POINT]=function(t){var e=Ih(t);return new no(t.points,e)},Th[Kn.a.MULTI_LINE_STRING]=function(t){var e=Ih(t);return new eo(t.paths,e)},Th[Kn.a.MULTI_POLYGON]=function(t){var e=Ih(t);return new ho(t.rings,e)};var jh={};function Rh(t,e){if(!t)return null;var i;if("number"==typeof t.x&&"number"==typeof t.y)i=Kn.a.POINT;else if(t.points)i=Kn.a.MULTI_POINT;else if(t.paths){i=1===t.paths.length?Kn.a.LINE_STRING:Kn.a.MULTI_LINE_STRING}else if(t.rings){var n=t,r=Ih(n),o=function(t,e){var i,n,r=[],o=[],s=[];for(i=0,n=t.length;i<n;++i){r.length=0,Object(Yr.b)(r,0,t[i],e.length);var a=Object(ao.a)(r,0,r.length,e.length);a?o.push([t[i]]):s.push(t[i])}for(;s.length;){var h=s.shift(),c=!1;for(i=o.length-1;i>=0;i--){var l=o[i][0],u=Object(Vn.g)(new Sh.a(l).getExtent(),new Sh.a(h).getExtent());if(u){o[i].push(h),c=!0;break}}c||o.push([h.reverse()])}return o}(n.rings,r);1===o.length?(i=Kn.a.POLYGON,t.rings=o[0]):(i=Kn.a.MULTI_POLYGON,t.rings=o)}return Eh((0,Th[i])(t),!1,e)}function Ih(t){var e=qr.a.XY;return!0===t.hasZ&&!0===t.hasM?e=qr.a.XYZM:!0===t.hasZ?e=qr.a.XYZ:!0===t.hasM&&(e=qr.a.XYM),e}function Lh(t){var e=t.getLayout();return{hasZ:e===qr.a.XYZ||e===qr.a.XYZM,hasM:e===qr.a.XYM||e===qr.a.XYZM}}function kh(t,e){return(0,jh[t.getType()])(Eh(t,!0,e),e)}jh[Kn.a.POINT]=function(t,e){var i,n=t.getCoordinates(),r=t.getLayout();r===qr.a.XYZ?i={x:n[0],y:n[1],z:n[2]}:r===qr.a.XYM?i={x:n[0],y:n[1],m:n[2]}:r===qr.a.XYZM?i={x:n[0],y:n[1],z:n[2],m:n[3]}:r===qr.a.XY?i={x:n[0],y:n[1]}:Object(On.a)(!1,34);return i},jh[Kn.a.LINE_STRING]=function(t,e){var i=t,n=Lh(i);return{hasZ:n.hasZ,hasM:n.hasM,paths:[i.getCoordinates()]}},jh[Kn.a.POLYGON]=function(t,e){var i=t,n=Lh(i);return{hasZ:n.hasZ,hasM:n.hasM,rings:i.getCoordinates(!1)}},jh[Kn.a.MULTI_POINT]=function(t,e){var i=t,n=Lh(i);return{hasZ:n.hasZ,hasM:n.hasM,points:i.getCoordinates()}},jh[Kn.a.MULTI_LINE_STRING]=function(t,e){var i=t,n=Lh(i);return{hasZ:n.hasZ,hasM:n.hasM,paths:i.getCoordinates()}},jh[Kn.a.MULTI_POLYGON]=function(t,e){for(var i=Lh(t),n=t.getCoordinates(!1),r=[],o=0;o<n.length;o++)for(var s=n[o].length-1;s>=0;s--)r.push(n[o][s]);return{hasZ:i.hasZ,hasM:i.hasM,rings:r}};var Ph=function(t){function e(e){var i=e||{};t.call(this),this.geometryName_=i.geometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var i=t,n=Rh(i.geometry,e),r=new Br.a;return this.geometryName_&&r.setGeometryName(this.geometryName_),r.setGeometry(n),e&&e.idField&&i.attributes[e.idField]&&r.setId(i.attributes[e.idField]),i.attributes&&r.setProperties(i.attributes),r},e.prototype.readFeaturesFromObject=function(t,e){var i=e||{};if(t.features){var n=[],r=t.features;i.idField=t.objectIdFieldName;for(var o=0,s=r.length;o<s;++o)n.push(this.readFeatureFromObject(r[o],i));return n}return[this.readFeatureFromObject(t,i)]},e.prototype.readGeometryFromObject=function(t,e){return Rh(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return Object(h.h)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return kh(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={},n=t.getGeometry();n&&(i.geometry=kh(n,e),e&&e.featureProjection&&(i.geometry.spatialReference={wkid:Number(Object(h.h)(e.featureProjection).getCode().split(":").pop())}));var r=t.getProperties();return delete r[t.getGeometryName()],Object(wn.d)(r)?i.attributes={}:i.attributes=r,i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{features:i}},e}(Ch),Ah=i("1avf"),Fh=i("t4zo"),Nh=(i("QBuC"),i("Gu7T")),Dh=i.n(Nh),Gh=i("bOdI"),zh=i.n(Gh),Uh={},Wh={name:"fa-icon",props:{name:{type:String,validator:function(t){return!t||t in Uh||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String,tabindex:[Number,String]},data:function(){return{id:Yh(),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return zh()({"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse},this.$options.name,!0)},icon:function(){return this.name?Uh[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,i=t.height;return Math.max(e,i)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,i,n){var r=Yh();return e[n]=r,' id="'+r+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,i,n,r){var o=i||r;return o&&e[o]?"#"+e[o]:t}),t},focusable:function(){var t=this.tabindex;return null==t?"false":("string"==typeof t?parseInt(t,10):t)>=0?null:"false"}},mounted:function(){this.updateStack()},updated:function(){this.updateStack()},methods:{updateStack:function(){var t=this;if(this.name||null===this.name||0!==this.$children.length){if(!this.icon){var e=0,i=0;this.$children.forEach(function(n){n.outerScale=t.normalizedScale,e=Math.max(e,n.width),i=Math.max(i,n.height)}),this.childrenWidth=e,this.childrenHeight=i,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(i-t.height)/2})}}else console.warn('Invalid prop: prop "name" is required.')}},render:function(t){if(null===this.name)return t();var e={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":String(!(this.label||this.title)),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable}},i="vat-"+this.id;if(this.title&&(e.attrs["aria-labelledby"]=i),this.raw){var n=this.raw;this.title&&(n='<title id="'+i+'">'+function(t){return t.replace(/[<>"&]/g,function(t){return Hh[t]||t})}(this.title)+"</title>"+n),e.domProps={innerHTML:n}}var r=this.title?[t("title",{attrs:{id:i}},this.title)]:[];return t("svg",e,this.raw?null:r.concat(this.$slots.default||[].concat(Dh()(this.icon.paths.map(function(e,i){return t("path",{attrs:e,key:"path-"+i})})),Dh()(this.icon.polygons.map(function(e,i){return t("polygon",{attrs:e,key:"polygon-"+i})})))))},register:function(t){for(var e in t){var i=t[e],n=i.paths,r=void 0===n?[]:n,o=i.d,s=i.polygons,a=void 0===s?[]:s,h=i.points;o&&r.push({d:o}),h&&a.push({points:h}),Uh[e]=Bh({},i,{paths:r,polygons:a})}},icons:Uh};function Bh(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach(function(e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}),t}var Xh=870711;function Yh(){return"va-"+(Xh++).toString(16)}var Hh={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};var Vh=i("VU/8")(Wh,null,!1,function(t){i("BuVq")},null,null).exports;
/*!
 * operation-tree-node v1.0.4
 * (c) 2019-2019 yujinpan
 * Released under the MIT License.
 */
function Kh(t){return!(!Array.isArray(t)||!t.length)}Vh.register({"arrows-alt":{width:512,height:512,paths:[{d:"M352.2 425.8l-79.2 79.2c-9.4 9.4-24.6 9.4-33.9 0l-79.2-79.2c-15.1-15.1-4.4-41 17-41h51.2l0-100.8h-100.8v51.2c0 21.4-25.9 32.1-41 17l-79.2-79.2c-9.4-9.4-9.4-24.6 0-33.9l79.2-79.2c15.1-15.1 41-4.4 41 17v51.2h100.8v-100.8h-51.2c-21.4 0-32.1-25.9-17-41l79.2-79.2c9.4-9.4 24.6-9.4 33.9 0l79.2 79.2c15.1 15.1 4.4 41-17 41h-51.2v100.8h100.8v-51.2c0-21.4 25.9-32.1 41-17l79.2 79.2c9.4 9.4 9.4 24.6 0 33.9l-79.2 79.2c-15.1 15.1-41 4.4-41-17v-51.2h-100.8v100.8h51.2c21.4 0 32.1 25.9 17 41z"}]}}),Vh.register({"long-arrow-alt-left":{width:448,height:512,paths:[{d:"M134.1 296v46.1c0 21.4-25.9 32.1-41 17l-86.1-86.1c-9.4-9.4-9.4-24.6 0-33.9l86.1-86.1c15.1-15.1 41-4.4 41 17v46.1h301.9c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12h-301.9z"}]}}),Vh.register({"long-arrow-alt-right":{width:448,height:512,paths:[{d:"M313.9 216v-46.1c0-21.4 25.9-32.1 41-17l86.1 86.1c9.4 9.4 9.4 24.6 0 33.9l-86.1 86.1c-15.1 15.1-41 4.4-41-17v-46.1h-301.9c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h301.9z"}]}}),Vh.register({"search-plus":{width:512,height:512,paths:[{d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zM505 476.7l-28.3 28.3c-9.4 9.4-24.6 9.4-33.9 0l-99.8-99.7c-4.5-4.5-7-10.6-7-17v-16.3c-35.3 27.6-79.7 44-128 44-114.9 0-208-93.1-208-208s93.1-208 208-208 208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136s-136 60.8-136 136 60.8 136 136 136 136-60.8 136-136z"}]}}),Vh.register({"search-minus":{width:512,height:512,paths:[{d:"M304 192v32c0 6.6-5.4 12-12 12h-168c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zM505 476.7l-28.3 28.3c-9.4 9.4-24.6 9.4-33.9 0l-99.8-99.7c-4.5-4.5-7-10.6-7-17v-16.3c-35.3 27.6-79.7 44-128 44-114.9 0-208-93.1-208-208s93.1-208 208-208 208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136s-136 60.8-136 136 60.8 136 136 136 136-60.8 136-136z"}]}}),Vh.register({"globe-americas":{width:496,height:512,paths:[{d:"M248 8c137 0 248 111 248 248s-111 248-248 248-248-111-248-248 111-248 248-248zM330.3 365.6c7.6-7.5 13.7-22.3 13.7-33v0c0-7-4-16.6-8.9-21.6l-13.7-13.7c-6-6-14.1-9.4-22.6-9.4h-66.8c-9.4-4.7-21.5-32-32-32-10.5 0-20.9-2.5-30.3-7.2l-11.1-5.5c-4-2-6.6-6.2-6.6-10.7v0c0-4.8 3.7-9.8 8.2-11.3l31.2-10.4c1.4-0.5 3.6-0.8 5.1-0.8 3.3 0 8 1.8 10.5 3.9l9.3 8.1c1.5 1.3 3.3 2 5.2 2h5.6c5.9 0 9.8-6.3 7.2-11.6l-15.6-31.2c-0.5-0.9-0.8-2.5-0.8-3.6 0-1.9 1.1-4.4 2.4-5.7l9.9-9.7c1.5-1.5 3.5-2.3 5.6-2.3h9 0c1.8 0 4.4-1 5.7-2.3l8-8c3.1-3.1 3.1-8.2 0-11.3l-4.7-4.7c-3.1-3.1-3.1-8.2 0-11.3l10.3-10.3 4.7-4.7c6.3-6.3 6.3-16.4 0-22.6l-28.3-28.3c-8.3 0.3-16.4 1.1-24.4 2.4v11.3c0 11.9-12.5 19.6-23.2 14.3l-24-12c-45.8 19.8-82.7 56.4-103.2 101.9 9.9 14.7 25.2 37.4 34.6 51.1 4.3 6.3 12.4 15.6 18.1 20.7l0.8 0.7c9.5 8.6 20.2 16 31.7 21.8 14 7 34.4 18.2 48.8 26.1 10.2 5.6 16.5 16.3 16.5 28v32c0 8.5 3.4 16.6 9.4 22.6 15 15 24.3 38.6 22.6 51.3v27.4c14.7 0 28.9-1.7 42.7-4.7l17.4-46.8c2-5.5 3.3-11.2 4.8-16.9 1.1-4 3.2-7.7 6.2-10.7 3.3-3.3 7.4-7.4 11.3-11.3zM417 274.3l29.2 7.3c1.1-8.4 1.8-16.9 1.8-25.5 0-32.1-7.8-62.4-21.3-89.3l-13 6.5c-3.7 1.9-6.9 4.7-9.2 8.1l-19.6 29.4c-2.2 3.3-4 9.3-4 13.3s1.8 10 4 13.3l18 27c3.3 5 8.4 8.5 14.2 10z"}]}}),Vh.register({lock:{width:448,height:512,paths:[{d:"M400 224c26.5 0 48 21.5 48 48v192c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-192c0-26.5 21.5-48 48-48h24v-72c0-83.8 68.2-152 152-152s152 68.2 152 152v72h24zM296 224v-72c0-39.7-32.3-72-72-72s-72 32.3-72 72v72h144z"}]}}),Vh.register({"layer-group":{width:512,height:512,paths:[{d:"M12.4 148c-16.5-7.5-16.5-32.5 0-40l232.9-105.7c2.8-1.3 7.6-2.3 10.6-2.3s7.8 1 10.6 2.3l232.9 105.7c16.5 7.5 16.5 32.5 0 40l-232.9 105.7c-6.8 3.1-14.5 3.1-21.3 0zM499.6 236.3c16.5 7.5 16.5 32.5 0 40l-232.9 105.6c-6.8 3.1-14.5 3.1-21.3 0l-232.9-105.6c-16.5-7.5-16.5-32.5 0-40l58.1-26.3 161.6 73.3c7.6 3.4 15.6 5.2 23.9 5.2s16.3-1.7 23.9-5.2l161.6-73.3zM499.6 364.1c16.5 7.5 16.5 32.5 0 40l-232.9 105.6c-6.8 3.1-14.5 3.1-21.3 0l-232.9-105.6c-16.5-7.5-16.5-32.5 0-40l57.9-26.2 161.8 73.4c7.6 3.4 15.6 5.2 23.9 5.2s16.3-1.7 23.9-5.2l161.9-73.4z"}]}});var qh=function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:"children"},o=null;return function t(s,a){var h,c=s.length;for(h=0;h<c;h++){if(n=s[h],e(n,h,s,a)){o=n;break}if(Kh(i=n[r.children])&&(n=t(i,n))){o=n;break}}return o}(t,null)},Zh={name:"ElSelectTree",model:{prop:"value",event:"change"},props:{placeholder:{type:String,default:"请选择"},props:{type:Object,default:function(){return{value:"value",label:"label",children:"children"}}},placement:{type:String,default:"bottom-start"},size:{type:String,default:"small"},popoverMinWidth:{type:Number,default:0},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},value:{type:[Number,String,Array],default:""},disabledValues:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}}},computed:{dataLength:function(){return this.data.length},propsValue:function(){return this.props.value},propsLabel:function(){return this.props.label}},data:function(){return{visible:!1,selectedLabel:""}},methods:{handleScroll:function(){this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},nodeClick:function(t,e,i){var n=t.children,r=t[this.propsValue];n&&n.length?i.handleExpandIconClick():this.disabledValues.includes(r)||this.multiple||(r!==this.value&&(this.$emit("change",r),this.selectedLabel=t[this.propsLabel]),this.visible=!1)},checkChange:function(){this.$emit("change",this.$refs.elTree.getCheckedKeys(!0)),this.setSelectedLabel()},checkSelected:function(t){return this.multiple?this.value.includes(t):this.value===t},setSelected:function(){var t=this;this.selectedLabel="";var e=this.propsValue,i=this.value;if(String(i).length)if(this.multiple)this.$nextTick(function(){t.$refs.elTree.setCheckedKeys(t.value),t.setSelectedLabel()});else{var n=qh(this.data,function(i){return t.checkSelected(i[e])});n&&(this.selectedLabel=n[this.propsLabel])}},setTreeDataState:function(){var t=this.disabledValues,e=this.props.value;oh(this.data,function(i){i.disabled=t.includes(i[e])})},setSelectedLabel:function(){var t=this.$refs.elTree.getCheckedNodes(!0);this.selectedLabel=t.map(function(t){return t.label}).join(",")},treeItemClass:function(t){var e=t[this.propsValue];return{selected:!this.multiple&&this.checkSelected(e),"is-disabled":this.disabledValues.includes(e)}}},watch:{value:function(){this.setSelected()},data:function(){this.setTreeDataState()},disabledValues:function(){this.setTreeDataState()}},created:function(){this.multiple&&!Array.isArray(this.value)&&console.error("[el-select-tree]:","props `value` must be Array if use multiple!"),this.setTreeDataState()},mounted:function(){var t=this;this.setSelected(),this.$nextTick(function(){var e,i=t.$refs.elPopover.$refs.popper;if(t.popoverMinWidth)e=t.popoverMinWidth;else{var n=t.$el.clientWidth;n||console.log("[el-select-warn]:","can not get `width`, please set the `popoverMinWidth`"),e=n}e&&(i.style.minWidth=e+"px")})}};
/*!
 * el-select-tree v1.0.7
 * (c) 2019-2019 yujinpan
 * Released under the MIT License.
 */!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(".el-select-tree{display:inline-block}.el-select-tree .el-input:hover .el-input__inner{border-color:#c0c4cc}.el-select-tree .el-input.is-focus .el-input__inner{border-color:#409eff}.el-select-tree .el-input__inner{cursor:pointer;padding-right:30px}.el-select-tree .el-input__icon{cursor:pointer}.el-select-tree__popover{padding:0!important;border:1px solid #e4e7ed!important;border-radius:4px!important}.el-select-tree__popover .popper__arrow{left:35px!important}.el-select-tree__list{overflow-y:auto}.el-select-tree__list::-webkit-scrollbar-track-piece{background:#d3dce6}.el-select-tree__list::-webkit-scrollbar{width:4px}.el-select-tree__list::-webkit-scrollbar-thumb{background:#99a9bf}.el-select-tree__item{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:10px}.el-select-tree__item.selected{padding-right:35px;color:#409eff;font-weight:bolder}.el-select-tree__item.is-disabled{color:#bbb;cursor:not-allowed}.el-select-tree__empty{padding:10px 0;margin:0;text-align:center;color:#999;font-size:14px}");"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var $h=function(t,e,i,n,r,o,s,a,h,c){"boolean"!=typeof s&&(h=a,a=s,s=!1);const l="function"==typeof i?i.options:i;let u;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),n&&(l._scopeId=n),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,h(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):e&&(u=s?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(l.functional){const t=l.render;l.render=function(e,i){return u.call(i),t(e,i)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,u):[u]}return i}({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-select-tree"},[i("el-popover",{ref:"elPopover",attrs:{transition:"el-zoom-in-top","popper-class":"el-select-tree__popover",trigger:"click",disabled:t.disabled,placement:t.placement},on:{"after-enter":function(e){return t.handleScroll()}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.dataLength?i("el-scrollbar",{ref:"scrollbar",class:{"is-empty":0===t.dataLength},attrs:{"wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[i("el-tree",{ref:"elTree",staticClass:"el-select-tree__list",attrs:{props:t.props,"node-key":t.propsValue,"show-checkbox":t.multiple,"expand-on-click-node":t.multiple,data:t.data},on:{"node-click":t.nodeClick,"check-change":t.checkChange},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return i("div",{staticClass:"el-select-tree__item",class:t.treeItemClass(n)},[t._v("\n          "+t._s(n[t.propsLabel])+"\n        ")])}}],null,!1,1229176757)})],1):i("p",{staticClass:"el-select-tree__empty"},[t._v("\n      无数据\n    ")]),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{slot:"reference",readonly:"","suffix-icon":"el-icon-arrow-down",size:t.size,disabled:t.disabled,placeholder:t.placeholder},slot:"reference",model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}})],1)],1)},staticRenderFns:[]},void 0,Zh,void 0,!1,void 0,!1,void 0,void 0,void 0);$h.install=function(t){t.component("ElSelectTree",$h)};var Qh=$h,Jh=(i("YVn/"),i("ORAo")),tc=i.n(Jh);i.d(e,!1,function(){});
/*!
 * vue-webgis v0.7.3
 */
var ec={BufferAnalysis:function(){return i.e(37).then(i.bind(null,"ICYL"))},HistoryRecord:function(){return i.e(35).then(i.bind(null,"8K7d"))},FeatureSelect:function(){return i.e(42).then(i.bind(null,"vA+1"))},ImageLayer:function(){return i.e(41).then(i.bind(null,"hY7E"))},Measure:function(){return i.e(38).then(i.bind(null,"L2Me"))},LayerSwipe:function(){return i.e(39).then(i.bind(null,"ogC4"))},DiffAnalysis:function(){return i.e(36).then(i.bind(null,"MEre"))},IntersectAnalysis:function(){return i.e(40).then(i.bind(null,"32o1"))}};var ic={modules:{type:Array,default:function(){return[]},validator:function(t){for(var e,i=!1,n=0;n<t.length;n++)if(e=t[n],!ec.hasOwnProperty(e)){i=!0;break}return!i||(Object(r.b)("module ".concat(e," is not found.")),!1)}},showControls:{type:Boolean,default:!0},showAside:Boolean,options:{type:Object,default:function(){return{}}},controls:{type:Array||String,default:function(){return["mousePosition","scaleLine"]}},splitScreen:Boolean},nc={props:ic},rc={props:ic,provide:function(){return{$_webgisPropsProvide:this}},computed:{webgisConfig:function(){return{modules:this.modules,showControls:this.showControls,showAside:this.showAside,options:this.options,controls:this.controls}}}},oc={inject:["$_webgisPropsProvide"],data:function(){return{webgisConfig:{}}},created:function(){var t=this;this.webgisConfig=this.$_webgisPropsProvide.webgisConfig,this.$_webgisPropsProvide.$watch("webgisConfig",function(e){t.webgisConfig=e})}},sc={"EPSG:4490":"+proj=longlat +ellps=GRS80 +no_defs","EPSG:4610":"+proj=longlat +a=6378140 +b=6356755.288157528 +no_defs"};function ac(t){var e=Object(s.a)({},sc,t);ci.defs(Object.entries(e)),function(t){var e,i,n=Object.keys(t.defs),r=n.length;for(e=0;e<r;++e){var o=n[e];if(!Object(h.h)(o)){var s=t.defs(o);Object(h.e)(new l.a({code:o,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:s.units}))}}for(e=0;e<r;++e){var a=n[e],u=Object(h.h)(a);for(i=0;i<r;++i){var d=n[i],p=Object(h.h)(d);if(!Object(c.c)(a,d))if(t.defs[a]===t.defs[d])Object(h.d)([u,p]);else{var f=t(a,d);Object(h.c)(u,p,f.forward,f.inverse)}}}}(ci)}function hc(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}function cc(t,e){var i,n;if(e instanceof Object)for(var r in e)e.hasOwnProperty(r)&&(i=e[r],n=t[r],(i||0===i)&&(i instanceof Object&&n?cc(n,i):t[r]=i))}hc('.ol-mouse-position{top:auto;right:8px;bottom:8px;left:auto;background:rgba(0,60,136,.3);font-size:13px;color:#fff;border-radius:4px}.ol-mouse-position>p{padding:2px 6px}.webgis-measure-tooltip{position:relative;background:rgba(0,0,0,.5);border-radius:4px;color:#fff;padding:4px 8px;opacity:.7;white-space:nowrap;font-size:13px}.webgis-measure-tooltip-measure{opacity:1;font-weight:700}.webgis-measure-tooltip-measure:before{border-top:6px solid rgba(0,0,0,.5);border-right:6px solid transparent;border-left:6px solid transparent;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}.webgis-hidden{display:none}');var lc={land:"",region:"",special:"",year:"",scale:"",layer:""},uc={zoomThreshold:0};var dc=function(){function t(e){var i=this;Object(a.b)(this,t),Object(a.c)(this,"showLayers",[]),Object(a.c)(this,"treeNodes",[]),Object(a.c)(this,"treeLayers",[]),Object(a.c)(this,"treeLayersIds",[]),Object(a.c)(this,"_treeNodesFlat",[]),Object(a.c)(this,"_projection",void 0),Object(a.c)(this,"_layerType",void 0),Object(a.c)(this,"_layerManagement",void 0),this._projection=e.getView().getProjection(),this._layerManagement=new yh.a(e),e.on("moveend",function(){return i._updateOlLayer()})}return Object(a.a)(t,[{key:"checkChange",value:function(t,e){var i,n=this,r=this.showLayers,s=!1;t=Object(o.c)(t),(t=vh(this.treeNodes,t).filter(function(t){return n.treeLayersIds.includes(t)})).forEach(function(t){-1!==(i=r.indexOf(t))?e||(r.splice(i,1),s=!0):e&&(r.push(t),s=!0)}),s&&(this.layerChange(),this.eventHub.dispatch("checkChange",t,e))}},{key:"layerChange",value:function(t){t&&(this.showLayers=Object(o.c)(t)),this._updateNodeChecked(),this._updateLayersVisible(),this.eventHub.dispatch("layerChange",this.showLayers)}},{key:"createLayerTree",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];e.forEach(function(e){return n.push(t._createNode(e))}),this.treeNodes=lh(n,function(t,e){return t.letter&&t.letter===e.letter}),oh(this.treeNodes,function(t,e,i,n){return t.parent=n}),this._updateTreeData();var r=this._treeNodesFlat.length-1;if(this._treeNodesFlat.forEach(function(t,e){return t.zIndex=r-e}),this._updateOlLayer(!0),!(i=Object(o.c)(i)).length){var s=this.treeLayers.slice(-1)[0];i.push(s.id)}this.layerChange(i)}},{key:"setLayerOpacity",value:function(t,e){this.getOlLayer(t).forEach(function(t){return t.setOpacity(e)})}},{key:"setLayerSort",value:function(t,e){var i="down"===e?1:-1,n=this._treeNodesFlat.find(function(e){return e.id===t}),r=n.parent.children,o=r.indexOf(n),s=o+i,a=r[s];if(a){var h=r[o],c=[a.zIndex,h.zIndex];h.zIndex=c[0],a.zIndex=c[1],r.splice(o,0,r.splice(s,1)[0]),this._updateLayersZIndex([h,a]),this._updateTreeData()}}},{key:"getOlLayer",value:function(t){return t=Object(o.c)(t),this.treeLayers.filter(function(e){return t.includes(e.id)}).map(function(t){return t.olLayer})}},{key:"getTopVisibleLayer",value:function(){return this.treeLayers.find(function(t){return t.checked})}},{key:"_createNode",value:function(t){var e=t.alias,i=t.layers,n=t.id,r=i.map(function(e){return{id:e.id,letter:e.letter,name:e.caption,config:e,configGroup:t,nodeType:"layer"}});return{id:Symbol(),letter:e.landLetter,name:e.land,config:t,nodeType:"DL",children:[{id:Symbol(),letter:e.specialLetter,name:e.special,config:t,nodeType:"ZT",children:[{id:Symbol(),letter:e.regionLetter,name:e.region,config:t,nodeType:"XZQ",children:[{id:n,letter:e.yearLetter,name:e.year,config:t,nodeType:"ND",children:r}]}]}]}}},{key:"_updateOlLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=uc.zoomThreshold,i=!e||this.olView.getZoom()>=e?"wms":"wmts";if(t||i!==this._layerType){this._layerType=i;var n,r,o,s=this._layerManagement;this.treeLayers.forEach(function(t){n=t.config,r=t.configGroup,(o=t.olLayer)&&s.removeLayer(o),t.olLayer=s.addLayer("MapServer"===n.type?i:"image",{serverId:n.serverId,serverType:n.type,serverIdWMS:n.serverIdWMS,serviceCode:n.serviceCode,extent:r.extent,zIndex:t.zIndex,resolutions:r.resolutions,tileInfo:r.tileInfo,projection:r.epsg,visible:t.checked})})}}},{key:"_updateTreeData",value:function(){this._treeNodesFlat=rh(this.treeNodes),this.treeLayers=this._treeNodesFlat.filter(function(t){return"layer"===t.nodeType}),this.treeLayersIds=this.treeLayers.map(function(t){return t.id})}},{key:"_updateLayersVisible",value:function(){this.treeLayers.forEach(function(t){t.olLayer.setVisible(t.checked)})}},{key:"_updateNodeChecked",value:function(){var t=vh(this.treeNodes,this.showLayers);this.treeLayers.forEach(function(e){e.checked=t.includes(e.id)})}},{key:"_updateLayersZIndex",value:function(t){t.forEach(function(t){t.olLayer.setZIndex(t.zIndex)})}}]),t}();function pc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Map Service";return Object(mh.b)({url:_h.a.arcgisServiceList,method:"post",data:{q:"owner:".concat(_h.a.arcgisUsername,' orgid:0123456789ABCDEF (type:("').concat(t,'")\n      -typekeywords:("Tiled" OR "Hosted") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))\n      ownerfolder:root -type:("Code Attachment" OR "Featured Items")\n      -typekeywords:("MapAreaPackage") -type:("Map Area")'),f:"json",num:999},analysisToken:!0})}var fc={land:{X:"现状",B:"基础地理",G:"规划",M:"管理",S:"社会经济"},region:{621122:"陇西县",510183:"邛崃市",620102:"城关区",620103:"七里河",620100:"兰州市",620104:"西固区",620922:"瓜州县",620923:"肃北区",620000:"甘肃省"},scale:{G:"1:10000"},special:{TDLYXZ:"土地利用现状",TDGY:"土地供应",JCDL:"基础地理",JSYDXM:"建设用地项目"},year:{},layer:{PZWJSTD:"批准未建设土地",TDXZ:"土地利用现状",XZQ:"行政区",XJXZQ:"县级行政区",CJDCQ:"村级调查区",DLTB:"地类图斑",YJJBNTTB:"永久基本农田图斑",CZCDYD:"城镇村等用地",TDGY:"土地供应",YDBP:"用地报批"}};var gc=/^[A-Z]\d{6}[A-Z]{2,}\d{4}[A-Z_](YX|$)/,vc={land:function(t){return t.slice(0,1)},special:function(t){return t.replace(/^[A-Z]\d{6}/,"").replace(/\d{4}[A-Z_]+$/,"")},region:function(t){return t.slice(1,7)},year:function(t){return t.replace(/^[A-Z]\d{6}[A-Z]+/,"").replace(/[A-Z_]+$/,"")},layer:function(t){return t.replace(/.*\d/g,"").slice(1)}},_c=function(){function t(){Object(a.b)(this,t)}return Object(a.a)(t,[{key:"getMapConfig",value:function(){var t=this;return Promise.all([pc("Image Service"),pc()]).then(function(e){var i=e.reduce(function(t,e){return[].concat(Object(o.b)(t),Object(o.b)(e.results))},[]);if(Object(mh.a)(i)){var n=i.filter(function(t){return gc.test(t.title)}).map(function(t){return{id:t.title,type:"Map Service"===t.type?"MapServer":"ImageServer"}});return n.length?t.getMultiService(n):(Object(r.a)("获取地图配置数据全部无效"),Promise.reject(e))}return Object(r.a)("获取地图配置为空"),Promise.reject(e)})}},{key:"getMultiService",value:function(t){var e=this;return Promise.all(t.map(function(t){"string"==typeof t&&(t={id:t,type:"MapServer"});var i=t,n=i.id,r=i.type;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MapServer",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(mh.b)({baseURL:_h.a.arcgisQuery,url:"/arcgis/rest/services/".concat(t,"/").concat(e,"/").concat(i),method:"post",data:{f:"json"}})}(n,r).then(function(t){var i=[];return t&&(t.layers||"ImageServer"!==r||(t.layers=[{id:"",name:n}]),t.layers instanceof Array&&t.layers.forEach(function(o,a,h){o.layerLength=h.length,i.push(e._formatConfig(n,o.name,Object(s.a)({},t,{type:r,layers:[o]})))})),i})})).then(function(t){return t.filter(function(t){return t instanceof Array}).reduce(function(t,e){return[].concat(Object(o.b)(t),Object(o.b)(e))},[]).filter(function(t){if(t&&Object(mh.a)(t.resolutions))return!0;Object(r.b)("".concat(t.serviceCode," resolutions 为空"))})})}},{key:"_parseAlias",value:function(t){var e={};return Object.keys(vc).forEach(function(i){var n=vc[i](t);e[i+"Letter"]=n,e[i]=fc[i][n]||n}),e}},{key:"_formatConfig",value:function(t,e,i){var n=this._parseAlias(e),r=this._formatLayers(t,i.layers,i.type),o=Object(Vn.q)(i.fullExtent,i.initialExtent),s=[o.xmin,o.ymin,o.xmax,o.ymax],a=[(s[0]+s[2])/2,(s[1]+s[3])/2],h=o.spatialReference.wkid,c=i.tileInfo,l=[];return c&&c.lods&&c.lods.forEach(function(t){l.push(t.resolution)}),{id:Symbol(),extent:s,zoom:0,epsg:"EPSG:"+h,wkid:h,center:a,resolutions:l,serviceCode:t,tileInfo:c,alias:n,viewZoom:{wfs:[-1,-1],wms:[0,c&&c.lods.length],wmts:[-1,-1]},layers:r}}},{key:"_formatLayers",value:function(t,e,i){return e.map(function(e){var n=vc.layer(e.name);return{caption:fc.layer[n]||n,serviceCode:t,type:i,id:e.name,serverId:e.id,serverIdWMS:e.layerLength-1-e.id,name:e.name,letter:vc.layer(e.name),label:"BSM",permission:"1=1"}})}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";e&&e.length||(e="default");var i,n=new t;if("default"===e)i=n.getMapConfig();else{var r=Object(o.c)(e);i=n.getMultiService(r)}return i.then(function(e){if(e.length){t.sortServiceList(e);var i=e[e.length-1];return{zoom:i.zoom,wkid:i.wkid,epsg:i.epsg,extent:i.extent,center:i.center,resolutions:i.resolutions,groupLayers:e}}return Promise.reject("未获取到有效的服务地址")})}},{key:"sortServiceList",value:function(t){var e,i,n,r={},s=Object.keys(lc);s.forEach(function(t){r[t+"Letter"]=Object(o.c)(lc[t])}),s=s.map(function(t){return t+"Letter"});var a=function(t){var o=t.alias,a=0;return s.forEach(function(t){e=o[t],i=r[t],n=i.indexOf(e),a+=-1===n?0:n+1}),a};t.sort(function(t,e){return a(t)-a(e)})}}]),t}(),yc=function(){function t(e){Object(a.b)(this,t),Object(a.c)(this,"_defaultZoom",void 0),Object(a.c)(this,"_defaultCenter",void 0),Object(a.c)(this,"_mapView",void 0),Object(a.c)(this,"_map",void 0),this._defaultZoom=e.mapConfig.zoom,this._defaultCenter=e.mapConfig.center,this._mapView=e.olView,this._map=e}return Object(a.a)(t,[{key:"change",value:function(t){var e,i=this._mapView.getZoom();if("string"==typeof t)switch(t){case"zoom-in":i++;break;case"zoom-out":i--;break;case"revert":i=this._defaultZoom,e=this._defaultCenter}else i=t;this.animate({zoom:i,center:e})}},{key:"syncMapsMove",value:function(t){var e=[this._mapView.getCenter(),this._mapView.getZoom()],i=e[0],n=e[1];t.forEach(function(t){t.interactions.zoom.animate({center:i,zoom:n})})}},{key:"resetView",value:function(t){var e=this._map.treeLayers.filter(function(t){return t.checked}).map(function(t){return t.configGroup.extent});this.focusExtents(e,t)}},{key:"animate",value:function(t){var e=t.center,i=void 0===e?this._mapView.getCenter():e,n=t.zoom,r=void 0===n?this._mapView.getZoom():n;this._mapView.animate({center:i,zoom:r,duration:500})}},{key:"toFeatures",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=t.map(function(t){return t.getGeometry().getExtent()});this.focusExtents(i,e)}},{key:"focusExtents",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0],i=t.reduce(function(t,e){return t?Object(Vn.q)(t,e):e},null);this._mapView.fit(i,{constrainResolution:!0,nearest:!0,duration:500,maxZoom:2,padding:e})}}]),t}(),mc=function(t){function e(t){var i,n=t.olMap;return Object(a.b)(this,e),i=Object(li.b)(this,Object(li.c)(e).call(this)),Object(a.c)(Object(li.d)(i),"_olMap",void 0),Object(a.c)(Object(li.d)(i),"_dragPan",new Mr),i._olMap=n,i.toggleActive(),i}return Object(li.a)(e,t),Object(a.a)(e,[{key:"activateHandle",value:function(){this._olMap.addInteraction(this._dragPan)}},{key:"deactivateHandle",value:function(){this._olMap.removeInteraction(this._dragPan)}}]),e}(bh.a);var bc={mousePosition:function(){return new Ka({undefinedHTML:"",coordinateFormat:function(t){var e=Gn(t,"当前鼠标位置 X:{x}, Y:{y}",4);return"<p>".concat(e,"</p>")}})},scaleLine:function(){return new th}};var xc=["boolean","string","number"];var Oc=function(){function t(e){Object(a.b)(this,t),Object(a.c)(this,"formatEsriJSON",new Ph),Object(a.c)(this,"_mapCursorStyle",void 0),Object(a.c)(this,"_defaultCursor","default"),Object(a.c)(this,"_updateSizeTimeId",0),Object(a.c)(this,"_selectInteractionState",!0),this._mapCursorStyle=e.getTarget().style}return Object(a.a)(t,[{key:"updateSize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.olMap;this._updateSizeTimeId&&cancelAnimationFrame(this._updateSizeTimeId),this._updateSizeTimeId=setTimeout(function(){t._updateSizeTimeId=0},e);requestAnimationFrame(function e(){t._updateSizeTimeId&&(i.updateSize(),requestAnimationFrame(e))})}},{key:"exportImage",value:function(){this.olMap.once("rendercomplete",function(t){return function(t){try{navigator.msSaveBlob?navigator.msSaveBlob(t.msToBlob(),"map.png"):t.toBlob(function(t){return Object(Fh.saveAs)(t,"map.png")})}catch(t){Object(r.a)(t,!1)}}(t.context.canvas)}),this.olMap.renderSync()}},{key:"toggleCursorStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._defaultCursor;this._defaultCursor=this._mapCursorStyle.cursor,this._mapCursorStyle.cursor=t}},{key:"toggleControls",value:function(t,e){var i,n,s=this;t?(i=e,n=[],(i=Object(o.c)(i)).forEach(function(t){bc.hasOwnProperty(t)?n.push(bc[t]()):Object(r.a)("控件列表中无法找到 ".concat(t))}),n).forEach(function(t,i){s.olMap.addControl(t),s.controls[e[i]]=t}):(e&&e.length||(e=Object.keys(this.controls)),e.forEach(function(t){s.controls.hasOwnProperty(t)&&(s.olMap.removeControl(s.controls[t]),delete s.controls[t])}))}},{key:"toggleSelectInteraction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._selectInteractionState;this._selectInteractionState=t,this.selectInteraction.setActive(t)}},{key:"getLayerInfo",value:function(t){var e=Object(s.a)({},t),i=this.formatGeometryObject(e.extent),n=i.geometry,r=i.geometryType;return e.geometry=JSON.stringify(n),e.geometryType=r,delete e.extent,function(t){var e=t.serviceCode,i=t.layerId,n=t.epsgNum,r=t.geometry,o=t.geometryType,s=t.where,a=void 0===s?"1=1":s,h=t.outFields,c=void 0===h?"*":h,l=t.returnGeometry,u=void 0===l||l,d=t.groupByFieldsForStatistics,p=void 0===d?"":d,f=t.outStatistics;return Object(mh.b)({baseURL:_h.a.arcgisQuery,url:"/arcgis/rest/services/".concat(e,"/MapServer/").concat(i,"/query"),method:"post",data:{f:"json",returnGeometry:u,spatialRel:"esriSpatialRelIntersects",geometry:r,geometryType:o,outFields:c,inSR:n,outSR:n,groupByFieldsForStatistics:p,outStatistics:f,where:a}})}(e)}},{key:"getLayerInfoParams",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.treeLayers.find(function(e){return e.id===t});if(i){var n=i.config,o=i.configGroup;return Object(s.a)({serviceCode:n.serviceCode,layerId:n.serverId,epsgNum:o.wkid,extent:o.extent},e)}return Object(r.b)("未找到该图层 ".concat(t)),null}},{key:"getLayerField",value:function(t){return this.getLayerInfo(this.getLayerInfoParams(t,{returnGeometry:!1})).then(function(t){return t.fields.map(function(t){return{value:t.name,label:t.alias}}).filter(function(t){return t.value})})}},{key:"getLayerFieldValue",value:function(t,e){return this.getLayerInfo(this.getLayerInfoParams(t,{outFields:e,returnGeometry:!1})).then(function(t){var i,n=new Set;return t.features.forEach(function(t){(i=String(t.attributes[e]).trim())&&n.add(i)}),Array.from(n).map(function(t){return{value:t,label:t}})})}},{key:"resolveFeatureData",value:function(t){return this.formatEsriJSON.readFeatures(t)}},{key:"renderFeatureData",value:function(t){var e=this.resolveFeatureData(t);return this.addFeature(e),e}},{key:"addFeature",value:function(t){var e=this.vectorSource;(t=Object(o.c)(t)).forEach(function(t){t&&!e.hasFeature(t)&&e.addFeature(t)})}},{key:"removeFeature",value:function(t){var e=this.vectorSource;(t=Object(o.c)(t)).forEach(function(t){t&&e.hasFeature(t)&&e.removeFeature(t)})}},{key:"focusFeature",value:function(t){return this.setFeatureStyle(t),this.addFeature(t),this.interactions.zoom.toFeatures([t]),t}},{key:"searchFeature",value:function(){var t,e,i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.layerIds,a=function(t){return t.checked};Object(mh.a)(s)&&(this.checkChange(s,!0),a=function(t){return s.includes(t.id)});var h=this.treeLayers.filter(a).map(function(o){return t=o.config,e=o.configGroup,i.getLayerInfo({serviceCode:t.serviceCode,layerId:t.serverId,epsgNum:e.wkid,extent:n.extent||e.extent,where:n.where}).then(function(t){if(t&&!t.error){var e,n,s=i.resolveFeatureData(t);return{id:o.id,name:o.name,children:s.map(function(t){return e=function(t){var e,i={};for(var n in t)t.hasOwnProperty(n)&&(e=t[n],xc.includes(Object(li.e)(e))&&(i[n]=e));return i}(t.getProperties()),(n=e.BSM)||0===n||(Object(r.b)("找不到该数据 BSM 值，将使用 OBJECTID",e),n=e.BSM=e.OBJECTID,t.set("BSM",n)),{id:n,name:n,properties:e}}),features:s}}return Promise.reject(t)})});return Promise.all(h).then(function(t){var e=[];return(t=t.filter(function(t){return Object(mh.a)(t.children)})).length&&(e=t.reduce(function(t,e){return[].concat(Object(o.b)(t),Object(o.b)(e.features))},[]),i.clearFeature(),i.addFeature(e),i.interactions.zoom.toFeatures(e)),{features:e,data:t}},function(t){return Promise.reject(t)})}},{key:"selectFeature",value:function(t){var e=this;this.clearSelectFeature(),Object(o.c)(t).forEach(function(t){return e.selectedFeatures.push(t)})}},{key:"setFeatureStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(o.c)(t);cc({fillStyle:{color:"rgba(255,255,255,0.7)"},strokeStyle:{color:"#3399CC",width:3}},e),i.forEach(function(t){return t.setStyle(new Zo({fill:new Wo(e.fillStyle),stroke:new Xo(e.strokeStyle)}))})}},{key:"clearSelectFeature",value:function(){this.selectedFeatures.clear()}},{key:"clearFeature",value:function(){this.clearSelectFeature(),this.vectorSource.clear()}},{key:"clear",value:function(){this.olMap.getOverlays().clear(),this.clearFeature(),this.eventHub.dispatch("clear")}},{key:"formatGeometryObject",value:function(t){var e={},i="";if(Array.isArray(t))i="esriGeometryEnvelope",e={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]};else{var n=t.getType();i="Polygon"===n?"esriGeometryPolygon":"Point"===n?"esriGeometryPoint":"esriGeometryPolyline",e=this.formatEsriJSON.writeGeometryObject(t)}return e.spatialReference={wkid:this.mapConfig.wkid},{geometryType:i,geometry:e}}},{key:"formatGeometrySize",value:function(t){var e,i,n=t.getType(),r={projection:this.mapConfig.epsg},o="",s=0;switch(n){case"Polygon":s=Object(Ah.a)(t,r),o=(i=s)>99999?Math.round(i/1e6*100)/100+" k㎡":Math.round(100*i)/100+" ㎡";break;case"LineString":s=Object(Ah.c)(t,r),o=(e=s)>999?Math.round(e/1e3*100)/100+" km":Math.round(100*e)/100+" m"}return{str:o,num:s}}}]),t}(),wc=function(t){function e(t){var i;return Object(a.b)(this,e),i=Object(li.b)(this,Object(li.c)(e).call(this,"drawstart,drawend")),Object(a.c)(Object(li.d)(i),"_map",void 0),Object(a.c)(Object(li.d)(i),"_olMap",void 0),Object(a.c)(Object(li.d)(i),"_viewport",void 0),Object(a.c)(Object(li.d)(i),"_vectorSource",void 0),Object(a.c)(Object(li.d)(i),"_draw",void 0),Object(a.c)(Object(li.d)(i),"_helpTooltipElement",void 0),Object(a.c)(Object(li.d)(i),"_helpTooltip",void 0),Object(a.c)(Object(li.d)(i),"_helpMsg","点击开始绘制"),Object(a.c)(Object(li.d)(i),"_continueEndMsg","再次点击结束绘制"),Object(a.c)(Object(li.d)(i),"_continuePolygonMsg","点击继续绘制多边形"),Object(a.c)(Object(li.d)(i),"_continueLineMsg","点击继续绘制线条"),Object(a.c)(Object(li.d)(i),"_supportTypes",["Polygon","LineString","Circle","Point"]),Object(a.c)(Object(li.d)(i),"_helpMsgType",void 0),Object(a.c)(Object(li.d)(i),"_showHelpTooltip",void 0),Object(a.c)(Object(li.d)(i),"_features",[]),i._map=t,i._olMap=t.olMap,i._viewport=t.olMap.getViewport(),i._vectorSource=t.vectorSource,i._pointerMoveHandler=i._pointerMoveHandler.bind(Object(li.d)(i)),i._hideHelpTooltipElement=i._hideHelpTooltipElement.bind(Object(li.d)(i)),t.eventHub.on("clear",function(){return i.clear()}),i}return Object(li.a)(e,t),Object(a.a)(e,[{key:"activateHandle",value:function(t,e){if(!this._supportTypes.includes(t))return Object(r.a)("".concat(t," 绘制类型不支持，支持的类型有 ").concat(this._supportTypes));this._createHelpTooltip(),this._olMap.on("pointermove",this._pointerMoveHandler),this._viewport.addEventListener("mouseout",this._hideHelpTooltipElement),this._addInteraction(t,e)}},{key:"deactivateHandle",value:function(){this._removeHelpTooltip(),this._olMap.un("pointermove",this._pointerMoveHandler),this._viewport.removeEventListener("mouseout",this._hideHelpTooltipElement),this._removeInteraction()}},{key:"clear",value:function(){this._map.removeFeature(this._features),this._features=[]}},{key:"_hideHelpTooltipElement",value:function(){this._helpTooltipElement.classList.add("webgis-hidden")}},{key:"_pointerMoveHandler",value:function(t){if(!t.dragging){var e=this._helpMsg;switch(this._helpMsgType){case"LineString":e=this._continueLineMsg;break;case"Polygon":e=this._continuePolygonMsg;break;case"Circle":e=this._continueEndMsg}this._showHelpTooltip&&e?(this._helpTooltip.setPosition(t.coordinate),this._helpTooltipElement.innerHTML=e,this._helpTooltipElement.classList.remove("webgis-hidden")):this._helpTooltipElement.classList.add("webgis-hidden")}}},{key:"_addInteraction",value:function(t,e){var i=this,n=this._map;this._showHelpTooltip=!e,this._draw=new gs({source:this._vectorSource,type:t,freehand:e}),this._olMap.addInteraction(this._draw),this._draw.on("drawstart",function(e){n.toggleSelectInteraction(!1),i.dispatch("drawstart",i._formatEventData(e)),i._helpMsgType=t}),this._draw.on("drawend",function(t){i._features.push(t.feature),n.toggleSelectInteraction(!0),setTimeout(function(){return i.dispatch("drawend",i._formatEventData(t))},0),i._helpMsgType=""})}},{key:"_removeInteraction",value:function(){this._olMap.removeInteraction(this._draw),this._draw=null}},{key:"_createHelpTooltip",value:function(){this._helpTooltipElement=document.createElement("div"),this._helpTooltipElement.className="webgis-measure-tooltip webgis-hidden",this._helpTooltip=new qa.a({element:this._helpTooltipElement,offset:[15,0],positioning:"center-left"}),this._olMap.addOverlay(this._helpTooltip)}},{key:"_removeHelpTooltip",value:function(){this._helpTooltipElement=null,this._olMap.removeOverlay(this._helpTooltip),this._helpTooltip=null}},{key:"_formatEventData",value:function(t){var e=t.feature.getGeometry(),i=e.getType();return{geometry:e,type:i,extent:"Polygon"===i?this._map.formatEsriJSON.writeGeometry(e):e.getExtent()}}}]),e}(Object(xh.a)(o.a,bh.a)),Ec=function(t){function e(t){var i;return Object(a.b)(this,e),i=Object(li.b)(this,Object(li.c)(e).call(this,"boxstart,boxend")),Object(a.c)(Object(li.d)(i),"_map",void 0),Object(a.c)(Object(li.d)(i),"_olMap",void 0),Object(a.c)(Object(li.d)(i),"_options",{out:null,active:!1,condition:wr.f}),i._map=t,i._olMap=t.olMap,i}return Object(li.a)(e,t),Object(a.a)(e,[{key:"toggleActive",value:function(t,e){var i="zoom-in"!==e;t?this.activate(i):this.deactivate()}},{key:"activateHandle",value:function(t){var e=this;this._options.out=t,this._olMap.addInteraction(this._dragZoom=new Tr(this._options)),this._dragZoom.on("boxstart",function(t){return e.dispatch("boxstart",t)}),this._dragZoom.on("boxend",function(t){return e.dispatch("boxend",t)}),this._map.toggleCursorStyle(t?"zoom-out":"zoom-in")}},{key:"deactivateHandle",value:function(){this._options.out=null,this._olMap.removeInteraction(this._dragZoom),this._map.toggleCursorStyle()}}]),e}(Object(xh.a)(o.a,bh.a));function Mc(t,e){return t._promiseQueue=t._promiseQueue||Promise.resolve(),(t._promiseQueue=t._promiseQueue.then(function(){return e()})).then(function(e){return t._promiseQueue=Promise.resolve(),e})}var Cc=1,Sc=function(t){function e(t){var i,n=t.olMap,r=t.showControls,s=t.controls;return Object(a.b)(this,e),i=Object(li.b)(this,Object(li.c)(e).call(this,n)),Object(a.c)(Object(li.d)(i),"id",Cc++),Object(a.c)(Object(li.d)(i),"olMap",void 0),Object(a.c)(Object(li.d)(i),"olView",void 0),Object(a.c)(Object(li.d)(i),"mapConfig",void 0),Object(a.c)(Object(li.d)(i),"interactions",{}),Object(a.c)(Object(li.d)(i),"controls",{}),Object(a.c)(Object(li.d)(i),"eventHub",new o.a("layerChange,checkChange,clear")),Object(a.c)(Object(li.d)(i),"modules",{}),Object(a.c)(Object(li.d)(i),"selectInteraction",new Rs),Object(a.c)(Object(li.d)(i),"vectorSource",new ls),Object(a.c)(Object(li.d)(i),"vectorLayer",new Jo({source:i.vectorSource,zIndex:99999})),Object(a.c)(Object(li.d)(i),"selectedFeatures",void 0),i.olMap=n,n.addInteraction(i.selectInteraction),n.addLayer(i.vectorLayer),i.selectedFeatures=i.selectInteraction.getFeatures(),i.toggleControls(r,s),i}return Object(li.a)(e,t),Object(a.a)(e,[{key:"init",value:function(t){var e=this,i=t.serviceCode,n=t.showLayers,o=t.modules;return _c.create(i).then(function(t){return e.mapConfig=t,e.initView(),e.createLayerTree(t.groupLayers,n),e.interactions={zoom:new yc(e),dragPan:new mc(e),boxSelection:new Oh.a(e),draw:new wc(e),dragZoom:new Ec(e)},e.initModules(o).then(function(){return e})}).catch(r.a)}},{key:"initView",value:function(){var t=this.mapConfig,e=new h.b({code:t.epsg,axisOrientation:"neu"});e.setExtent(t.extent),this.olMap.setView(this.olView=new tr({center:t.center,extent:t.extent,zoom:t.zoom,projection:e,resolutions:t.resolutions}))}},{key:"initModules",value:function(t){var e=this;return this.modules={},Promise.all(Array.from(t).map(function(t){return function(t){if(ec.hasOwnProperty(t))return ec[t]().then(function(t){return t.default});var e="".concat(t," 模块不存在，是否已经注册？");return Promise.reject(e)}(t).then(function(i){e.modules[ih()(t)]=new i(e)})}))}}],[{key:"create",value:function(t){var i=t.target,n=t.serviceCode,r=void 0===n?[]:n,o=t.aliasMap,s=void 0===o?{}:o,a=t.showLayers,h=void 0===a?[]:a,c=t.modules,l=void 0===c?[]:c,u=t.showControls,d=void 0===u||u,p=t.controls,f=void 0===p?[]:p,g=t.defaultVisibleService,v=void 0===g?{}:g,_=t.epsgConfig,y=void 0===_?{}:_,m=t.defaultLayerConfig,b=void 0===m?{}:m;return i?Mc(i,function(){var t=i.querySelectorAll(".ol-viewport");return Object(mh.a)(t)&&t.forEach(function(t){return t.remove()}),cc(fc,s),function(t){cc(lc,t)}(v),ac(y),function(t){cc(uc,t)}(b),new e({olMap:new Ya({target:i,controls:_r({attribution:!1,zoom:!1}),interactions:Fs({dragPan:!1})}),showControls:d,controls:f}).init({serviceCode:r,showLayers:h,modules:l})}):Promise.reject("[target] is null!")}}]),e}(Object(xh.a)(dc,Oc)),Tc={name:"WebGISMap",mixins:[nc],data:function(){return{requireModules:["HistoryRecord","FeatureSelect","Measure","LayerSwipe"]}},computed:{webgisConfig:function(){return Object(s.a)({},this.options,{target:this.$refs.map,modules:new Set([].concat(Object(o.b)(this.modules),Object(o.b)(this.requireModules))),showControls:this.showControls,controls:this.controls})}},methods:{initMap:function(){var t=this;this.$_initWebgisPromise=Mc(this,function(){return Sc.create(t.webgisConfig).then(function(e){t.$webgis=e,t.$emit("init",e)},function(e){t.$emit("init",!1,e)}).catch(r.a)})}},mounted:function(){this.initMap()},watch:{"options.showLayers":function(t){var e=this;this.$_initWebgisPromise.then(function(){var i=e.$webgis;i.clear(),i.layerChange(t)})},showControls:function(){var t=this;this.$_initWebgisPromise.then(function(){t.$webgis.toggleControls(t.showControls,t.controls)})}}};hc(".webgis-map[data-v-dece0d76]{height:100%;background:#f2f2f2}");var jc=function(t,e,i,n,r,o,s,a,h,c){"boolean"!=typeof s&&(h=a,a=s,s=!1);var l,u="function"==typeof i?i.options:i;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),n&&(u._scopeId=n),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,h(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):e&&(l=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),l)if(u.functional){var d=u.render;u.render=function(t,e){return l.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return i};var Rc=jc({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"map",staticClass:"webgis-map"})},staticRenderFns:[]},void 0,Tc,"data-v-dece0d76",!1,void 0,void 0,void 0),Ic={props:{visible:Boolean,defaultValue:{type:Number,default:100}},data:function(){return{opacity:this.defaultValue}}};hc(".webgis-opacity-set[data-v-4e3d68a9]{-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-shadow:0 2px 12px 0 rgba(0,0,0,.1);border-radius:4px;padding:0 8px;background:#fff}");var Lc=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-opacity-set",on:{click:function(t){t.stopPropagation()}}},[i("el-slider",{staticClass:"webgis-opacity-set__slider",attrs:{min:0,max:100},on:{input:function(e){return t.$emit("change",t.opacity)}},model:{value:t.opacity,callback:function(e){t.opacity=e},expression:"opacity"}})],1)},staticRenderFns:[]},void 0,Ic,"data-v-4e3d68a9",!1,void 0,void 0,void 0),kc={data:function(){return{webgisReady:!1}},created:function(){this.$webgis=null},methods:{_afterInitWebgis:function(t){this.webgisReady=!0,t&&(this.$webgis=t,this.afterInitWebgis instanceof Function&&this.afterInitWebgis())}}},Pc={provide:function(){return{$_eventHub:this.$eventHub}},beforeCreate:function(){if(this.$eventHub)return Object(r.b)("私有的事件中心在一个范围内仅能存在一个!");this.$eventHub=new n.default}},Ac={inject:{$_eventHub:{type:Object,default:null}},created:function(){this.$eventHub=this.$_eventHub||this.$data.$evenHub}},Fc={mixins:[kc,Pc],methods:{initWebgis:function(t){this.$emit("init",t),this.$eventHub.$emit("privateWebgisReady",t),this.$eventHub.$webgis=t,this._afterInitWebgis(t)}}},Nc={mixins:[kc,Ac],methods:{_initWebgis:function(t){this.$eventHub.$off("privateWebgisReady",this._initWebgis),this._afterInitWebgis(t)}},created:function(){var t=this.$eventHub.$webgis;t?(this.$webgis=t,this._initWebgis(t)):this.$eventHub.$on("privateWebgisReady",this._initWebgis)}},Dc={mixins:[Nc],components:{AsideOpacitySet:Lc},data:function(){return{treeNodes:[],showLayers:[],expandedKeys:[]}},methods:{afterInitWebgis:function(){var t=this.$webgis;this.treeNodes=t.treeNodes,this.showLayers=t.showLayers,this.expandedKeys=Object(o.b)(this.showLayers),t.eventHub.on("layerChange",this.updateShowLayers)},onCheckChange:function(t,e){var i=e.checkedKeys.includes(t.id);this.$webgis.checkChange(t.id,i)},dropdownSelect:function(t,e){switch(t){case"zoom":var i=e.configGroup,n=i.center,r=i.zoom;this.$webgis.interactions.zoom.animate({center:n,zoom:r});break;case"opacity":break;case"move-up":this.$webgis.setLayerSort(e.id,"up"),this.treeNodes=Object(o.b)(this.$webgis.treeNodes);break;case"move-down":this.$webgis.setLayerSort(e.id,"down"),this.treeNodes=Object(o.b)(this.$webgis.treeNodes)}},opacitySet:function(t,e){t.opacity=e,this.$webgis.setLayerOpacity(t.id,e/100)},updateShowLayers:function(t){this.showLayers=t}},beforeDestroy:function(){this.$webgis.eventHub.off("layerChange",this.updateShowLayers)}};hc(".webgis-aside[data-v-3e4d0703]{overflow:hidden auto;width:250px;height:100%}.webgis-aside .el-tree[data-v-3e4d0703]{padding:8px;min-height:100%}.webgis-aside .el-tree-node__content[data-v-3e4d0703]{height:36px}.webgis-aside .el-tree-node__content:hover .webgis-aside__tree-tools[data-v-3e4d0703]{display:block}.webgis-aside .el-tree-node__content:hover .webgis-aside__tree-item.is-layer[data-v-3e4d0703]{padding-right:28px}.webgis-aside .el-tree-node__children .el-tree-node__content[data-v-3e4d0703]{height:30px}.webgis-aside__tree-item[data-v-3e4d0703]{width:100%;line-height:1;padding-right:8px;position:relative;overflow:hidden;text-overflow:ellipsis}.webgis-aside__tree-tools.el-dropdown[data-v-3e4d0703]{display:none;position:absolute;top:0;right:10px}.webgis-aside__tree-select-toggle[data-v-3e4d0703]:hover{color:#409eff}.webgis-aside__tree-select-item[data-v-3e4d0703]{position:relative}.webgis-aside__tree-select-item:hover .webgis-opacity-set[data-v-3e4d0703]{display:block}.webgis-aside__tree-select-item .webgis-opacity-set[data-v-3e4d0703]{display:none;position:absolute;left:100%;top:0;width:130px}");var Gc=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-aside scrollbar-default"},[i("el-tree",{ref:"elTree",attrs:{"default-checked-keys":t.showLayers,"default-expanded-keys":t.expandedKeys,data:t.treeNodes,"show-checkbox":"","node-key":"id"},on:{check:t.onCheckChange},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.node,r=e.data;return i("div",{staticClass:"webgis-aside__tree-item",class:{"is-layer":"layer"===r.nodeType}},[i("label",{attrs:{title:r.name}},[t._v(t._s(r.name))]),"layer"===r.nodeType?i("el-dropdown",{staticClass:"webgis-aside__tree-tools",attrs:{size:"medium"},on:{command:function(e){return t.dropdownSelect(e,r)}}},[i("span",{staticClass:"webgis-aside__tree-select-toggle"},[i("i",{staticClass:"el-icon-setting"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"zoom"}},[i("i",{staticClass:"el-icon-zoom-in"}),t._v("缩放至\n          ")]),i("el-dropdown-item",{staticClass:"webgis-aside__tree-select-item",attrs:{command:"opacity"}},[i("i",{staticClass:"el-icon-brush"}),t._v("透明度\n            "),i("AsideOpacitySet",{attrs:{"default-value":r.opacity},on:{change:function(e){return t.opacitySet(r,e)}}})],1),n.previousSibling?i("el-dropdown-item",{attrs:{command:"move-up"}},[i("i",{staticClass:"el-icon-top"}),t._v("上移\n          ")]):t._e(),n.nextSibling?i("el-dropdown-item",{attrs:{command:"move-down"}},[i("i",{staticClass:"el-icon-bottom"}),t._v("下移\n          ")]):t._e()],1)],1):t._e()],1)}}])})],1)},staticRenderFns:[]},void 0,Dc,"data-v-3e4d0703",!1,void 0,void 0,void 0),zc={name:"WebGISAsideTools",mixins:[Nc,Ac],components:{SvgIcon:Vh},data:function(){return{dragPanActive:!0,dragZoomActive:""}},methods:{toggleDragPan:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.dragPanActive;this.dragPanActive=t,this.$webgis.interactions.dragPan.toggleActive(t)},toggleAside:function(){this.$eventHub.$emit("toggleAside")},zoomRevert:function(){this.$webgis.interactions.zoom.change("revert")},toggleDragZoom:function(t){this.dragZoomActive=this.dragZoomActive&&this.dragZoomActive===t?"":t,this.$webgis.interactions.dragZoom.toggleActive(!!this.dragZoomActive,t)},closeDragZoom:function(){this.toggleDragZoom()},historyRecordChange:function(t){this.$webgis.modules.historyRecord.change(t)},afterInitWebgis:function(){this.$webgis.interactions.dragZoom.on("boxend",this.closeDragZoom)}},beforeDestroy:function(){this.$webgis.interactions.dragZoom.offAll("boxend",this.closeDragZoom)}};hc(".webgis-aside-tools[data-v-7ef8617a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;top:60px;left:10px}.webgis-aside-tools .el-button[data-v-7ef8617a]{-webkit-transition:all .3s;transition:all .3s;font-size:20px;margin:5px 0 0!important;padding:0;width:35px;height:35px;border:none;color:grey;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04)}.webgis-aside-tools .el-button[data-v-7ef8617a]:focus{border:1px solid #c6e2ff}.webgis-aside-tools .el-button.active[data-v-7ef8617a],.webgis-aside-tools .el-button[data-v-7ef8617a]:active{border:1px solid #409eff;color:#409eff}.webgis-aside-tools .spacer[data-v-7ef8617a]{height:15px}");var Uc=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-aside-tools webgis-absolute-layer"},[i("el-button",{on:{click:function(e){return t.historyRecordChange(-1)}}},[i("SvgIcon",{attrs:{name:"long-arrow-alt-left"}})],1),i("el-button",{on:{click:function(e){return t.historyRecordChange(1)}}},[i("SvgIcon",{attrs:{name:"long-arrow-alt-right"}})],1),i("div",{staticClass:"spacer"}),i("el-button",{class:{active:"zoom-in"===t.dragZoomActive},on:{click:function(e){return t.toggleDragZoom("zoom-in")}}},[i("SvgIcon",{attrs:{name:"search-plus"}})],1),i("el-button",{class:{active:"zoom-out"===t.dragZoomActive},on:{click:function(e){return t.toggleDragZoom("zoom-out")}}},[i("SvgIcon",{attrs:{name:"search-minus"}})],1),i("el-button",{on:{click:function(e){return t.zoomRevert()}}},[i("SvgIcon",{attrs:{name:"globe-americas"}})],1),i("div",{staticClass:"spacer"}),i("el-button",{on:{click:function(e){return t.toggleDragPan()}}},[i("SvgIcon",{attrs:{name:t.dragPanActive?"arrows-alt":"lock"}})],1),i("el-button",{on:{click:function(e){return t.toggleAside()}}},[i("SvgIcon",{attrs:{name:"layer-group"}})],1)],1)},staticRenderFns:[]},void 0,zc,"data-v-7ef8617a",!1,void 0,void 0,void 0),Wc={},Bc={name:"WebGISRegionList",mixins:[Nc,oc],computed:{jurisdictionTreeData:function(){return this.webgisConfig.options.jurisdictionTreeData||[]}},methods:{targetToView:function(t){var e=this,i=Wc[t];i?(this.$webgis.focusFeature(i),setTimeout(function(){e.$webgis.removeFeature(i)},1500)):Object(r.b)("未获取到要素")},afterInitWebgis:function(){var t=this,e=this.$webgis,i=e.treeLayers;if(Object(mh.a)(i)){var n=i.slice(-1)[0],r=n.config,o=n.configGroup;e.getLayerInfo({serviceCode:r.serviceCode,layerId:r.serverId,epsgNum:o.wkid,extent:o.extent}).then(function(e){return t.$webgis.formatEsriJSON.readFeatures(e).map(function(t){var e=t.getProperties(),i=e.XZQDM||e.DJQDM;i&&(Wc[i]=t)}),Wc})}}}};hc(".webgis-region-list[data-v-164f0b5d]{width:300px;max-height:380px;overflow-y:auto}.webgis-region-list_item[data-v-164f0b5d]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:8px}.webgis-region-list_item .el-button[data-v-164f0b5d]{padding:0}.webgis-region-list_item-left[data-v-164f0b5d]{-webkit-box-flex:0;-ms-flex:none;flex:none;width:60px;margin-right:8px}.webgis-region-list_item-left .el-button[data-v-164f0b5d]{font-weight:700;font-size:13px;white-space:normal;width:100%;line-height:1.3;text-align:left}.webgis-region-list_item-right[data-v-164f0b5d]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.webgis-region-list_item-right-item[data-v-164f0b5d]{margin:0 4px 4px 0}.webgis-region-list_item__empty[data-v-164f0b5d]{text-align:center;padding:24px;color:#909399}");var Xc=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"webgis-region-list webgis-list-unstyled webgis-scrollbar-default"},[t._l(t.jurisdictionTreeData,function(e){return i("li",{key:e.id,staticClass:"webgis-region-list_item"},[i("div",{staticClass:"webgis-region-list_item-left"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.targetToView(e.id)}}},[t._v(t._s(e.name)+"：")])],1),i("ul",{staticClass:"webgis-region-list_item-right webgis-list-unstyled"},t._l(e.children,function(e){return i("li",{key:e.id,staticClass:"webgis-region-list_item-right-item"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.targetToView(e.id)}}},[t._v(t._s(e.name))])],1)}),0)])}),t.jurisdictionTreeData.length?t._e():i("li",{staticClass:"webgis-region-list_item__empty"},[t._v("\n    暂无数据\n  ")])],2)},staticRenderFns:[]},void 0,Bc,"data-v-164f0b5d",!1,void 0,void 0,void 0),Yc={mixins:[Ac,Nc],methods:{clear:function(){this.$eventHub.$emit("clear")}}},Hc={mixins:[Ac,Nc],data:function(){return{featureSelectActive:!1}},methods:{featureSelectToggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.featureSelectActive;this.featureSelectActive=t,this.$webgis.modules.featureSelect.toggleActive(t)},afterInitWebgis:function(){var t=this,e=this.$webgis.modules.featureSelect;e.on("end",function(e){if(e.state){var i=e.data;i.length?(t.featureSelectToggle(!1),t.$eventHub.$emit("changeModal","attribute-info",i)):(t.$message.info("暂无数据"),t.$eventHub.$emit("changeModal"))}else Object(r.a)(e.message),t.$eventHub.$emit("changeModal")}),e.on("select",function(e){return t.$eventHub.$emit("featureSelectItem",e)})}},created:function(){this.$eventHub.$on("featureSelectToggle",this.featureSelectToggle)},beforeDestroy:function(){(this.$eventHub.$off("featureSelectToggle",this.featureSelectToggle),this.$webgis)&&this.$webgis.modules.featureSelect.offAll()}},Vc=new n.default,Kc={methods:{splitScreenToggle:function(){Vc.$emit("splitScreenToggle")}}},qc={name:"WebGISTopTools",mixins:[Nc,Yc,Hc,Kc,Ac],components:{RegionList:Xc},methods:{toolsHandle:function(t){switch(t){case"measure":this.$eventHub.$emit("changeModal","measure-select");break;case"screenshots":this.$webgis.exportImage();break;case"rolling-screen":this.$eventHub.$emit("changeModal","layer-swipe")}}}};hc(".webgis-top-tools[data-v-2a1c6d03]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:10px;right:10px;background:#fff;border-radius:4px;height:32px}.webgis-top-tools__item[data-v-2a1c6d03]{font-size:13px;padding:8px;border:none;background-color:transparent;color:inherit}.webgis-top-tools__item.active[data-v-2a1c6d03],.webgis-top-tools__item[data-v-2a1c6d03]:active,.webgis-top-tools__item[data-v-2a1c6d03]:hover{color:#409eff}.webgis-top-tools__divider[data-v-2a1c6d03]{height:1em;border-left:1px dashed #ddd}");var Zc=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-top-tools webgis-box-shadow-default webgis-absolute-layer flex-center-justify"},[i("el-popover",{attrs:{placement:"bottom-start",trigger:"click"}},[i("RegionList"),i("el-button",{staticClass:"webgis-top-tools__item",attrs:{slot:"reference",icon:"el-icon-s-grid"},slot:"reference"},[t._v("\n      辖区\n    ")])],1),i("span",{staticClass:"webgis-top-tools__divider"}),i("el-button",{staticClass:"webgis-top-tools__item",class:{active:t.featureSelectActive},attrs:{icon:"el-icon-place"},on:{click:function(e){return t.featureSelectToggle()}}},[t._v("\n    要素拾取\n  ")]),i("span",{staticClass:"webgis-top-tools__divider"}),i("el-dropdown",{attrs:{trigger:"click",size:"small"},on:{command:t.toolsHandle}},[i("el-button",{staticClass:"webgis-top-tools__item",attrs:{icon:"el-icon-setting"}},[t._v("\n      工具\n    ")]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"measure",icon:"el-icon-place"}},[t._v("\n        测量\n      ")]),i("el-dropdown-item",{attrs:{command:"screenshots",icon:"el-icon-crop"}},[t._v("\n        截屏\n      ")]),i("el-dropdown-item",{attrs:{command:"rolling-screen",icon:"el-icon-ice-cream-square"}},[t._v("\n        卷帘\n      ")])],1)],1),i("span",{staticClass:"webgis-top-tools__divider"}),i("el-button",{staticClass:"webgis-top-tools__item",attrs:{icon:"el-icon-menu"},on:{click:function(e){return t.splitScreenToggle()}}},[t._v("\n    分屏\n  ")]),i("span",{staticClass:"webgis-top-tools__divider"}),i("el-button",{staticClass:"webgis-top-tools__item",attrs:{icon:"el-icon-delete"},on:{click:function(e){t.clear(),t.$webgis.clear()}}},[t._v("\n    清理\n  ")])],1)},staticRenderFns:[]},void 0,qc,"data-v-2a1c6d03",!1,void 0,void 0,void 0),$c={name:"WebGISCombinedSearchList",model:{prop:"value",event:"change"},props:{data:{type:Array,default:function(){return[]}},keyword:String,height:{type:String,default:"60px"},value:[String,Number]},computed:{visibleData:function(){var t=this.keyword;return t?this.data.filter(function(e){return e.label.includes(t)}):this.data}}};hc(".webgis-combined-search-list[data-v-43f55b60]{border:1px solid #dcdfe6;border-radius:4px;padding:4px;overflow-y:auto}.webgis-combined-search-list>li[data-v-43f55b60]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:16px;line-height:16px;padding:0 4px;border-radius:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.webgis-combined-search-list>li[data-v-43f55b60]:hover{background-color:rgba(0,0,0,.05)}.webgis-combined-search-list>li.active[data-v-43f55b60]{background-color:rgba(0,0,0,.1)}.webgis-combined-search-list>li.is-empty[data-v-43f55b60]{color:#909399}.webgis-combined-search-list>li.is-empty[data-v-43f55b60]:hover{background-color:inherit}");var Qc=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"webgis-combined-search-list webgis-list-unstyled webgis-scrollbar-default",style:{height:t.height}},[t._l(t.visibleData,function(e){return i("li",{key:e.value,class:{active:t.value===e.value},on:{click:function(i){t.value!==e.value&&t.$emit("change",e.value)}}},[t._v("\n    "+t._s(e.label)+"\n  ")])}),t.data.length?t._e():i("li",{staticClass:"is-empty"},[t._v("（无数据）")])],2)},staticRenderFns:[]},void 0,$c,"data-v-43f55b60",!1,void 0,void 0,void 0);hc(".webgis-combined-search-keyboard[data-v-b895e448]{margin-right:12px;width:40%;-webkit-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap}.webgis-combined-search-keyboard .el-button[data-v-b895e448]{width:28%;height:20px;padding:0;margin:0 0 8px}.webgis-combined-search-keyboard .el-button.extra-mini[data-v-b895e448]{width:13%}.webgis-combined-search-keyboard .keyboard-group-wrap[data-v-b895e448]{width:28%;height:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.webgis-combined-search-keyboard .keyboard-group-wrap .el-button[data-v-b895e448]{width:45%;height:100%}");var Jc={name:"WebGISCombinedSearch",mixins:[Nc],components:{ElSelectTree:Qh,CombinedSearchList:Qc,CombinedSearchKeyboard:jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-combined-search-keyboard"},[t._l(t.keyboardData,function(e,n){return[Array.isArray(e)?i("span",{key:n,staticClass:"keyboard-group-wrap"},t._l(e,function(e){return i("el-button",{key:e,attrs:{size:"mini"},on:{click:function(i){return t.$emit("input",e)}}},[t._v(t._s(e))])}),1):i("el-button",{key:n,attrs:{size:"mini"},on:{click:function(i){return t.$emit("input",e)}}},[t._v(t._s(e))])]})],2)},staticRenderFns:[]},void 0,{name:"WebgisCombinedSearchKeyboard",data:function(){return{keyboardData:["=","<>","Like",">",">=","And","<","<=","Or",["?","*"],"()","Not","Is"]}}},"data-v-b895e448",!1,void 0,void 0,void 0)},data:function(){return{loading:!1,layer:"",field:"",value:"",valueKeyword:"",SQLWhere:"",treeNodes:[],treeNodesProps:{value:"id",label:"name",children:"children"},fieldData:[],valueData:[]}},computed:{selectedLayer:function(){var t=this;return this.$webgis.treeLayers.find(function(e){return e.id===t.layer})||{}},checkParams:function(){return this.layer&&this.SQLWhere}},methods:{afterInitWebgis:function(){this.treeNodes=this.$webgis.treeNodes},layerChange:function(t){var e=this;this.field="",this.value="",this.valueData=[],this.loading=!0,this.$webgis.getLayerField(t).then(function(t){return e.fieldData=t}).finally(function(){return e.loading=!1})},fieldChange:function(t){var e=this;this.updateSQLWhere(t),this.value="",this.loading=!0,this.$webgis.getLayerFieldValue(this.layer,t).then(function(t){return e.valueData=t}).finally(function(){return e.loading=!1})},valueChange:function(t){this.updateSQLWhere(t)},updateSQLWhere:function(t){this.SQLWhere+=(this.SQLWhere?" ":"")+t},reset:function(){this.layer="",this.field="",this.fieldData=[],this.value="",this.valueData=[],this.valueKeyword="",this.SQLWhere=""},checkSQLWhere:function(){var t=this;this.loading=!0,this.$webgis.getLayerInfo(this.$webgis.getLayerInfoParams(this.layer,{where:this.SQLWhere})).then(function(){return t.$message.success("校验成功！")},function(){return t.$message.error("校验失败！")}).finally(function(){return t.loading=!1})},enter:function(){var t=this;return this.loading=!0,this.$webgis.searchFeature({where:this.SQLWhere,layerIds:[this.layer]}).then(function(e){var i=e.features,n=e.data;Object(mh.a)(i)&&Object(mh.a)(n)?(t.$webgis.modules.featureSelect.updateFeatures(i),t.$eventHub.$emit("changeModal","attribute-info",n)):(t.$message.info("暂无数据"),t.$eventHub.$emit("changeModal"))},function(){return t.$message.error("获取数据失败！")}).finally(function(){return t.loading=!1})},close:function(){this.$emit("close")}}};hc(".webgis-combined-search[data-v-ab699f8c]{font-size:12px}.webgis-combined-search__block[data-v-ab699f8c]{margin-bottom:8px}.webgis-combined-search__block[data-v-ab699f8c]:last-of-type{margin-bottom:0}.webgis-combined-search__layer[data-v-ab699f8c]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.webgis-combined-search__field .webgis-combined-search-list[data-v-ab699f8c]{margin-top:8px}.webgis-combined-search__value[data-v-ab699f8c]{display:-webkit-box;display:-ms-flexbox;display:flex}.webgis-combined-search__value-list-wrap[data-v-ab699f8c]{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden}.webgis-combined-search__value-filter[data-v-ab699f8c]{margin-top:5.3333333333px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.webgis-combined-search__value-filter .el-input[data-v-ab699f8c]{-webkit-box-flex:1;-ms-flex:1;flex:1}.webgis-combined-search__where[data-v-ab699f8c]{text-align:left}.webgis-combined-search__where .el-textarea[data-v-ab699f8c]{margin-top:2px}.webgis-combined-search__btn[data-v-ab699f8c]{margin-bottom:0;text-align:right}.webgis-combined-search__btn .el-button[data-v-ab699f8c]{padding:6px 10px;text-align:center}");var tl={name:"WebGISTopSearch",mixins:[Nc,oc],components:{CombinedSearch:jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"webgis-combined-search"},[i("div",{staticClass:"webgis-combined-search__layer webgis-combined-search__block"},[i("label",[t._v("图层：")]),i("ElSelectTree",{attrs:{placeholder:"请选择图层","popover-min-width":174,props:t.treeNodesProps,data:t.treeNodes},on:{change:t.layerChange},model:{value:t.layer,callback:function(e){t.layer=e},expression:"layer"}})],1),i("div",{staticClass:"webgis-combined-search__field webgis-combined-search__block"},[i("label",[t._v("字段：")]),i("CombinedSearchList",{attrs:{data:t.fieldData},on:{change:t.fieldChange},model:{value:t.field,callback:function(e){t.field=e},expression:"field"}})],1),i("div",{staticClass:"webgis-combined-search__value webgis-combined-search__block"},[i("CombinedSearchKeyboard",{on:{input:t.updateSQLWhere}}),i("div",{staticClass:"webgis-combined-search__value-list-wrap"},[i("CombinedSearchList",{attrs:{height:"104px",keyword:t.valueKeyword,data:t.valueData},on:{change:t.valueChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),i("div",{staticClass:"webgis-combined-search__value-filter"},[i("label",[t._v("查找：")]),i("el-input",{attrs:{clearable:"",size:"mini",placeholder:"关键字"},model:{value:t.valueKeyword,callback:function(e){t.valueKeyword=e},expression:"valueKeyword"}})],1)],1)],1),i("div",{staticClass:"webgis-combined-search__where webgis-combined-search__block"},[i("label",[t._v("SELECT * FROM "+t._s(t.selectedLayer.letter||"[LAYER]")+" WHERE")]),i("el-input",{attrs:{resize:"none",size:"mini",type:"textarea"},model:{value:t.SQLWhere,callback:function(e){t.SQLWhere=e},expression:"SQLWhere"}})],1),i("div",{staticClass:"webgis-combined-search__btn webgis-combined-search__block"},[i("el-button",{attrs:{size:"mini",disabled:!t.SQLWhere},on:{click:function(e){return t.reset()}}},[t._v("重置")]),i("el-button",{attrs:{size:"mini",disabled:!t.checkParams},on:{click:function(e){return t.checkSQLWhere()}}},[t._v("校验")]),i("el-button",{attrs:{type:"primary",disabled:!t.checkParams,size:"mini"},on:{click:function(e){return t.enter()}}},[t._v("确认")]),i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.close()}}},[t._v("关闭")])],1)])},staticRenderFns:[]},void 0,Jc,"data-v-ab699f8c",!1,void 0,void 0,void 0)},data:function(){return{loading:!1,keyword:"",combinedSearchVisible:!1}},computed:{keywordSQL:function(){var t=this;return(this.searchRange.fields||[]).map(function(e){return"".concat(e," LIKE '%").concat(t.keyword,"%'")}).join(" OR ")},searchRange:function(){return this.webgisConfig.options.searchRange||{}},searchIcon:function(){return"el-icon-".concat(this.loading?"loading":"search")}},methods:{search:function(){var t=this;this.loading=!0,this.$webgis.searchFeature({where:this.keywordSQL,layerIds:this.searchRange.layers||[]}).then(function(e){var i=e.features,n=e.data;Object(mh.a)(i)&&Object(mh.a)(n)?(t.$webgis.modules.featureSelect.updateFeatures(i),t.$eventHub.$emit("changeModal","attribute-info",n)):(t.$message.info("暂无数据"),t.$eventHub.$emit("changeModal"))}).finally(function(){return t.loading=!1})}}};hc(".webgis-top-search input{border-radius:0;border:0}");hc(".webgis-top-search[data-v-e7c2a888]{display:-webkit-box;display:-ms-flexbox;display:flex;top:10px;left:10px}.webgis-top-search__left[data-v-e7c2a888]{margin-right:16px}.webgis-top-search .el-input[data-v-e7c2a888]{width:180px}.webgis-top-search .el-button[data-v-e7c2a888]{border-radius:0;border:0;height:32px;vertical-align:top}");var el={name:"WebGISControls",mixins:[Nc],components:{AsideTools:Uc,TopTools:Zc,TopSearch:jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-top-search webgis-absolute-layer"},[i("div",{staticClass:"webgis-top-search__left webgis-box-shadow-default"},[i("el-input",{attrs:{disabled:t.loading,size:"small",clearable:"",placeholder:"请输入关键字"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),i("el-button",{attrs:{disabled:t.loading,size:"small",type:"primary",icon:t.searchIcon},on:{click:t.search}})],1),i("el-popover",{attrs:{placement:"bottom-end",width:"270"},model:{value:t.combinedSearchVisible,callback:function(e){t.combinedSearchVisible=e},expression:"combinedSearchVisible"}},[i("CombinedSearch",{on:{close:function(e){t.combinedSearchVisible=!1}}}),i("el-button",{staticClass:"webgis-box-shadow-default",attrs:{slot:"reference",size:"small"},slot:"reference"},[t._v("\n      组合查询\n    ")])],1)],1)},staticRenderFns:[]},void 0,tl,"data-v-e7c2a888",!1,void 0,void 0,void 0)}};hc("");var il=jc({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webgis-controls"},[e("TopSearch"),e("TopTools"),e("AsideTools")],1)},staticRenderFns:[]},void 0,el,"data-v-63bc4961",!1,void 0,void 0,void 0),nl={name:"WebGISModalsContainer",mixins:[Yc],props:{title:{type:String,default:"标题"}}};hc(".webgis-modals-container[data-v-66245ad0]{width:50%;height:80%;max-width:502px;max-height:602px;border:1px solid #dcdfe6;background-color:#fff;right:10px;top:60px;font-size:13px;white-space:nowrap;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.webgis-modals-header[data-v-66245ad0]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:5px 8px;border-bottom:1px solid #dcdfe6}.webgis-modals-header__title[data-v-66245ad0]{padding-left:5px;line-height:1;border-left:3px solid #409eff}.webgis-modals-header__close.el-button[data-v-66245ad0]{font-size:18px;padding:0}");var rl=jc({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webgis-modals-container webgis-box-shadow-default webgis-absolute-layer"},[e("div",{staticClass:"webgis-modals-header"},[e("span",{staticClass:"webgis-modals-header__title"},[this._v(this._s(this.title))]),e("el-button",{staticClass:"webgis-modals-header__close",attrs:{type:"text",icon:"el-icon-close"},on:{click:this.clear}})],1),this._t("default")],2)},staticRenderFns:[]},void 0,nl,"data-v-66245ad0",!1,void 0,void 0,void 0),ol={name:"WebGISModalsAttributeInfo",mixins:[Nc,Ac],components:{ModalsContainer:rl},props:{data:Array},data:function(){return{filter:"all",filterData:[{value:"all",label:"全部"}],defaultProps:{children:"children"},selectedNode:{}}},computed:{selectedTotal:function(){var t=0;return this.data.forEach(function(e){e.children.forEach(function(){t++})}),t}},methods:{selectItem:function(t){var e=this;t&&t.properties&&(this.selectedNode=t,this.$webgis.modules.featureSelect.selectFeature(t.properties.BSM),this.$nextTick(function(){return e.$refs.tree.setCurrentKey(t.id)}))},selectFirst:function(){Object(mh.a)(this.data)&&this.selectItem(this.data[0].children[0])},featureSelectItem:function(t){var e=this;this.data.forEach(function(i){return e.selectItem(i.children.find(function(e){return e.properties.BSM===t}))})}},watch:{data:function(){this.selectFirst()}},activated:function(){this.selectFirst()},deactivated:function(){this.$webgis.modules.featureSelect.deactivate(),this.$webgis.clearFeature()},created:function(){this.$eventHub.$on("featureSelectItem",this.featureSelectItem)},beforeDestroy:function(){this.$eventHub.$off("featureSelectItem",this.featureSelectItem)}};hc(".webgis-attribute-info[data-v-4dd3495a]{width:50%;height:80%;max-width:402px;max-height:602px}.webgis-attribute-info__filter[data-v-4dd3495a]{padding:5px 15px;background-color:#eee;border-bottom:1px solid #dcdfe6;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.webgis-attribute-info__select[data-v-4dd3495a]{margin-left:8px}.webgis-attribute-info__body[data-v-4dd3495a]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:auto;padding-top:33px}.webgis-attribute-info__content[data-v-4dd3495a]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;margin-top:-33px}.webgis-attribute-info__content[data-v-4dd3495a],.webgis-attribute-info__footer[data-v-4dd3495a]{width:400px}.webgis-attribute-info__list[data-v-4dd3495a],.webgis-attribute-info__tree[data-v-4dd3495a]{height:100%;overflow-y:auto}.webgis-attribute-info__list[data-v-4dd3495a]{line-height:30px}.webgis-attribute-info__list-item[data-v-4dd3495a]{border-bottom:1px solid #dcdfe6;display:-webkit-box;display:-ms-flexbox;display:flex}.webgis-attribute-info__list-label[data-v-4dd3495a],.webgis-attribute-info__list-text[data-v-4dd3495a]{padding:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.webgis-attribute-info__list-label[data-v-4dd3495a]{width:40%;font-weight:700;color:#4384d4;background:#eff5fc;border-right:1px solid #dcdfe6}.webgis-attribute-info__list-text[data-v-4dd3495a]{width:60%}.webgis-attribute-info__tree[data-v-4dd3495a]{border-right:1px solid #dcdfe6}.webgis-attribute-info__tree-node[data-v-4dd3495a]{font-size:13px;overflow:hidden;text-overflow:ellipsis}.webgis-attribute-info__footer[data-v-4dd3495a]{padding:0 8px;height:33px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#eee;border-top:1px solid #dcdfe6;overflow:hidden;text-overflow:ellipsis}.webgis-attribute-info__total-number[data-v-4dd3495a]{color:green;font-weight:700;font-size:medium}");var sl=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ModalsContainer",{staticClass:"webgis-attribute-info",attrs:{title:"属性信息"}},[i("div",{staticClass:"webgis-attribute-info__filter"},[i("label",[t._v("筛选条件")]),i("el-select",{staticClass:"webgis-attribute-info__select",attrs:{value:t.filter,size:"mini",placeholder:"请选择"}},t._l(t.filterData,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t.selectedNode.id?i("div",{staticClass:"webgis-attribute-info__body"},[i("el-row",{staticClass:"webgis-attribute-info__content"},[i("el-col",{staticClass:"webgis-attribute-info__tree",attrs:{span:6}},[i("el-tree",{ref:"tree",attrs:{data:t.data,props:t.defaultProps,"current-node-key":t.selectedNode.id,"node-key":"id","default-expand-all":"","highlight-current":""},on:{"node-click":t.selectItem},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var n=e.data;return[i("span",{staticClass:"webgis-attribute-info__tree-node"},[t._v("\n              "+t._s(n.name)+"\n            ")])]}}],null,!1,2903501661)})],1),i("el-col",{staticClass:"webgis-attribute-info__list",attrs:{span:18}},[t.selectedNode?i("ul",t._l(t.selectedNode.properties,function(e,n){return i("li",{key:n,staticClass:"webgis-attribute-info__list-item"},[i("label",{staticClass:"webgis-attribute-info__list-label",attrs:{title:n}},[t._v("\n              "+t._s(n)+"\n            ")]),i("span",{staticClass:"webgis-attribute-info__list-text"},[t._v("\n              "+t._s(e)+"\n            ")])])}),0):t._e()])],1),i("div",{staticClass:"webgis-attribute-info__footer"},[t._v("\n      图元总数：\n      "),i("span",{staticClass:"webgis-attribute-info__total-number"},[t._v("\n        "+t._s(t.selectedTotal)+"\n      ")])])],1):t._e()])},staticRenderFns:[]},void 0,ol,"data-v-4dd3495a",!1,void 0,void 0,void 0),al={name:"WebGISModalsRadioToggle",components:{ModalsContainer:rl},model:{props:"value",event:"change"},props:{title:String,subTitle:String,value:[String,Number],options:Array},data:function(){return{privateValue:this.value}},watch:{value:function(){this.privateValue=this.value}}};hc(".modal-radio-toggle .el-radio__label{font-size:13px}");hc(".modal-radio-toggle[data-v-fbfa9332]{width:auto;height:auto;font-size:13px}.modal-radio-toggle__body[data-v-fbfa9332]{padding:0 8px}.modal-radio-toggle__form-group[data-v-fbfa9332]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:8px 0}.modal-radio-toggle__form-group .el-radio[data-v-fbfa9332]{line-height:18px}.modal-radio-toggle__label[data-v-fbfa9332]{color:grey;margin-right:8px}");var hl=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ModalsContainer",{staticClass:"modal-radio-toggle",attrs:{title:t.title}},[i("div",{staticClass:"modal-radio-toggle__body"},[i("div",{staticClass:"modal-radio-toggle__form-group"},[t.subTitle?i("h4",{staticClass:"modal-radio-toggle__label"},[t._v("\n        "+t._s(t.subTitle)+"\n      ")]):t._e(),i("el-radio-group",{on:{change:function(e){return t.$emit("change",e)}},model:{value:t.privateValue,callback:function(e){t.privateValue=e},expression:"privateValue"}},t._l(t.options,function(e){return i("el-radio",{key:e.label,attrs:{label:e.label}},[t._v("\n          "+t._s(e.name)+"\n        ")])}),1)],1)])])},staticRenderFns:[]},void 0,al,"data-v-fbfa9332",!1,void 0,void 0,void 0);var cl={"attribute-info":sl,"measure-select":jc({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("ModalsRadioToggle",{staticClass:"modal-measure",attrs:{title:"测量","sub-title":"方式：",options:t.types},on:{change:t.typeChange},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})},staticRenderFns:[]},void 0,{name:"WebGISModalsMeasureSelect",mixins:[Nc],components:{ModalsRadioToggle:hl},data:function(){return{types:[{label:"LineString",name:"线条"},{label:"Polygon",name:"面积"}],type:"LineString"}},methods:{typeChange:function(){this.$webgis.modules.measure.toggleActive(!0,this.type)}},activated:function(){this.$webgis.modules.measure.activate(this.type)},deactivated:function(){this.$webgis.modules.measure.deactivate()}},void 0,!1,void 0,void 0,void 0),"layer-swipe":jc({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("ModalsRadioToggle",{staticClass:"modal-measure",attrs:{title:"卷帘","sub-title":"方式：",options:t.types},on:{change:t.typeChange},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})},staticRenderFns:[]},void 0,{name:"WebGISModalsMeasureSelect",mixins:[Nc,Ac],components:{ModalsRadioToggle:hl},data:function(){return{types:[{label:"vertical",name:"横线"},{label:"horizontal",name:"纵向"}],type:"vertical"}},methods:{typeChange:function(){this.$webgis.modules.layerSwipe.changeType(this.type),this.$eventHub.$emit("rollingScreenToggleActive",!0,this.type)}},activated:function(){this.$webgis.modules.layerSwipe.activate(this.type),this.$eventHub.$emit("rollingScreenToggleActive",!0,this.type)},deactivated:function(){this.$webgis.modules.layerSwipe.deactivate(),this.$eventHub.$emit("rollingScreenToggleActive",!1)}},void 0,!1,void 0,void 0,void 0)};var ll=jc({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"webgis-transition-fade"}},[e("keep-alive",[e(this.modal,{tag:"component",attrs:{data:this.data}})],1)],1)},staticRenderFns:[]},void 0,{name:"WebGISModals",mixins:[Ac],components:Object(s.a)({},cl),data:function(){return{data:null,modal:""}},methods:{changeModal:function(t,e){this.data=e,this.modal=t}},created:function(){this.$eventHub.$on(["changeModal","clear"],this.changeModal)},beforeDestroy:function(){this.$eventHub.$off(["changeModal","clear"],this.changeModal)}},void 0,!1,void 0,void 0,void 0),ul={name:"WebGISRollingScreen",props:{type:String,value:Number},data:function(){return{privateValue:this.value}},computed:{lineStyle:function(){var t=this.privateValue+"%";return"vertical"===this.type?{left:t}:{bottom:t}}},watch:{value:function(){this.privateValue=this.value}}};hc(".webgis-rolling-screen__slider .el-slider__bar,.webgis-rolling-screen__slider .el-slider__runway{margin:0;height:0;background:0 0}");hc(".webgis-rolling-screen__line[data-v-e382b30a]{height:100%;width:1px;background:#409eff;z-index:0;left:0}.webgis-rolling-screen__slider[data-v-e382b30a]{position:absolute!important;width:100%;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:0}.webgis-rolling-screen.webgis-rolling-screen_horizontal .webgis-rolling-screen__line[data-v-e382b30a]{height:1px;width:100%}.webgis-rolling-screen.webgis-rolling-screen_horizontal .webgis-rolling-screen__slider[data-v-e382b30a]{width:auto;height:100%;top:0;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}");var dl={name:"WebGIS",mixins:[Fc,oc,Pc],components:{Map:Rc,Aside:Gc,Controls:il,Modals:ll,RollingScreen:jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-rolling-screen",class:{"webgis-rolling-screen_horizontal":"horizontal"===t.type}},[i("div",{staticClass:"webgis-rolling-screen__line webgis-absolute-layer",style:t.lineStyle}),i("el-slider",{staticClass:"webgis-rolling-screen__slider webgis-absolute-layer",attrs:{vertical:"horizontal"===t.type,"show-tooltip":!1},on:{input:function(e){return t.$emit("input",t.privateValue)}},model:{value:t.privateValue,callback:function(e){t.privateValue=e},expression:"privateValue"}})],1)},staticRenderFns:[]},void 0,ul,"data-v-e382b30a",!1,void 0,void 0,void 0)},data:function(){return{showAside:!1,rollingScreen:{active:!1,type:"vertical",value:50}}},methods:{toggleAside:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.webgisConfig.showAside;this.webgisConfig.showAside=t},rollingScreenToggleActive:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.rollingScreen.active,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical";this.rollingScreen.active=t,this.rollingScreen.type=e,t&&this.rollingScreenChange()},afterInitWebgis:function(){var t=this;this.$eventHub.$on("rollingScreenToggleActive",this.rollingScreenToggleActive),this.$eventHub.$on("clear",function(){return t.rollingScreenToggleActive(!1)})},rollingScreenChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rollingScreen.value;this.rollingScreen.value=t,this.$webgis.modules.layerSwipe.changeValue(t)}},activated:function(){this.$webgis&&this.$webgis.updateSize()},mounted:function(){this.$eventHub.$on("toggleAside",this.toggleAside)},beforeDestroy:function(){this.$eventHub.$off("toggleAside",this.toggleAside),this.$eventHub.$off("rollingScreenToggleActive",this.rollingScreenToggleActive)}};hc(".webgis-container[data-v-241a6f50]{position:relative;overflow:hidden;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.webgis-map[data-v-241a6f50]{position:absolute;width:100%;height:100%}.webgis-aside[data-v-241a6f50],.webgis-slot[data-v-241a6f50]{position:relative;-webkit-box-flex:0;-ms-flex:none;flex:none}.webgis-main[data-v-241a6f50]{position:relative;height:0;-webkit-box-flex:1;-ms-flex:1;flex:1}");var pl=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.webgisReady,expression:"!webgisReady"}],staticClass:"webgis-container"},[i("Map",{attrs:{modules:t.webgisConfig.modules,options:t.webgisConfig.options,"show-controls":t.webgisConfig.showControls,controls:t.webgisConfig.controls},on:{init:t.initWebgis}}),t.$slots.aside?i("div",{staticClass:"webgis-slot"},[t._t("aside")],2):t._e(),i("div",{staticClass:"webgis-aside-wrapper"},[i("transition",{attrs:{name:"webgis-transition-slide"}},[t.webgisConfig.showAside?i("Aside"):t._e()],1)],1),i("div",{staticClass:"webgis-main"},[i("transition",{attrs:{name:"webgis-transition-fade"}},[i("keep-alive",[t.webgisConfig.showControls&&t.$webgis?i("Controls"):t._e()],1)],1)],1),t.rollingScreen.active?i("RollingScreen",{attrs:{type:t.rollingScreen.type,value:t.rollingScreen.value},on:{input:t.rollingScreenChange}}):t._e(),i("Modals")],1)},staticRenderFns:[]},void 0,dl,"data-v-241a6f50",!1,void 0,void 0,void 0),fl={1:{height:"100%",spans:[24]},2:{height:"100%",spans:[12,12]},3:{height:"50%",spans:[12,12,24]},4:{height:"50%",spans:[12,12,12,12]},5:{height:"50%",spans:[8,8,8,12,12]},6:{height:"50%",spans:[8,8,8,8,8,8]}},gl={name:"WebGISSplitScreenCommonHeader",props:{title:String}};hc(".webgis-screen-common-header[data-v-3ed1314d]{padding:0 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;background-color:#9db8e9}.webgis-screen-common-header__title[data-v-3ed1314d]{color:#fff;font-size:13px;-webkit-box-flex:1;-ms-flex:1;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.webgis-screen-common-header .el-button[data-v-3ed1314d]{color:#fff;font-size:16px;margin-left:6px}.webgis-screen-common-header .el-button[data-v-3ed1314d]:hover{color:#409eff}");var vl=jc({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webgis-screen-common-header"},[e("span",{staticClass:"webgis-screen-common-header__title"},[this._v("\n    "+this._s(this.title)+"\n  ")]),this._t("default")],2)},staticRenderFns:[]},void 0,gl,"data-v-3ed1314d",!1,void 0,void 0,void 0),_l={name:"WebGISSplitScreenHeader",mixins:[Yc,Hc],props:{title:String},components:{CommonHeader:vl}};hc(".webgis-split-screen-header[data-v-7576adbc]{height:43px}");var yl={name:"WebGISSplitScreenListItem",mixins:[Fc,Pc,oc],components:{Map:Rc,ScreenHeader:jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonHeader",{staticClass:"webgis-split-screen-header",attrs:{title:t.title}},[t.webgisReady&&t.$webgis?i("div",{staticClass:"webgis-split-screen-header__btn-group"},[i("el-button",{attrs:{type:"text",icon:"el-icon-search"}}),i("el-button",{attrs:{type:"text",icon:"el-icon-zoom-in"},on:{click:function(e){return t.$webgis.interactions.zoom.change("zoom-in")}}}),i("el-button",{attrs:{type:"text",icon:"el-icon-zoom-out"},on:{click:function(e){return t.$webgis.interactions.zoom.change("zoom-out")}}}),i("el-button",{attrs:{type:"text",icon:"el-icon-refresh-right"},on:{click:function(e){return t.$webgis.interactions.zoom.change("revert")}}}),i("el-button",{attrs:{type:"text",icon:"el-icon-thumb"},on:{click:function(e){return t.featureSelectToggle()}}}),i("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(e){return t.clear()}}})],1):t._e()])},staticRenderFns:[]},void 0,_l,"data-v-7576adbc",!1,void 0,void 0,void 0),Modals:ll},props:{data:Object},computed:{currentOptions:function(){var t=this.data.layer;return Object(s.a)({},this.webgisConfig.options,{showLayers:t.config&&t.config.name})}}};hc(".webgis-screen-list-item[data-v-9a03f232]{position:relative;overflow:hidden;height:100%;padding-top:42px}.webgis-screen-list-item__header[data-v-9a03f232]{margin-top:-42px}.webgis-screen-list-item__webgis[data-v-9a03f232]{border:1px solid #dcdfe6}.webgis-screen-list-item__attribute-info[data-v-9a03f232]{top:50px}");var ml={name:"WebGISSplitScreenList",components:{ScreenListItem:jc({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:!this.webgisReady,expression:"!webgisReady"}],staticClass:"webgis-screen-list-item webgis-box-shadow-base"},[e("ScreenHeader",{staticClass:"webgis-screen-list-item__header",attrs:{title:this.data.layer.name||"未选择图层"}}),e("Map",{attrs:{modules:this.webgisConfig.modules,options:this.currentOptions,"show-controls":!1,controls:[]},on:{init:this.initWebgis}}),e("Modals",{staticClass:"webgis-screen-list-item__attribute-info"})],1)},staticRenderFns:[]},void 0,yl,"data-v-9a03f232",!1,void 0,void 0,void 0)},props:{screenData:Array},data:function(){return{webgisList:{}}},computed:{splitScreenData:function(){var t=this.currentScreenPlan.spans;if(t){var e=this.screenActivedData;return e.forEach(function(e,i){e.span=t[i]}),tc()(e,e.length>=5?3:2)}return[]},screenActivedData:function(){return this.screenData.filter(function(t){return t.show})},currentScreenPlan:function(){return fl[this.screenActivedData.length]||{}}},methods:{webgisInit:function(t,e){var i=this;e&&(this.webgisList[t]=e,!this.screenActivedData.find(function(t){return!i.webgisList[t.id]})&&this.$emit("webgisReady",this.webgisList),e._bindMoveend||(e._bindMoveend=e.olMap.on("moveend",function(){e.interactions.zoom.syncMapsMove(Object.values(i.webgisList).filter(function(t){return t.id!==e.id}))})))},updateSize:function(){this.$nextTick(function(){var t=this;this.screenActivedData.forEach(function(e){var i=t.webgisList[e.id];i&&i.updateSize()})})}},watch:{screenActivedData:function(t){var e=this.webgisList;Object.keys(e).forEach(function(i){t.find(function(t){return t.id===+i})||delete e[i]}),this.updateSize()}}};hc(".webgis-screen-list[data-v-70fc9cce]{height:100%}.webgis-screen-list__row[data-v-70fc9cce]{padding-bottom:8px}.webgis-screen-list__col[data-v-70fc9cce]{height:100%}");var bl=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-screen-list"},t._l(t.splitScreenData,function(e,n){return i("el-row",{key:n,staticClass:"webgis-screen-list__row",style:{height:t.currentScreenPlan.height},attrs:{gutter:10}},t._l(e,function(e){return i("el-col",{key:e.id,staticClass:"webgis-screen-list__col",attrs:{span:e.span}},[i("ScreenListItem",{attrs:{data:e},on:{init:function(i){return t.webgisInit(e.id,i)}}})],1)}),1)}),1)},staticRenderFns:[]},void 0,ml,"data-v-70fc9cce",!1,void 0,void 0,void 0),xl={name:"WebGISSplitScreenSetting",mixins:[Kc],components:{CommonHeader:vl,ElSelectTree:Qh},props:{screenData:Array,layerTree:Array},data:function(){return{number:this.screenData.length,numberData:6}}};hc(".webgis-screen-setting[data-v-578cc52d]{font-size:13px}.webgis-screen-setting__body[data-v-578cc52d]{border:1px solid #dcdfe6;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:8px}.webgis-screen-setting__title[data-v-578cc52d]{margin-bottom:8px}.webgis-screen-setting__label[data-v-578cc52d]{display:inline-block;width:65px}.webgis-screen-setting__number[data-v-578cc52d]{margin-bottom:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.webgis-screen-setting__select[data-v-578cc52d]{-webkit-box-flex:1;-ms-flex:1;flex:1}.webgis-screen-setting__view[data-v-578cc52d]{margin-bottom:8px;display:-webkit-box;display:-ms-flexbox;display:flex}.webgis-screen-setting__view-list[data-v-578cc52d]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;width:129px}.webgis-screen-setting__view-list-item[data-v-578cc52d]{margin-bottom:8px;margin-right:8px}.webgis-screen-setting__view-list-item .el-button[data-v-578cc52d]{width:35px;height:35px;padding:0}.webgis-screen-setting__layer[data-v-578cc52d]{margin-bottom:24px}.webgis-screen-setting__layer-item[data-v-578cc52d]{margin-bottom:5px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.webgis-screen-setting__layer-label[data-v-578cc52d]{background-color:#9db8e9;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:65px;margin-right:5px;border-radius:4px}.webgis-screen-setting__footer[data-v-578cc52d]{text-align:center;margin-bottom:16px}");var Ol={name:"WebGISSplitScreen",components:{ScreenList:bl,ScreenSetting:jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-screen-setting webgis-box-shadow-base"},[i("CommonHeader",{attrs:{title:"分屏展示"}},[i("el-button",{staticClass:"webgis-screen-setting__close",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(e){return t.splitScreenToggle()}}})],1),i("div",{staticClass:"webgis-screen-setting__body"},[i("h3",{staticClass:"webgis-screen-setting__title"},[t._v("设置屏数")]),i("div",{staticClass:"webgis-screen-setting__number"},[i("span",{staticClass:"webgis-screen-setting__label"},[t._v("\n        屏数选择\n      ")]),i("el-select",{staticClass:"webgis-screen-setting__select",attrs:{value:t.number,size:"mini",placeholder:"请选择"},on:{change:function(e){return t.$emit("changeScreenLen",t.number)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}},t._l(t.numberData,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),i("div",{staticClass:"webgis-screen-setting__view"},[i("span",{staticClass:"webgis-screen-setting__label"},[t._v("\n        分屏视图\n      ")]),i("ul",{staticClass:"webgis-screen-setting__view-list webgis-list-unstyled"},t._l(t.screenData,function(e,n){return i("li",{key:n,staticClass:"webgis-screen-setting__view-list-item"},[i("el-button",{attrs:{size:"mini",type:e.show?"primary":""},on:{click:function(e){return t.$emit("changeScreenActive",n)}}},[t._v("\n            "+t._s(n+1)+"\n          ")])],1)}),0)]),i("h3",{staticClass:"webgis-screen-setting__title"},[t._v("选择图层")]),i("ul",{staticClass:"webgis-screen-setting__layer webgis-list-unstyled"},t._l(t.screenData,function(e,n){return i("li",{key:n,staticClass:"webgis-screen-setting__layer-item"},[i("span",{staticClass:"webgis-screen-setting__layer-label"},[t._v("\n          第"+t._s(n+1)+"屏\n        ")]),i("el-select-tree",{staticClass:"webgis-screen-setting__layer-select",attrs:{size:"mini",placeholder:"请选择",width:"177px",value:e.layer.id,data:t.layerTree,props:{value:"id",label:"name",children:"children"}},on:{change:function(e){return t.$emit("changeScreenLayer",n,e)}}})],1)}),0),i("div",{staticClass:"webgis-screen-setting__footer"},[i("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("分屏展示")]),i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.splitScreenToggle()}}},[t._v("取消")])],1)])],1)},staticRenderFns:[]},void 0,xl,"data-v-578cc52d",!1,void 0,void 0,void 0)},data:function(){return{screenData:[{id:0,show:!0,layer:{}}],layerData:[],layerTree:[]}},methods:{changeScreenLen:function(t){for(var e=this.screenData;t<e.length;)this.screenData.pop();for(;t>e.length;)e.push({id:e.length,show:!0,layer:{}})},changeScreenActive:function(t){this.screenData[t].show=!this.screenData[t].show},changeScreenLayer:function(t,e){this.screenData[t].layer=this.layerData.find(function(t){return t.id===e})},webgisReady:function(t){if(!this.layerData.length){var e=t[this.screenData[0].id];this.layerTree=e.treeNodes,this.layerData=e.treeLayers}this.$emit("init-split-screen",this.screenData.map(function(e){return Object(s.a)({},e,{webgis:t[e.id]})}))}},activated:function(){this.$refs.screenList.updateSize()}};hc(".webgis-split-screen[data-v-6affe5c6]{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%;padding:8px 8px 0;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.webgis-split-screen__content[data-v-6affe5c6]{-webkit-box-flex:1;-ms-flex:1;flex:1}.webgis-split-screen__setting[data-v-6affe5c6]{margin-left:8px;margin-bottom:8px;width:260px}");var wl=jc({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webgis-split-screen"},[e("ScreenList",{ref:"screenList",staticClass:"webgis-split-screen__content",attrs:{"screen-data":this.screenData},on:{webgisReady:this.webgisReady}}),e("ScreenSetting",{staticClass:"webgis-split-screen__setting",attrs:{"screen-data":this.screenData,"layer-tree":this.layerTree},on:{changeScreenLayer:this.changeScreenLayer,changeScreenLen:this.changeScreenLen,changeScreenActive:this.changeScreenActive}})],1)},staticRenderFns:[]},void 0,Ol,"data-v-6affe5c6",!1,void 0,void 0,void 0);var El=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("transition",{attrs:{name:"webgis-transition-fade",mode:"out-in"}},[i("keep-alive",[i(t.component,{tag:"component",on:{init:function(e){return t.$emit("init",e)},"init-split-screen":function(e){return t.$emit("init-split-screen",e)}},scopedSlots:t._u([t.$slots.aside?{key:"aside",fn:function(){return[t._t("aside")]},proxy:!0}:null],null,!0)})],1)],1):t._e()},staticRenderFns:[]},void 0,{name:"WebGISMain",mixins:[rc],components:{WebGIS:pl,SplitScreen:wl},data:function(){return{show:!0,splitScreenState:this.splitScreen}},computed:{component:function(){return this.splitScreenState?wl:pl}},methods:{splitScreenToggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.splitScreenState;this.splitScreenState=t,this.$emit("splitScreenToggle",t)}},watch:{splitScreen:function(t){this.splitScreenState=t},"options.serviceCode":function(){var t=this;this.show=!1,this.$nextTick(function(){return t.show=!0})}},created:function(){Vc.$on("splitScreenToggle",this.splitScreenToggle)},beforeDestroy:function(){Vc.$off("splitScreenToggle",this.splitScreenToggle)}},void 0,!1,void 0,void 0,void 0),Ml={components:{WebGISMap:Rc},props:{webgisGroup:{type:Object,default:function(){return{}}}},data:function(){return{showResult:!1,webgis:{item1:null,item2:null},webgisResult:null}},computed:{allWebgis:function(){var t=this.webgis;return[t.item1,t.item2,this.webgisResult].filter(function(t){return t})},webgisGroupPrivate:function(){var t,e=this.webgisGroup,i={};for(var n in e)e.hasOwnProperty(n)&&(t=e[n])&&(i[n]=t);return i}},methods:{doAnalysis:function(){var t=this,e=this.webgisGroup.item1,i=this.webgisGroup.item2;if(e.id&&i.id){var n={inputServiceCode:e.id,overlayServiceCode:i.id};return e.field&&e.fieldValue&&(n.inputFilter="".concat(e.field," = '").concat(e.fieldValue,"'")),i.field&&i.fieldValue&&(n.overlayFilter="".concat(i.field," = '").concat(i.fieldValue,"'")),this.webgisResult.modules.diffAnalysis.doAnalysis(n).then(function(e){return t.showResult=!0,t.updateSize(),e})}return Object(r.a)("对比分析：参数不全"),Promise.reject("对比分析：参数不全")},updateFeature:function(t,e){this.webgis[t].renderFeatureData(e)},initWebgis:function(t){this.webgisResult=t,this.$emit("webgisResultInit",t),this.bindMoveend(t),this.updateSize(),t.setLayerOpacity(this.webgisGroup.item1.id,0)},webgisGroupInit:function(t,e){this.webgis[t]=e,this.$emit("webgisGroupInit",t,e),this.bindMoveend(e),this.updateSize()},updateSize:function(){var t=this;this.$nextTick(function(){t.webgis.item1&&t.webgis.item1.interactions.zoom.resetView(),t.allWebgis.forEach(function(t){return t.olMap.updateSize()})})},bindMoveend:function(t){var e=this;t._bindMoveend||(t._bindMoveend=!0,t.olMap.on("moveend",function(){t.interactions.zoom.syncMapsMove(e.allWebgis.filter(function(e){return t.id!==e.id}))}))},syncWebgisList:function(){var t=this.webgis;this.webgisGroup.item1||(t.item1=null),this.webgisGroup.item2||(t.item2=null),2!==this.webgisGroup.length&&(this.showResult=!1)}},watch:{webgisGroup:function(){this.updateSize(),this.syncWebgisList()},"webgisGroup.item1":function(){this.webgis.item1.interactions.zoom.resetView()}}};hc(".webgis-diff-analysis[data-v-e09eb7ea]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.webgis-diff-analysis__block[data-v-e09eb7ea]{height:100%;-webkit-box-flex:1;-ms-flex:1;flex:1}.webgis-diff-analysis__block_left[data-v-e09eb7ea]{border-right:1px solid #dcdfe6}.webgis-diff-analysis__block_left .webgis-diff-analysis__item[data-v-e09eb7ea]{height:100%}.webgis-diff-analysis__block_right[data-v-e09eb7ea]{display:-webkit-box;display:-ms-flexbox;display:flex}.webgis-diff-analysis__block_right.flex-column[data-v-e09eb7ea]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.webgis-diff-analysis__block_right.flex-column>.webgis-diff-analysis__item[data-v-e09eb7ea]{height:50%}.webgis-diff-analysis__block_right.flex-column>.webgis-diff-analysis__item[data-v-e09eb7ea]:first-of-type{border-bottom:1px solid #dcdfe6}.webgis-diff-analysis__block_right.flex-column>.webgis-diff-analysis__item[data-v-e09eb7ea]:nth-child(2){border-left:0}.webgis-diff-analysis__block_right>.webgis-diff-analysis__item[data-v-e09eb7ea]{-webkit-box-flex:1;-ms-flex:1;flex:1}.webgis-diff-analysis__block_right>.webgis-diff-analysis__item[data-v-e09eb7ea]:nth-child(2){border-left:1px solid #dcdfe6}.webgis-diff-analysis__item[data-v-e09eb7ea]{position:relative}.webgis-diff-analysis__name[data-v-e09eb7ea]{font-size:13px;position:absolute;top:8px;right:8px;padding:6px 8px;background:#fff;z-index:1}");var Cl=jc({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"webgis-diff-analysis"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"webgis-diff-analysis__block webgis-diff-analysis__block_left"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"webgis-diff-analysis__item"},[i("h4",{staticClass:"webgis-diff-analysis__name webgis-box-shadow-base"},[t._v("\n        分析结果\n      ")]),i("WebGISMap",{attrs:{options:{showLayers:t.webgisGroupPrivate.item1.id},"show-controls":!1,modules:["DiffAnalysis"]},on:{init:t.initWebgis}})],1)]),i("div",{staticClass:"webgis-diff-analysis__block webgis-diff-analysis__block_right",class:{"flex-column":t.showResult}},t._l(t.webgisGroupPrivate,function(e,n){return i("div",{key:n,staticClass:"webgis-diff-analysis__item"},[i("h4",{staticClass:"webgis-diff-analysis__name webgis-box-shadow-base"},[t._v("\n        "+t._s(e.name)+"\n      ")]),i("WebGISMap",{attrs:{options:{showLayers:e.id},"show-controls":!1},on:{init:function(e){return t.webgisGroupInit(n,e)}}})],1)}),0)])},staticRenderFns:[]},void 0,Ml,"data-v-e09eb7ea",!1,void 0,void 0,void 0);Cl.install=function(t){t.component("WebGISDiffAnalysis",Cl)};hc('[class*=" webgis-"],[class^=webgis-]{-webkit-box-sizing:border-box;box-sizing:border-box}.fa-icon{width:auto;height:1em;max-width:100%;max-height:100%;vertical-align:middle}.webgis-transition-fade-enter-active,.webgis-transition-fade-leave-active{-webkit-transition:all .3s;transition:all .3s}.webgis-transition-fade-enter,.webgis-transition-fade-leave-to{opacity:0}.webgis-transition-slide-enter-active,.webgis-transition-slide-leave-active{-webkit-transition:all .3s;transition:all .3s}.webgis-transition-slide-enter,.webgis-transition-slide-leave-to{opacity:0;margin-left:-250px}.webgis-absolute-layer{position:absolute;z-index:1}.webgis-box-shadow-default{-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.webgis-box-shadow-base{-webkit-box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04)}.webgis-list-unstyled{list-style-type:none;padding-left:0}.webgis-scrollbar-default::-webkit-scrollbar-track-piece{background:#d3dce6}.webgis-scrollbar-default::-webkit-scrollbar{width:4px}.webgis-scrollbar-default::-webkit-scrollbar-thumb{background:#99a9bf}');new n.default;El.install=function(t){t.component("WebGIS",El),t.use(Cl)};e.a=El},PPrK:function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(i[n]=t[n]);return i};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce(function(t,i){return t[i]=e[i],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],n=0;n<e.length;++n)for(var o=e[n],s=o.obj[o.prop],a=Object.keys(s),h=0;h<a.length;++h){var c=a[h],l=s[c];"object"==typeof l&&null!==l&&-1===i.indexOf(l)&&(e.push({obj:s,prop:c}),i.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),i=e.obj[e.prop];if(r(i)){for(var n=[],o=0;o<i.length;++o)void 0!==i[o]&&n.push(i[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,i){var n=t.replace(/\+/g," ");if("iso-8859-1"===i)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,i){if(0===t.length)return t;var n=t;if("symbol"==typeof t?n=Symbol.prototype.toString.call(t):"string"!=typeof t&&(n=String(t)),"iso-8859-1"===i)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var r="",s=0;s<n.length;++s){var a=n.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=n.charAt(s):a<128?r+=o[a]:a<2048?r+=o[192|a>>6]+o[128|63&a]:a<55296||a>=57344?r+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(s)),r+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return r},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,i,o){if(!i)return e;if("object"!=typeof i){if(r(e))e.push(i);else{if(!e||"object"!=typeof e)return[e,i];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,i))&&(e[i]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(i);var a=e;return r(e)&&!r(i)&&(a=s(e,o)),r(e)&&r(i)?(i.forEach(function(i,r){if(n.call(e,r)){var s=e[r];s&&"object"==typeof s&&i&&"object"==typeof i?e[r]=t(s,i,o):e.push(i)}else e[r]=i}),e):Object.keys(i).reduce(function(e,r){var s=i[r];return n.call(e,r)?e[r]=t(e[r],s,o):e[r]=s,e},a)}}},Puzn:function(t,e,i){"use strict";i.d(e,"a",function(){return O}),i.d(e,"b",function(){return b}),i.d(e,"c",function(){return x});var n=i("EuXz"),r=(i.n(n),i("gbyG")),o=(i.n(r),i("Gh7F")),s=(i.n(o),i("fx22")),a=(i.n(s),i("tJwI")),h=(i.n(a),i("bQXb")),c=i("XTu8"),l=i.n(c),u=i("5zde"),d=i.n(u),p=i("Xd32"),f=i.n(p),g=i("L5RK"),v=i("mJx5"),_=(i.n(v),l.a);var y=d.a,m=f.a;function b(t){return function(t){if(_(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(m(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return y(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(t){return t=Array.isArray(t)?b(t):"string"==typeof t&&t.includes(",")?t.split(",").map(function(t){return t.trim()}):t||0===t?[t]:[]}var O=function(){function t(e){var i=this;Object(g.b)(this,t),Object(g.c)(this,"listenerGroup",{}),x(e).forEach(function(t){return i.listenerGroup[t]=[]})}return Object(g.a)(t,[{key:"dispatch",value:function(t){for(var e=this,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];x(t).forEach(function(t){return e.listenerGroup[t].forEach(function(t){return t.apply(void 0,n)})})}},{key:"on",value:function(e,i){this.listenerGroup.hasOwnProperty(e)?this.listenerGroup[e].push(i):t.eventNameError(e)}},{key:"off",value:function(e,i){var n=this;x(e).forEach(function(e){if(n.listenerGroup.hasOwnProperty(e)){var r=n.listenerGroup[e],o=r.indexOf(i);o>=0&&r.splice(o,1)}else t.eventNameError(e)})}},{key:"offAll",value:function(){var t=this;Object.keys(this.listenerGroup).forEach(function(e){t.listenerGroup[e]=[]})}}],[{key:"eventNameError",value:function(t){Object(h.b)("不存在 ".concat(t," 事件，事件是否已经注册，事件名是否正确？"))}}]),t}()},RUSk:function(t,e,i){"use strict";e.c=function(t,e,i,n,r,o){for(var s=o||[],a=0,h=e;h<i;h+=n){var c=t[h],l=t[h+1];s[a++]=r[0]*c+r[2]*l+r[4],s[a++]=r[1]*c+r[3]*l+r[5]}o&&s.length!=a&&(s.length=a);return s},e.a=function(t,e,i,n,r,o,s){for(var a=s||[],h=Math.cos(r),c=Math.sin(r),l=o[0],u=o[1],d=0,p=e;p<i;p+=n){var f=t[p]-l,g=t[p+1]-u;a[d++]=l+f*h-g*c,a[d++]=u+f*c+g*h;for(var v=p+2;v<p+n;++v)a[d++]=t[v]}s&&a.length!=d&&(a.length=d);return a},e.b=function(t,e,i,n,r,o,s,a){for(var h=a||[],c=s[0],l=s[1],u=0,d=e;d<i;d+=n){var p=t[d]-c,f=t[d+1]-l;h[u++]=c+r*p,h[u++]=l+o*f;for(var g=d+2;g<d+n;++g)h[u++]=t[g]}a&&h.length!=u&&(h.length=u);return h},e.d=function(t,e,i,n,r,o,s){for(var a=s||[],h=0,c=e;c<i;c+=n){a[h++]=t[c]+r,a[h++]=t[c+1]+o;for(var l=c+2;l<c+n;++l)a[h++]=t[l]}s&&a.length!=h&&(a.length=h);return a}},"S+g9":function(t,e,i){"use strict";var n=i("/LWt"),r=i("o1z/"),o=i("yGLh"),s=function(t,e,i,r,s){this.sourceProj_=t,this.targetProj_=e;var a={},h=Object(o.j)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=h(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(n.E)(r)==Object(n.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(n.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(n.E)(this.targetProj_.getExtent()):null;var c=Object(n.C)(i),l=Object(n.D)(i),u=Object(n.w)(i),d=Object(n.v)(i),p=this.transformInv_(c),f=this.transformInv_(l),g=this.transformInv_(u),v=this.transformInv_(d);if(this.addQuad_(c,l,u,d,p,f,g,v,10),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach(function(t,e,i){_=Math.min(_,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-_>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-_>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-_>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-_>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}};s.prototype.addTriangle_=function(t,e,i,n,r,o){this.triangles_.push({source:[n,r,o],target:[t,e,i]})},s.prototype.addQuad_=function(t,e,i,o,s,a,h,c,l){var u=Object(n.b)([s,a,h,c]),d=this.sourceWorldWidth_?Object(n.E)(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1,g=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=Object(n.b)([t,e,i,o]);g=Object(n.E)(v)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)}if(g||!this.maxSourceExtent_||Object(n.F)(u,this.maxSourceExtent_)){if(!(g||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(c[0])&&isFinite(c[1]))){if(!(l>0))return;g=!0}if(l>0){if(!g){var _,y=[(t[0]+i[0])/2,(t[1]+i[1])/2],m=this.transformInv_(y);if(f)_=(Object(r.d)(s[0],p)+Object(r.d)(h[0],p))/2-Object(r.d)(m[0],p);else _=(s[0]+h[0])/2-m[0];var b=(s[1]+h[1])/2-m[1];g=_*_+b*b>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var x=[(e[0]+i[0])/2,(e[1]+i[1])/2],O=this.transformInv_(x),w=[(o[0]+t[0])/2,(o[1]+t[1])/2],E=this.transformInv_(w);this.addQuad_(t,e,x,w,s,a,O,E,l-1),this.addQuad_(w,x,i,o,E,O,h,c,l-1)}else{var M=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(M),S=[(i[0]+o[0])/2,(i[1]+o[1])/2],T=this.transformInv_(S);this.addQuad_(t,M,S,o,s,C,T,c,l-1),this.addQuad_(M,e,i,S,C,a,h,T,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,o,s,h,c),this.addTriangle_(t,e,i,s,a,h)}},s.prototype.calculateSourceExtent=function(){var t=Object(n.j)();return this.triangles_.forEach(function(e,i,r){var o=e.source;Object(n.r)(t,o[0]),Object(n.r)(t,o[1]),Object(n.r)(t,o[2])}),t},s.prototype.getTriangles=function(){return this.triangles_},e.a=s},"S/sH":function(t,e,i){"use strict";var n=i("+BXv"),r=i("6OHv"),o=i("4sgK"),s=i("bEBU");function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},r.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,i){return this.request(r.merge(i||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,i,n){return this.request(r.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=a},S6xM:function(t,e){},Sj2l:function(t,e,i){var n=i("1gDE").Symbol;t.exports=n},SpdK:function(t,e,i){var n;n=function(){"use strict";function t(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(i,n,r,o,s){!function e(i,n,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,h=n-r+1,c=Math.log(a),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(a-l)/a)*(h-a/2<0?-1:1),d=Math.max(r,Math.floor(n-h*l/a+u)),p=Math.min(o,Math.floor(n+(a-h)*l/a+u));e(i,n,d,p,s)}var f=i[n],g=r,v=o;for(t(i,r,n),s(i[o],f)>0&&t(i,r,o);g<v;){for(t(i,g,v),g++,v--;s(i[g],f)<0;)g++;for(;s(i[v],f)>0;)v--}0===s(i[r],f)?t(i,r,v):t(i,++v,o),v<=n&&(r=v+1),n<=v&&(o=v-1)}}(i,n,r||0,o||i.length-1,s||e)}},t.exports=n()},T18w:function(t,e,i){"use strict";var n=i("/LWt"),r=i("Fu+J"),o=i("VgFP"),s=i("hrLW"),a=i("o1z/"),h=function(t){function e(e,i){t.call(this),this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,o=Object(a.f)(t,e,r[0],r[1]);if(o<n){for(var s=this.stride,h=0;h<s;++h)i[h]=r[h];return i.length=s,o}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(n.m)(this.flatCoordinates,t)},e.prototype.getType=function(){return r.a.POINT},e.prototype.intersectsExtent=function(t){return Object(n.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=h},UBVO:function(t,e){},UGkX:function(t,e){var i=9007199254740991,n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?i:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},UOE7:function(t,e,i){var n=i("1tmp"),r=i("3ZU4"),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=r(t))&&t.replace(o,n).replace(s,"")}},V2dr:function(t,e,i){"use strict";e.b=function(){return!0},e.a=function(){return!1},e.c=function(){}},"V6S/":function(t,e,i){var n=i("Sj2l"),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),i=t[a];try{t[a]=void 0;var n=!0}catch(t){}var r=s.call(t);return n&&(e?t[a]=i:delete t[a]),r}},VgFP:function(t,e,i){"use strict";var n=i("3ciB"),r=i("/LWt"),o=i("XOen"),s=i("RUSk"),a=i("yGLh"),h=i("vv/+"),c=i("azsZ"),l=Object(c.c)(),u=function(t){function e(){t.call(this),this.extent_=Object(r.j)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(n.b)()},e.prototype.closestPointXY=function(t,e,i,r){return Object(n.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(n.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(r.I)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(n.b)()},e.prototype.scale=function(t,e,i){Object(n.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(n.b)()},e.prototype.getType=function(){return Object(n.b)()},e.prototype.applyTransform=function(t){Object(n.b)()},e.prototype.intersectsExtent=function(t){return Object(n.b)()},e.prototype.translate=function(t,e){Object(n.b)()},e.prototype.transform=function(t,e){var i=Object(a.h)(t),n=i.getUnits()==h.b.TILE_PIXELS?function(t,n,o){var h=i.getExtent(),u=i.getWorldExtent(),d=Object(r.A)(u)/Object(r.A)(h);return Object(c.b)(l,u[0],u[3],d,-d,0,0,0),Object(s.c)(t,0,t.length,o,l,n),Object(a.j)(i,e)(t,n,o)}:Object(a.j)(i,e);return this.applyTransform(n),this},e}(o.a),d=i("5MGX"),p=i("tFCN");e.b=function(t,e,i){var n=t.getFlatCoordinates();if(n){var r=t.getStride();return Object(s.c)(n,0,n.length,r,e,i)}return null};var f=function(t){function e(){t.call(this),this.layout=d.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(r.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(n.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(p.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=g(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(n.b)()},e.prototype.setLayout=function(t,e,i){var n;if(t)n=g(t);else{for(var r=0;r<i;++r){if(0===e.length)return this.layout=d.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=d.a.XY:3==t?e=d.a.XYZ:4==t&&(e=d.a.XYZM);return e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();Object(s.a)(i,0,i.length,n,t,e,i),this.changed()}},e.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;o||(o=Object(r.x)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var h=this.getStride();Object(s.b)(a,0,a.length,h,t,n,o,a),this.changed()}},e.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();Object(s.d)(i,0,i.length,n,t,e,i),this.changed()}},e}(u);function g(t){var e;return t==d.a.XY?e=2:t==d.a.XYZ||t==d.a.XYM?e=3:t==d.a.XYZM&&(e=4),e}e.a=f},Vni7:function(t,e,i){"use strict";var n=i("57Gy");e.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},Vpnp:function(t,e,i){"use strict";i.d(e,"a",function(){return h}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return s});var n=i("EuXz"),r=(i.n(n),i("L5RK"));var o=function(){function t(e){Object(r.b)(this,t),Object(r.c)(this,"name",""),this.name=e}return Object(r.a)(t,[{key:"getToken",value:function(){var t=
/*!
 * vue-webgis v0.7.3
 */
function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):e}(this.name);return t&&t.expires>Date.now()?t.token:null}},{key:"setToken",value:function(t){var e,i;e=this.name,i=t,localStorage.setItem(e,JSON.stringify(i))}}]),t}(),s=new o("GIS_SERVER_TOKEN"),a=new o("ANALYSIS_TOKEN"),h={host:location.host,arcgis:"http://wh.greatmap.com.cn:16442",arcgisQuery:"http://wh.greatmap.com.cn:16443",arcgisOrigin:"https://gis120.arcgisonline.cn",superDataPath:"bigDataFileShares_XZSJ",arcgisService:"",arcgisRestService:"",arcgisToken:"",arcgisServiceList:"",arcgisUsername:"admin",arcgisPassword:"arcgis123"};!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(h,t),Object.assign(h,{arcgisService:h.arcgisQuery+"/arcgis/services/",arcgisRestService:h.arcgisQuery+"/arcgis/rest/services/",arcgisToken:h.arcgis+"/portal/sharing/rest/generateToken",arcgisServiceList:h.arcgis+"/portal/sharing/rest/search"},t)}()},Vvqj:function(t,e,i){var n=i("3Y8s"),r=i("UOE7"),o=i("gZNo"),s=RegExp("['’]","g");t.exports=function(t){return function(e){return n(o(r(e).replace(s,"")),t,"")}}},Wrfv:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=42,r=256},XDHy:function(t,e,i){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},XOen:function(t,e,i){"use strict";e.b=u;var n=i("3ciB"),r=i("XDHy"),o=i("nxYM"),s=i("LKHy"),a=i("tFCN"),h=function(t){function e(e,i,n){t.call(this,e),this.key=i,this.oldValue=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),c=function(t){function e(e){t.call(this),Object(n.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a.a)({},this.values_)},e.prototype.notify=function(t,e){var i;i=u(t),this.dispatchEvent(new h(i,t,e)),i=r.a.PROPERTYCHANGE,this.dispatchEvent(new h(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(o.a),l={};function u(t){return l.hasOwnProperty(t)?l[t]:l[t]="change:"+t}e.a=c},XTu8:function(t,e,i){i("x3mb"),t.exports=i("FeBl").Array.isArray},Xb1Y:function(t,e,i){var n=i("N6iB"),r=i("pame"),o=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=h.test(t);return i||c.test(t)?l(t.slice(2),i?2:8):a.test(t)?o:+t}},Xd32:function(t,e,i){i("+tPU"),i("zQR9"),t.exports=i("5PlU")},Y6UM:function(t,e,i){"use strict";var n=i("3ciB"),r=i("bhTf"),o=i("57Gy"),s=function(t){function e(e,i,n,r){t.call(this),this.extent=e,this.pixelRatio_=n,this.resolution=i,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(n.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(n.b)()},e}(r.a);e.a=s},YB1w:function(t,e,i){var n=i("r/II"),r=i("xfjr");t.exports=function(t){return null!=t&&r(t.length)&&!n(t)}},ZXW8:function(t,e,i){"use strict";e.a=function(t,e,i,o,s){return!Object(n.t)(s,function(n){return!r(t,e,i,o,n[0],n[1])})},e.b=r,e.c=o,e.d=function(t,e,i,n,r,s){if(0===i.length)return!1;for(var a=0,h=i.length;a<h;++a){var c=i[a];if(o(t,e,c,n,r,s))return!0;e=c[c.length-1]}return!1};var n=i("/LWt");function r(t,e,i,n,r,o){for(var s=0,a=t[i-n],h=t[i-n+1];e<i;e+=n){var c=t[e],l=t[e+1];h<=o?l>o&&(c-a)*(o-h)-(r-a)*(l-h)>0&&s++:l<=o&&(c-a)*(o-h)-(r-a)*(l-h)<0&&s--,a=c,h=l}return 0!==s}function o(t,e,i,n,o,s){if(0===i.length)return!1;if(!r(t,e,i[0],n,o,s))return!1;for(var a=1,h=i.length;a<h;++a)if(r(t,i[a-1],i[a],n,o,s))return!1;return!0}},ZYQ1:function(t,e,i){"use strict";e.c=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=[e,i,e,r,n,r,n,i,e,i];return new b(s,o.a.XY,[s.length])},e.b=function(t,e,i){for(var n=e||32,r=t.getStride(),o=t.getLayout(),s=t.getCenter(),a=r*(n+1),h=new Array(a),c=0;c<a;c+=r){h[c]=0,h[c+1]=0;for(var l=2;l<r;l++)h[c+l]=s[l]}var u=[h.length],d=new b(h,o,u);return x(d,s,t.getRadius(),i),d},e.d=x;var n=i("zF6X"),r=i("/LWt"),o=i("5MGX"),s=i("Fu+J"),a=i("flWm"),h=i("T18w"),c=i("VgFP"),l=(i("1avf"),i("+b92")),u=i("bmSR"),d=i("ZXW8"),p=i("hrLW"),f=i("wupX"),g=i("vhPq"),v=i("pWpL"),_=i("piqq"),y=i("LmAy"),m=i("o1z/"),b=function(t){function e(e,i,n){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==i&&n?(this.setFlatCoordinates(i,e),this.ends_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(n.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(r.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Object(d.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(_.d)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(f.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(r.x)(this.getExtent());this.flatInteriorPoint_=Object(g.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new h.a(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new a.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0,o=0,s=i.length;o<s;++o){var h=i[o],c=new a.a(e.slice(r,h),t);n.push(c),r=h}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(_.b)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(_.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(y.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,o.a.XY,n)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(p.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(c.a);function x(t,e,i,n){for(var r=t.getFlatCoordinates(),o=t.getStride(),s=r.length/o-1,a=n||0,h=0;h<=s;++h){var c=h*o,l=a+2*Object(m.d)(h,s)*Math.PI/s;r[c]=e[0]+i*Math.cos(l),r[c+1]=e[1]+i*Math.sin(l)}t.changed()}e.a=b},ZaQb:function(t,e,i){var n=i("EqjI"),r=i("77Pl"),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i("+ZMJ")(Function.call,i("LKZe").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},"ZwU/":function(t,e){var i="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",h="(?:"+n+"|"+r+")"+"?",c="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+[o,s,a].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),l="(?:"+[o+n+"?",n,s,a,i].join("|")+")",u=RegExp(r+"(?="+r+")|"+l+c,"g");t.exports=function(t){return t.match(u)||[]}},Zz8d:function(t,e,i){"use strict";var n=i("6OHv"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),i=n.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([i]):s[e]?s[e]+", "+i:i}}),s):s}},aPmR:function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},azsZ:function(t,e,i){"use strict";e.c=function(){return[1,0,0,1,0,0]},e.e=function(t){return s(t,1,0,0,1,0,0)},e.g=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.a=function(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e},e.f=function(t,e,i){return o(t,s(r,e,0,0,i,0,0))},e.h=function(t,e,i){return o(t,s(r,1,0,0,1,e,i))},e.b=function(t,e,i,n,r,o,s,a){var h=Math.sin(o),c=Math.cos(o);return t[0]=n*c,t[1]=r*h,t[2]=-n*h,t[3]=r*c,t[4]=s*n*c-a*n*h+e,t[5]=s*r*h+a*r*c+i,t},e.d=function(t){var e=(i=t,i[0]*i[3]-i[1]*i[2]);var i;Object(n.a)(0!==e,32);var r=t[0],o=t[1],s=t[2],a=t[3],h=t[4],c=t[5];return t[0]=a/e,t[1]=-o/e,t[2]=-s/e,t[3]=r/e,t[4]=(s*c-a*h)/e,t[5]=-(r*c-o*h)/e,t};var n=i("OEyb"),r=new Array(6);function o(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],h=e[0],c=e[1],l=e[2],u=e[3],d=e[4],p=e[5];return t[0]=i*h+r*c,t[1]=n*h+o*c,t[2]=i*l+r*u,t[3]=n*l+o*u,t[4]=i*d+r*p+s,t[5]=n*d+o*p+a,t}function s(t,e,i,n,r,o,s){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=s,t}},bEBU:function(t,e,i){"use strict";var n=i("6OHv"),r=i("t0/5"),o=i("Hiub"),s=i("+BXv"),a=i("cT91"),h=i("qVK5");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!a(t.url)&&(t.url=h(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return c(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},bOdI:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("C4MV"),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e,i){return e in t?(0,o.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bQXb:function(t,e,i){"use strict";i.d(e,"a",function(){return p}),i.d(e,"b",function(){return f});var n=i("7+uW"),r=i("gbyG"),o=(i.n(r),i("Gh7F")),s=(i.n(o),i("WpTh")),a=(i.n(s),i("fx22")),h=(i.n(a),i("tJwI")),c=(i.n(h),{"Failed to execute query":"执行查询失败","Network Error":"网络连接失败","timeout of":"网络连接超时"}),l=Object.keys(c);var u={info:console.info,error:console.error,warning:console.warn,success:console.log};function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n.default.prototype.$message;u[e]&&u[e]("[".concat(e,"]:"),t),i&&r({message:t=function(t){t&&(t.error&&(t=t.error),t.message&&(t=t.message));t=t instanceof Object&&!(t instanceof Error)?JSON.stringify(t):String(t);return t=(e=t,i=l.find(function(t){return e.includes(t)}),t=(i?c[i]:"")||t).length>80?t.slice(0,80)+"...":t;var e,i}(t),type:e,duration:6e3,showClose:!0})}function p(t,e){d(t,"error",e)}function f(t,e){d(t,"warning",e)}},bhTf:function(t,e,i){"use strict";var n=i("IU0A"),r=i("6t+W"),o=i("V2dr"),s=i("LKHy"),a=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var i=this.listeners_[t];i||(i=this.listeners_[t]=[]),-1===i.indexOf(e)&&i.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,i=e.type;e.target=this;var n,r=this.listeners_[i];if(r){i in this.dispatching_||(this.dispatching_[i]=0,this.pendingRemovals_[i]=0),++this.dispatching_[i];for(var a=0,h=r.length;a<h;++a)if(!1===r[a].call(this,e)||e.propagationStopped){n=!1;break}if(--this.dispatching_[i],0===this.dispatching_[i]){var c=this.pendingRemovals_[i];for(delete this.pendingRemovals_[i];c--;)this.removeEventListener(i,o.c);delete this.dispatching_[i]}return n}},e.prototype.disposeInternal=function(){Object(r.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var n=i.indexOf(e);t in this.pendingRemovals_?(i[n]=o.c,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t])}},e}(n.a);e.a=a},bmSR:function(t,e,i){"use strict";e.e=o,e.a=s,e.f=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var h=i[o];r=s(t,e,h,n,r),e=h[h.length-1]}return r},e.d=a,e.b=h,e.c=function(t,e,i,n,r,o,s,a,c,l,u){for(var d=u||[NaN,NaN],p=0,f=i.length;p<f;++p){var g=i[p];l=h(t,e,g,n,r,o,s,a,c,l,d),e=g[g.length-1]}return l};var n=i("o1z/");function r(t,e,i,r,o,s,a){var h,c=t[e],l=t[e+1],u=t[i]-c,d=t[i+1]-l;if(0===u&&0===d)h=e;else{var p=((o-c)*u+(s-l)*d)/(u*u+d*d);if(p>1)h=i;else{if(p>0){for(var f=0;f<r;++f)a[f]=Object(n.c)(t[e+f],t[i+f],p);return void(a.length=r)}h=e}}for(var g=0;g<r;++g)a[g]=t[h+g];a.length=r}function o(t,e,i,r,o){var s=t[e],a=t[e+1];for(e+=r;e<i;e+=r){var h=t[e],c=t[e+1],l=Object(n.f)(s,a,h,c);l>o&&(o=l),s=h,a=c}return o}function s(t,e,i,n,r){for(var s=0,a=i.length;s<a;++s){var h=i[s];r=o(t,e,h,n,r),e=h}return r}function a(t,e,i,o,s,a,h,c,l,u,d){if(e==i)return u;var p,f;if(0===s){if((f=Object(n.f)(h,c,t[e],t[e+1]))<u){for(p=0;p<o;++p)l[p]=t[e+p];return l.length=o,f}return u}for(var g=d||[NaN,NaN],v=e+o;v<i;)if(r(t,v-o,v,o,h,c,g),(f=Object(n.f)(h,c,g[0],g[1]))<u){for(u=f,p=0;p<o;++p)l[p]=g[p];l.length=o,v+=o}else v+=o*Math.max((Math.sqrt(f)-Math.sqrt(u))/s|0,1);if(a&&(r(t,i-o,e,o,h,c,g),(f=Object(n.f)(h,c,g[0],g[1]))<u)){for(u=f,p=0;p<o;++p)l[p]=g[p];l.length=o}return u}function h(t,e,i,n,r,o,s,h,c,l,u){for(var d=u||[NaN,NaN],p=0,f=i.length;p<f;++p){var g=i[p];l=a(t,e,g,n,r,o,s,h,c,l,d),e=g}return l}},"c/Tr":function(t,e,i){t.exports={default:i("5zde"),__esModule:!0}},cT91:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},cV5x:function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i("fx22"),r=(i.n(n),i("L5RK")),o=i("yQMH"),s=i("9Yib"),a=(i.n(s),i("A0n/")),h=(i.n(a),i("Rw4K")),c=(i.n(h),i("K9ON")),l=i.n(c).a;function u(t,e,i){return(u=function(){if("undefined"==typeof Reflect||!l)return!1;if(l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(l(Date,[],function(){})),!0}catch(t){return!1}}()?l:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&Object(o.f)(r,i.prototype),r}).apply(null,arguments)}function d(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=function t(){Object(r.b)(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];for(var s=0,a=e;s<a.length;s++){p(this,u(a[s],n))}},o=0,s=e;o<s.length;o++){var a=s[o];p(n,a),p(n.prototype,a.prototype)}return n}function p(t,e){var i=!0,n=!1,r=void 0;try{for(var o,s=Reflect.ownKeys(e)[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;if("constructor"!==a&&"prototype"!==a&&"name"!==a){var h=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,h)}}}catch(t){n=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},clnH:function(t,e,i){"use strict";var n=i("Wrfv"),r=i("OEyb"),o=i("o1CS"),s=i("zF6X"),a=i("/LWt"),h=i("o1z/"),c=i("xifc"),l=i("fGqn"),u=[0,0,0],d=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(r.a)(Object(s.e)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var i=0,h=this.resolutions_.length-1;i<h;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(r.a)(this.origins_.length==this.resolutions_.length,20));var c=t.extent;void 0===c||this.origin_||this.origins_||(this.origin_=Object(a.C)(c)),Object(r.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(r.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.b,Object(r.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==c?c:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new o.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):c&&this.calculateTileRanges_(c)};d.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),r=n.minX,o=n.maxX;r<=o;++r)for(var s=n.minY,a=n.maxY;s<=a;++s)i([e,r,s])},d.prototype.forEachTileCoordParentTileRange=function(t,e,i,n,r){var s,a,h,c=null,l=t[0]-1;for(2===this.zoomFactor_?(a=t[1],h=t[2]):c=this.getTileCoordExtent(t,r);l>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),h=Math.floor(h/2),s=Object(o.a)(a,a,h,h,n)):s=this.getTileRangeForExtentAndZ(c,l,n),e.call(i,l,s))return!0;--l}return!1},d.prototype.getExtent=function(){return this.extent_},d.prototype.getMaxZoom=function(){return this.maxZoom},d.prototype.getMinZoom=function(){return this.minZoom},d.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},d.prototype.getResolution=function(t){return this.resolutions_[t]},d.prototype.getResolutions=function(){return this.resolutions_},d.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],r=2*t[2];return Object(o.a)(n,n+1,r,r+1,e)}var s=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},d.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),r=this.getResolution(t),o=Object(c.d)(this.getTileSize(t),this.tmpSize_),s=n[0]+e.minX*o[0]*r,h=n[0]+(e.maxX+1)*o[0]*r,l=n[1]+e.minY*o[1]*r,u=n[1]+(e.maxY+1)*o[1]*r;return Object(a.k)(s,l,h,u,i)},d.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=u;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n);var r=n[1],s=n[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,n),Object(o.a)(r,n[1],s,n[2],i)},d.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=Object(c.d)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]+(t[2]+.5)*n[1]*i]},d.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Object(c.d)(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*r[0]*n,s=i[1]+t[2]*r[1]*n,h=o+r[0]*n,l=s+r[1]*n;return Object(a.k)(o,s,h,l,e)},d.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},d.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,r){var o=this.getZForResolution(i),s=i/this.getResolution(o),a=this.getOrigin(o),h=Object(c.d)(this.getTileSize(o),this.tmpSize_),u=n?.5:0,d=n?0:.5,p=Math.floor((t-a[0])/i+u),f=Math.floor((e-a[1])/i+d),g=s*p/h[0],v=s*f/h[1];return n?(g=Math.ceil(g)-1,v=Math.ceil(v)-1):(g=Math.floor(g),v=Math.floor(v)),Object(l.a)(o,g,v,r)},d.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,r){var o=this.getOrigin(i),s=this.getResolution(i),a=Object(c.d)(this.getTileSize(i),this.tmpSize_),h=n?.5:0,u=n?0:.5,d=Math.floor((t-o[0])/s+h),p=Math.floor((e-o[1])/s+u),f=d/a[0],g=p/a[1];return n?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),Object(l.a)(i,f,g,r)},d.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},d.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},d.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},d.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},d.prototype.getZForResolution=function(t,e){var i=Object(s.f)(this.resolutions_,t,e||0);return Object(h.a)(i,this.minZoom,this.maxZoom)},d.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},e.a=d},cnlX:function(t,e,i){i("iInB");var n=i("FeBl").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},czjk:function(t,e,i){"use strict";var n=i("v5fe"),r=function(t){function e(e){var i=e||{};t.call(this,i),this.type=n.a.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i("+iwx").a);r.prototype.getSource,e.a=r},"do1/":function(t,e,i){"use strict";e.a=function(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]};var n=i("Vni7"),r=i("O8Za"),o=i("tFCN"),s=function(t){function e(e){var i=e||{};t.call(this,i),i.handleDownEvent&&(this.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(this.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(this.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(this.handleUpEvent=i.handleUpEvent),i.stopDown&&(this.stopDown=i.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==n.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==n.a.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==n.a.POINTERDOWN){var r=this.handleDownEvent(t);r&&t.preventDefault(),this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==n.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===n.a.POINTERDOWN||e===n.a.POINTERDRAG||e===n.a.POINTERUP}(t)){var e=t.pointerEvent,i=e.pointerId.toString();t.type==n.a.POINTERUP?delete this.trackedPointers_[i]:t.type==n.a.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=Object(o.c)(this.trackedPointers_)}},e}(r.a);e.b=s},emf4:function(t,e,i){"use strict";t.exports=r,t.exports.default=r;var n=i("SpdK");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<i;s++)o=t.children[s],h(r,t.leaf?n(o):o);return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,i,r,o){for(var s,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((i-e)/r/2)*r,n(t,s,e,i,o),a.push(e,s,s,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!f(t,e))return i;for(var r,o,s,a,h=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],f(t,a=e.leaf?n(s):s)&&(e.leaf?i.push(s):p(t,a)?this._all(s,i):h.push(s));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!f(t,e))return!1;for(var n,r,o,s,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(o=e.children[n],f(t,s=e.leaf?i(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,s,a=this.data,h=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],i=l.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),c.push(a),this._condense(c),this;s||a.leaf||!p(a,h)?n?(i++,a=n.children[i],s=!1):a=null:(c.push(a),l.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,a=this._maxEntries;if(o<=a)return s(r=g(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(r=g([])).leaf=!1,r.height=n;var h,c,l,u,d=Math.ceil(o/a),p=d*Math.ceil(Math.sqrt(a));for(v(t,e,i,p,this.compareMinX),h=e;h<=i;h+=p)for(v(t,h,l=Math.min(h+p-1,i),d,this.compareMinY),c=h;c<=l;c+=d)u=Math.min(c+d-1,l),r.children.push(this._build(t,c,u,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,o,s,a,h,c,l,d,p,f;n.push(e),!e.leaf&&n.length-1!==i;){for(l=d=1/0,r=0,o=e.children.length;r<o;r++)h=u(s=e.children[r]),p=t,f=s,(c=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-h)<d?(d=c,l=h<l?h:l,a=s):c===d&&h<l&&(l=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),h(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),a=g(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,s(i,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,s,h,c,l,d,p,f,g,v,_,y;for(c=l=1/0,n=e;n<=i-e;n++)r=a(t,0,n,this.toBBox),o=a(t,n,i,this.toBBox),p=r,f=o,void 0,void 0,void 0,void 0,g=Math.max(p.minX,f.minX),v=Math.max(p.minY,f.minY),_=Math.min(p.maxX,f.maxX),y=Math.min(p.maxY,f.maxY),s=Math.max(0,_-g)*Math.max(0,y-v),h=u(r)+u(o),s<c?(c=s,d=n,l=h<l?h:l):s===c&&h<l&&(l=h,d=n);return d},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:c,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,s=this.toBBox,c=a(t,0,e,s),l=a(t,i-e,i,s),u=d(c)+d(l);for(r=e;r<i-e;r++)o=t.children[r],h(c,t.leaf?s(o):o),u+=d(c);for(r=i-e-1;r>=e;r--)o=t.children[r],h(l,t.leaf?s(o):o),u+=d(l);return u},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)h(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():s(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},exh5:function(t,e,i){var n=i("kM2E");n(n.S,"Object",{setPrototypeOf:i("ZaQb").set})},eyRc:function(t,e){var i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(i)||[]}},fBQ2:function(t,e,i){"use strict";var n=i("evD5"),r=i("X8DO");t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},fG7N:function(t,e,i){"use strict";var n=i("PPrK"),r=i("h6dH"),o=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,h=Array.prototype.push,c=function(t,e){h.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,u=r.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,i,r,o,s,h,l,u,p,f,g,v,_){var y,m=e;if("function"==typeof l?m=l(i,m):m instanceof Date?m=f(m):"comma"===r&&a(m)&&(m=m.join(",")),null===m){if(o)return h&&!v?h(i,d.encoder,_,"key"):i;m=""}if("string"==typeof(y=m)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||n.isBuffer(m))return h?[g(v?i:h(i,d.encoder,_,"key"))+"="+g(h(m,d.encoder,_,"value"))]:[g(i)+"="+g(String(m))];var b,x=[];if(void 0===m)return x;if(a(l))b=l;else{var O=Object.keys(m);b=u?O.sort(u):O}for(var w=0;w<b.length;++w){var E=b[w];s&&null===m[E]||(a(m)?c(x,t(m[E],"function"==typeof r?r(i,E):i,r,o,s,h,l,u,p,f,g,v,_)):c(x,t(m[E],i+(p?"."+E:"["+E+"]"),r,o,s,h,l,u,p,f,g,v,_)))}return x};t.exports=function(t,e){var i,n=t,h=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=r.default;if(void 0!==t.format){if(!o.call(r.formatters,t.format))throw new TypeError("Unknown format option provided.");i=t.format}var n=r.formatters[i],s=d.filter;return("function"==typeof t.filter||a(t.filter))&&(s=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:s,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof h.filter?n=(0,h.filter)("",n):a(h.filter)&&(i=h.filter);var l,u=[];if("object"!=typeof n||null===n)return"";l=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=s[l];i||(i=Object.keys(n)),h.sort&&i.sort(h.sort);for(var g=0;g<i.length;++g){var v=i[g];h.skipNulls&&null===n[v]||c(u,p(n[v],v,f,h.strictNullHandling,h.skipNulls,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.formatter,h.encodeValuesOnly,h.charset))}var _=u.join(h.delimiter),y=!0===h.addQueryPrefix?"?":"";return h.charsetSentinel&&("iso-8859-1"===h.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),_.length>0?y+_:""}},fGqn:function(t,e,i){"use strict";function n(t,e,i){return t+"/"+e+"/"+i}e.a=function(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]},e.d=n,e.c=function(t){return n(t[0],t[1],t[2])},e.b=function(t){return t.split("/").map(Number)},e.e=function(t){return(t[1]<<t[0])+t[2]},e.f=function(t,e){var i=t[0],n=t[1],r=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var o,s=e.getExtent();o=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i);return!o||o.containsXY(n,r)}},fS6E:function(t,e,i){i("Kh5d"),t.exports=i("FeBl").Object.getPrototypeOf},flWm:function(t,e,i){"use strict";var n=i("/LWt"),r=i("5MGX"),o=i("Fu+J"),s=i("VgFP"),a=i("+b92"),h=i("bmSR"),c=i("hrLW"),l=i("wupX"),u=i("LmAy"),d=function(t){function e(e,i){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(n.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,r))},e.prototype.getArea=function(){return Object(a.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,r.a.XY)},e.prototype.getType=function(){return o.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=d},gZNo:function(t,e,i){var n=i("eyRc"),r=i("zGdg"),o=i("3ZU4"),s=i("rZoG");t.exports=function(t,e,i){return t=o(t),void 0===(e=i?void 0:e)?r(t)?s(t):n(t):t.match(e)||[]}},gmzA:function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t}},grfP:function(t,e,i){"use strict";var n=i("zF6X"),r=i("/LWt"),o=i("5MGX"),s=i("Fu+J"),a=i("VgFP"),h=i("bmSR"),c=i("hrLW"),l=i("wupX"),u=i("MB6k"),d=i("pWpL"),p=i("3ahG"),f=i("vkQb"),g=i("LmAy"),v=function(t){function e(e,i){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(n.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(r.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.forEachSegment=function(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM)return null;var i=void 0!==e&&e;return Object(u.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,o.a.XY)},e.prototype.getType=function(){return s.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=v},h6dH:function(t,e,i){"use strict";var n=String.prototype.replace,r=/%20/g,o=i("PPrK"),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:s.RFC3986,formatters:{RFC1738:function(t){return n.call(t,r,"+")},RFC3986:function(t){return String(t)}}},s)},hTFF:function(t,e,i){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},hrLW:function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=i.length;r<o;++r)for(var s=i[r],a=0;a<n;++a)t[e++]=s[a];return e}function r(t,e,i,r,o){for(var s=o||[],a=0,h=0,c=i.length;h<c;++h){var l=n(t,e,i[h],r);s[a++]=l,e=l}return s.length=a,s}e.a=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)t[e++]=i[r];return e},e.b=n,e.c=r,e.d=function(t,e,i,n,o){for(var s=o||[],a=0,h=0,c=i.length;h<c;++h){var l=r(t,e,i[h],n,s[a]);s[a++]=l,e=l[l.length-1]}return s.length=a,s}},"i/C/":function(t,e,i){i("exh5"),t.exports=i("FeBl").Object.setPrototypeOf},iFba:function(t,e,i){"use strict";e.a=function(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}},iInB:function(t,e,i){var n=i("TcQ7"),r=i("LKZe").f;i("uqUo")("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},ii8f:function(t,e,i){var n=i("Sj2l"),r=i("IyJb"),o=i("kdrn"),s=i("pame"),a=1/0,h=n?n.prototype:void 0,c=h?h.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(s(e))return c?c.call(e):"";var i=e+"";return"0"==i&&1/e==-a?"-0":i}},irp0:function(t,e,i){"use strict";var n=i("ye7M"),r=i("7yEG"),o=function(t){function e(e){var i=e||{},n=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:Object(r.a)({extent:Object(r.b)(n),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:n,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.a);e.a=o},jP9t:function(t,e,i){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},k6ff:function(t,e,i){"use strict";var n={props:{total:{type:Number,default:100},everyPageInputDisabled:{type:Boolean,default:!1},hasEveryPages:{type:Boolean,default:!1},layout:{type:String,default:"total, prev, pager, next, jumper"}},data:function(){return{currentPage:1,everyPages:6,everyPagesList:[5,6,10,15,20,25,30]}},watch:{everyPages:function(t){this.$emit("everyPagesChange",t)}},methods:{handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.$emit("pageNumberClickEmitter",t)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{staticClass:"pagination",attrs:{gutter:24}},[t.hasEveryPages?i("el-col",{attrs:{span:6}},[i("div",{staticClass:"every-pages"},[i("span",[t._v("每页显示")]),t._v(" "),i("el-select",{staticClass:"every-pages-select",attrs:{placeholder:"请选择",size:"mini",disabled:t.everyPageInputDisabled},model:{value:t.everyPages,callback:function(e){t.everyPages=e},expression:"everyPages"}},t._l(t.everyPagesList,function(t){return i("el-option",{key:t,attrs:{value:t}})}),1),t._v(" "),i("span",[t._v("条信息")])],1)]):t._e(),t._v(" "),i("el-col",{attrs:{span:18,offset:t.hasEveryPages?0:6}},[i("el-pagination",{staticClass:"pagination-number",attrs:{"current-page":t.currentPage,"page-size":t.everyPages,"prev-text":"上一页","next-text":"下一页",layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(t){i("IjYr")},"data-v-06c558d4",null);e.a=o.exports},kZ1N:function(t,e,i){"use strict";var n=i("Nhaw"),r=i("XOen"),o=i("0vMM"),s=i("CTDj"),a=i("w2Al"),h=i("6t+W"),c=i("/LWt"),l={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},u=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.d,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(h.a)(this,Object(r.b)(l.ELEMENT),this.handleElementChanged,this),Object(h.a)(this,Object(r.b)(l.MAP),this.handleMapChanged,this),Object(h.a)(this,Object(r.b)(l.OFFSET),this.handleOffsetChanged,this),Object(h.a)(this,Object(r.b)(l.POSITION),this.handlePositionChanged,this),Object(h.a)(this,Object(r.b)(l.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:o.a.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(l.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(l.MAP)},e.prototype.getOffset=function(){return this.get(l.OFFSET)},e.prototype.getPosition=function(){return this.get(l.POSITION)},e.prototype.getPositioning=function(){return this.get(l.POSITIONING)},e.prototype.handleElementChanged=function(){Object(a.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(a.e)(this.element),Object(h.e)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(h.a)(t,n.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(l.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(l.ELEMENT,t)},e.prototype.setMap=function(t){this.set(l.MAP,t)},e.prototype.setOffset=function(t){this.set(l.OFFSET,t)},e.prototype.setPosition=function(t){this.set(l.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[Object(a.c)(i),Object(a.b)(i)]),r=this.autoPanMargin;if(!Object(c.g)(e,n)){var o=n[0]-e[0],s=e[2]-n[2],h=n[1]-e[1],l=e[3]-n[3],u=[0,0];if(o<0?u[0]=o-r:s<0&&(u[0]=Math.abs(s)+r),h<0?u[1]=h-r:l<0&&(u[1]=Math.abs(l)+r),0!==u[0]||0!==u[1]){var d=t.getView().getCenter(),p=t.getPixelFromCoordinate(d),f=[p[0]+u[0],p[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(f),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(l.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var s=n[0],a=n[1];if(r==o.a.BOTTOM_RIGHT||r==o.a.CENTER_RIGHT||r==o.a.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=i.left="");var h=Math.round(e[0]-t[0]-s)+"px";this.rendered.right_!=h&&(this.rendered.right_=i.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=i.right=""),r!=o.a.BOTTOM_CENTER&&r!=o.a.CENTER_CENTER&&r!=o.a.TOP_CENTER||(s-=this.element.offsetWidth/2);var c=Math.round(t[0]+s)+"px";this.rendered.left_!=c&&(this.rendered.left_=i.left=c)}if(r==o.a.BOTTOM_LEFT||r==o.a.BOTTOM_CENTER||r==o.a.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=i.top="");var l=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=l&&(this.rendered.bottom_=i.bottom=l)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=i.bottom=""),r!=o.a.CENTER_LEFT&&r!=o.a.CENTER_CENTER&&r!=o.a.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var u=Math.round(t[1]+a)+"px";this.rendered.top_!=u&&(this.rendered.top_=i.top=u)}},e.prototype.getOptions=function(){return this.options},e}(r.a);e.a=u},kdrn:function(t,e){var i=Array.isArray;t.exports=i},ktr9:function(t,e){},lC0a:function(t,e,i){"use strict";var n=i("6OHv");t.exports=n.isStandardBrowserEnv()?{write:function(t,e,i,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},lQeg:function(t,e){t.exports={_args:[["proj4@2.5.0","/Users/lixiaodong/WebstormProjects/greatmap_projects/developing/dev/trunk/guotu-survey3-web"]],_from:"proj4@2.5.0",_id:"proj4@2.5.0",_inBundle:!1,_integrity:"sha1-46iM5+egciGqzLxnYN0ur+50XwM=",_location:"/proj4",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"proj4@2.5.0",name:"proj4",escapedName:"proj4",rawSpec:"2.5.0",saveSpec:null,fetchSpec:"2.5.0"},_requiredBy:["/"],_resolved:"https://registry.npm.taobao.org/proj4/download/proj4-2.5.0.tgz",_spec:"2.5.0",_where:"/Users/lixiaodong/WebstormProjects/greatmap_projects/developing/dev/trunk/guotu-survey3-web",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"1.0.0","wkt-parser":"^1.2.0"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{chai:"~4.1.2","curl-amd":"github:cujojs/curl",grunt:"^1.0.1","grunt-cli":"~1.2.0","grunt-contrib-connect":"~1.0.2","grunt-contrib-jshint":"~1.1.0","grunt-contrib-uglify":"~3.1.0","grunt-mocha-phantomjs":"~4.0.0","grunt-rollup":"^6.0.0",istanbul:"~0.4.5",mocha:"~4.0.0",rollup:"^0.50.0","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.0",tin:"~0.5.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",license:"MIT",main:"dist/proj4-src.js",module:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{build:"grunt","build:tmerc":"grunt build:tmerc",test:"npm run build && istanbul test _mocha test/test.js"},version:"2.5.0"}},mClu:function(t,e,i){var n=i("kM2E");n(n.S+n.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},nfrs:function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},nq2H:function(t,e,i){"use strict";var n=i("OEyb"),r=i("6t+W"),o=i("57Gy"),s=i("XOen"),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var i=e;this.setGeometry(i)}else{var n=e;this.setProperties(n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(n.a)("function"==typeof t.getZIndex,41);var i=t;e=[i]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);e.a=a},nxYM:function(t,e,i){"use strict";e.b=function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)Object(n.e)(t[e]);else Object(n.e)(t)};var n=i("6t+W"),r=i("bhTf"),o=i("57Gy"),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=Object(n.a)(this,t[o],e);return r}return Object(n.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=Object(n.b)(this,t[o],e);return r}return Object(n.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)Object(n.c)(this,t[i],e);else Object(n.c)(this,t,e)},e}(r.a);e.a=s},o1CS:function(t,e,i){"use strict";e.a=function(t,e,i,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=r,o):new n(t,e,i,r)};var n=function(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n};n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=n},"o1z/":function(t,e,i){"use strict";e.a=function(t,e,i){return Math.min(Math.max(t,e),i)},i.d(e,"b",function(){return n}),e.g=function(t,e,i,n,o,s){var a=o-i,h=s-n;if(0!==a||0!==h){var c=((t-i)*a+(e-n)*h)/(a*a+h*h);c>1?(i=o,n=s):c>0&&(i+=a*c,n+=h*c)}return r(t,e,i,n)},e.f=r,e.e=function(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,r=Math.abs(t[i][i]),o=i+1;o<e;o++){var s=Math.abs(t[o][i]);s>r&&(r=s,n=o)}if(0===r)return null;var a=t[n];t[n]=t[i],t[i]=a;for(var h=i+1;h<e;h++)for(var c=-t[h][i]/t[i][i],l=i;l<e+1;l++)i==l?t[h][l]=0:t[h][l]+=c*t[i][l]}for(var u=new Array(e),d=e-1;d>=0;d--){u[d]=t[d][e]/t[d][d];for(var p=d-1;p>=0;p--)t[p][e]-=t[p][d]*u[d]}return u},e.h=function(t){return 180*t/Math.PI},e.i=function(t){return t*Math.PI/180},e.d=function(t,e){var i=t%e;return i*e<0?i+e:i},e.c=function(t,e,i){return t+i*(e-t)};i("OEyb");var n="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function r(t,e,i,n){var r=i-t,o=n-e;return r*r+o*o}},o6Zh:function(t,e,i){var n=i("3Bz2"),r=i("Vvqj")(function(t,e,i){return e=e.toLowerCase(),t+(i?n(e):e)});t.exports=r},oM7Q:function(t,e,i){i("sF+V");var n=i("FeBl").Object;t.exports=function(t,e){return n.create(t,e)}},pWpL:function(t,e,i){"use strict";e.a=s,e.b=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){if(s(t,e,i[o],n,r))return!0;e=i[o]}return!1},e.c=a,e.d=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var h=i[o];if(a(t,e,h,n,r))return!0;e=h[h.length-1]}return!1};var n=i("/LWt"),r=i("ZXW8"),o=i("vkQb");function s(t,e,i,r,s){var a=Object(n.s)(Object(n.j)(),t,e,i,r);return!!Object(n.F)(s,a)&&(!!Object(n.g)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(o.a)(t,e,i,r,function(t,e){return Object(n.G)(s,t,e)}))))}function a(t,e,i,n,o){if(!function(t,e,i,n,o){return!!(s(t,e,i,n,o)||Object(r.b)(t,e,i,n,o[0],o[1])||Object(r.b)(t,e,i,n,o[0],o[3])||Object(r.b)(t,e,i,n,o[2],o[1])||Object(r.b)(t,e,i,n,o[2],o[3]))}(t,e,i[0],n,o))return!1;if(1===i.length)return!0;for(var a=1,h=i.length;a<h;++a)if(Object(r.a)(t,i[a-1],i[a],n,o)&&!s(t,i[a-1],i[a],n,o))return!1;return!0}},pame:function(t,e,i){var n=i("3iiy"),r=i("OgA6"),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&n(t)==o}},piqq:function(t,e,i){"use strict";function n(t,e,i,n){for(;e<i-n;){for(var r=0;r<n;++r){var o=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=o}e+=n,i-=n}}function r(t,e,i,n){for(var r=0,o=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],h=t[e+1];r+=(a-o)*(h+s),o=a,s=h}return r>0}function o(t,e,i,n,o){for(var s=void 0!==o&&o,a=0,h=i.length;a<h;++a){var c=i[a],l=r(t,e,c,n);if(0===a){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=c}return!0}function s(t,e,i,o,s){for(var a=void 0!==s&&s,h=0,c=i.length;h<c;++h){var l=i[h],u=r(t,e,l,o);(0===h?a&&u||!a&&!u:a&&!u||!a&&u)&&n(t,e,l,o),e=l}return e}e.a=r,e.b=o,e.c=function(t,e,i,n,r){for(var s=0,a=i.length;s<a;++s)if(!o(t,e,i[s],n,r))return!1;return!0},e.d=s,e.e=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o)e=s(t,e,i[o],n,r);return e}},qIyk:function(t,e,i){"use strict";var n=i("6OHv"),r=i("4gZa"),o=i("z19Y"),s=i("Zz8d"),a=i("FKTB"),h=i("Jtho");t.exports=function(t){return new Promise(function(e,c){var l=t.data,u=t.headers;n.isFormData(l)&&delete u["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",f=t.auth.password||"";u.Authorization="Basic "+btoa(p+":"+f)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:i,config:t,request:d};r(e,c,n),d=null}},d.onerror=function(){c(h("Network Error",t,null,d)),d=null},d.ontimeout=function(){c(h("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=i("lC0a"),v=(t.withCredentials||a(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;v&&(u[t.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(u,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete u[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),c(t),d=null)}),void 0===l&&(l=null),d.send(l)})}},qVK5:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},qyJz:function(t,e,i){"use strict";var n=i("+ZMJ"),r=i("kM2E"),o=i("sB3e"),s=i("msXi"),a=i("Mhyx"),h=i("QRG4"),c=i("fBQ2"),l=i("3fs2");r(r.S+r.F*!i("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,u,d=o(t),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,_=0,y=l(d);if(v&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(i=new p(e=h(d.length));e>_;_++)c(i,_,v?g(d[_],_):d[_]);else for(u=y.call(d),i=new p;!(r=u.next()).done;_++)c(i,_,v?s(u,g,[r.value,_],!0):r.value);return i.length=_,i}})},"r/II":function(t,e,i){var n=i("3iiy"),r=i("N6iB"),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",h="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=n(t);return e==s||e==a||e==o||e==h}},rZoG:function(t,e){var i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+i+"]",r="\\d+",o="[\\u2700-\\u27bf]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]",a="[^\\ud800-\\udfff"+i+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="[A-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:"+s+"|"+a+")",d="(?:"+l+"|"+a+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",f="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",h,c].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),g="(?:"+[o,h,c].join("|")+")"+f,v=RegExp([l+"?"+s+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[n,l,"$"].join("|")+")",d+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[n,l+u,"$"].join("|")+")",l+"?"+u+"+(?:['’](?:d|ll|m|re|s|t|ve))?",l+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,g].join("|"),"g");t.exports=function(t){return t.match(v)||[]}},riG9:function(t,e){t.exports=function(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o}},s45I:function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(e,i("DuR2"))},"sF+V":function(t,e,i){var n=i("kM2E");n(n.S,"Object",{create:i("Yobk")})},swbA:function(t,e,i){"use strict";i.d(e,"a",function(){return _}),i.d(e,"b",function(){return f});var n=i("gbyG"),r=(i.n(n),i("Gh7F")),o=(i.n(r),i("bQXb")),s=i("Vpnp"),a=i("xGqq"),h=i.n(a),c=i("fG7N"),l=i.n(c);
/*!
 * vue-webgis v0.7.3
 */
function u(){return u.process=u.process?u.process:d().then(function(t){u.process=null,t&&t.token&&s.c.setToken(t)})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a.host;return f({url:s.a.arcgisToken,method:"post",data:{username:s.a.arcgisUsername,password:s.a.arcgisPassword,referer:t,client:"referer",f:"json"}})}var p=h.a.create({timeout:2e4});function f(t){return p(t).catch(function(t){return Object(o.a)(t),Promise.reject(t)})}function g(t){return"post"===t.method&&(t.headers["Content-Type"]="application/x-www-form-urlencoded",t.data=l()(t.data)),t}function v(t){var e=!0===t,i=(e?s.b:s.c).getToken();return i?Promise.resolve(i):(e?d.process=d.process?d.process:d(s.a.host).then(function(t){d.process=null,t&&t.token&&s.b.setToken(t)}):u()).then(function(){return v(t)})}function _(t){return Array.isArray(t)&&t.length}p.interceptors.request.use(function(t){return t.baseURL||(t.baseURL=s.a.arcgis),t=t.url.includes("/generateToken")?g(t):function(t){return v(t.analysisToken).then(function(e){return"post"===t.method?(t.data=t.data||{},t.data.token=e,g(t)):"get"===t.method&&(t.params=t.params||{},t.params.token=e),t})}(t)},function(t){return Object(o.a)(t),Promise.reject(t)}),p.interceptors.response.use(function(t){var e=t.data;return!e||e.error?"TOKEN INVALID"===e.error?v(t.config.analysisToken):Promise.reject(e):e},function(t){return Object(o.a)(t),Promise.reject(t)})},"t0/5":function(t,e,i){"use strict";var n=i("6OHv");t.exports=function(t,e,i){return n.forEach(i,function(i){t=i(t,e)}),t}},t4zo:function(t,e,i){(function(i){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){"use strict";function e(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){s(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,s){var a=o.URL||o.webkitURL,h=document.createElement("a");i=i||t.name||"download",h.download=i,h.rel="noopener","string"==typeof t?(h.href=t,h.origin===location.origin?r(h):n(h.href)?e(t,i,s):r(h,h.target="_blank")):(h.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(h.href)},4e4),setTimeout(function(){r(h)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){r(s)})}}:function(t,i,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,n);var s="application/octet-stream"===t.type,a=/constructor/i.test(o.HTMLElement)||o.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||s&&a)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=h?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},c.readAsDataURL(t)}else{var l=o.URL||o.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});o.saveAs=s.saveAs=s,void 0!==t&&(t.exports=s)})?n.apply(e,r):n)||(t.exports=o)}).call(e,i("DuR2"))},tFCN:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),e.b=function(t){for(var e in t)delete t[e]},e.c=function(t){var e=[];for(var i in t)e.push(t[i]);return e},e.d=function(t){var e;for(e in t)return!1;return!e};var n="function"==typeof Object.assign?Object.assign:function(t,e){var i=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,o=arguments.length;r<o;++r){var s=i[r];if(void 0!==s&&null!==s)for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])}return n}},v5fe:function(t,e,i){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},vhPq:function(t,e,i){"use strict";e.a=o,e.b=function(t,e,i,n,r){for(var s=[],a=0,h=i.length;a<h;++a){var c=i[a];s=o(t,e,c,n,r,2*a,s),e=c[c.length-1]}return s};var n=i("zF6X"),r=i("ZXW8");function o(t,e,i,o,s,a,h){for(var c,l,u,d,p,f,g,v=s[a+1],_=[],y=0,m=i.length;y<m;++y){var b=i[y];for(d=t[b-o],f=t[b-o+1],c=e;c<b;c+=o)p=t[c],g=t[c+1],(v<=f&&g<=v||f<=v&&v<=g)&&(u=(v-f)/(g-f)*(p-d)+d,_.push(u)),d=p,f=g}var x=NaN,O=-1/0;for(_.sort(n.g),d=_[0],c=1,l=_.length;c<l;++c){p=_[c];var w=Math.abs(p-d);w>O&&(u=(d+p)/2,Object(r.c)(t,e,i,o,u,v)&&(x=u,O=w)),d=p}return isNaN(x)&&(x=s[a]),h?(h.push(x,v,O),h):[x,v,O]}},vkQb:function(t,e,i){"use strict";e.a=function(t,e,i,n,r,o){for(var s,a=[t[e],t[e+1]],h=[];e+n<i;e+=n){if(h[0]=t[e+n],h[1]=t[e+n+1],s=r.call(o,a,h))return s;a[0]=h[0],a[1]=h[1]}return!1}},"vv/+":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[n.DEGREES]=2*Math.PI*6370997/360,r[n.FEET]=.3048,r[n.METERS]=1,r[n.USFEET]=1200/3937,e.b=n},w2Al:function(t,e,i){"use strict";e.a=function(t,e){var i=document.createElement("canvas");t&&(i.width=t);e&&(i.height=e);return i.getContext("2d")},e.c=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)},e.b=function(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)},e.f=function(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)},e.e=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},e.d=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}},w7eL:function(t,e){},wMNw:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("L5RK"),r=i("DwLH"),o=i("Mdwg"),s=i("irp0"),a=i("clnH"),h=i("BlJ1"),c=i("czjk"),l=i("Vpnp"),u=function(){function t(e){Object(n.b)(this,t),Object(n.c)(this,"_olMap",void 0),this._olMap=e}return Object(n.a)(t,[{key:"addLayer",value:function(e,i){var n;switch(e){case"wms":n=t.createWMSLayer(i);break;case"wmts":n=t.createWMTSLayer(i);break;case"image":n=t.createImageLayer(i)}return this._olMap.addLayer(n),n}},{key:"removeLayer",value:function(t){this._olMap.removeLayer(t)}}],[{key:"createWMSLayer",value:function(t){var e=t.serverIdWMS,i=t.serviceCode,n=t.zIndex,s=t.visible,a=void 0!==s&&s,h=l.c.getToken(),c=new r.a({url:l.a.arcgisService+i+"/MapServer/WMSServer",params:{LAYERS:e,token:h}});return new o.a({source:c,zIndex:n,visible:a})}},{key:"createWMTSLayer",value:function(t){var e=t.serviceCode,i=t.extent,n=t.zIndex,r=t.visible,h=void 0!==r&&r,c=t.resolutions,u=t.tileInfo,d=t.projection,p=l.c.getToken(),f=u.origin,g=new s.a({tileGrid:new a.a({extent:i,resolutions:c,tileSize:u.cols,origin:[f.x,f.y]}),projection:d,url:"".concat(l.a.arcgisRestService).concat(e,"/ImageServer/tile/{z}/{y}/{x}?token=").concat(p)});return new o.a({source:g,zIndex:n,visible:h})}},{key:"createImageLayer",value:function(t){var e=t.serviceCode,i=t.serverType,n=void 0===i?"MapServer":i,r=t.serverId,o=void 0===r?"":r,s=t.zIndex,a=t.visible,u=new h.a({ratio:1,params:{LAYERS:o,token:l.c.getToken()},url:"".concat(l.a.arcgis,"/server/rest/services/").concat(e,"/").concat(n)});return new c.a({source:u,zIndex:s,visible:a})}}]),t}()},wV1N:function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},wupX:function(t,e,i){"use strict";function n(t,e,i,n,r){for(var o=void 0!==r?r:[],s=0,a=e;a<i;a+=n)o[s++]=t.slice(a,a+n);return o.length=s,o}function r(t,e,i,r,o){for(var s=void 0!==o?o:[],a=0,h=0,c=i.length;h<c;++h){var l=i[h];s[a++]=n(t,e,l,r,s[a]),e=l}return s.length=a,s}e.a=n,e.b=r,e.c=function(t,e,i,n,o){for(var s=void 0!==o?o:[],a=0,h=0,c=i.length;h<c;++h){var l=i[h];s[a++]=r(t,e,l,n,s[a]),e=l[l.length-1]}return s.length=a,s}},x1G1:function(t,e,i){var n=i("9YGs"),r=i("ObDU"),o=i("Bi1H"),s=i("3ZU4");t.exports=function(t){return function(e){e=s(e);var i=r(e)?o(e):void 0,a=i?i[0]:e.charAt(0),h=i?n(i,1).join(""):e.slice(1);return a[t]()+h}}},x38o:function(t,e){t.exports=function(t){return t.split("")}},x3mb:function(t,e,i){var n=i("kM2E");n(n.S,"Array",{isArray:i("7UMu")})},xGqq:function(t,e,i){t.exports=i("DEUC")},xfjr:function(t,e){var i=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}},xifc:function(t,e,i){"use strict";e.a=function(t,e,i){void 0===i&&(i=[0,0]);return i[0]=t[0]+2*e,i[1]=t[1]+2*e,i},e.b=function(t){return t[0]>0&&t[1]>0},e.c=function(t,e,i){void 0===i&&(i=[0,0]);return i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i},e.d=function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}},xyZz:function(t,e,i){"use strict";var n=i("aPmR");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new n(t),e(i.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},yGLh:function(t,e,i){"use strict";var n=i("1avf"),r=i("/LWt"),o=i("o1z/"),s=i("7rnj"),a=i("vv/+"),h=6378137,c=Math.PI*h,l=[-c,-c,c,c],u=[-180,-85,180,85],d=function(t){function e(e){t.call(this,{code:e,units:a.b.METERS,extent:l,global:!0,worldExtent:u,getPointResolution:function(t,e){return t/Object(o.b)(e[1]/h)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),p=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d("urn:ogc:def:crs:EPSG::3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(t,e,i){var n=t.length,r=i>1?i:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(n));for(var s=c,a=0;a<n;a+=r){o[a]=s*t[a]/180;var l=h*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));l>s?l=s:l<-s&&(l=-s),o[a+1]=l}return o}function g(t,e,i){var n=t.length,r=i>1?i:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(n));for(var s=0;s<n;s+=r)o[s]=180*t[s]/c,o[s+1]=360*Math.atan(Math.exp(t[s+1]/h))/Math.PI-90;return o}var v=[-180,-90,180,90],_=6378137*Math.PI/180,y=function(t){function e(e,i){t.call(this,{code:e,units:a.b.DEGREES,extent:v,axisOrientation:i,global:!0,metersPerUnit:_,worldExtent:v})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),m=[new y("CRS:84"),new y("EPSG:4326","neu"),new y("urn:ogc:def:crs:EPSG::4326","neu"),new y("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new y("urn:ogc:def:crs:OGC:1.3:CRS84"),new y("urn:ogc:def:crs:OGC:2:84"),new y("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new y("urn:x-ogc:def:crs:EPSG:4326","neu")],b={};var x,O,w,E=i("AXqv");function M(t,e,i){var n;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];n=e}else n=t.slice();return n}function C(t,e,i){if(void 0!==e&&t!==e){for(var n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function S(t){!function(t,e){b[t]=e}(t.getCode(),t),Object(E.a)(t,t,M)}function T(t){return"string"==typeof t?b[t]||null:t||null}function j(t){!function(t){t.forEach(S)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(E.a)(e,t,M)})})}function R(t){return function(e,i,n){for(var r=e.length,o=void 0!==n?n:2,s=void 0!==i?i:new Array(r),a=0;a<r;a+=o){var h=t([e[a],e[a+1]]);s[a]=h[0],s[a+1]=h[1];for(var c=o-1;c>=2;--c)s[a+c]=e[a+c]}return s}}function I(t,e){var i=t.getCode(),n=e.getCode(),r=Object(E.c)(i,n);return r||(r=C),r}function L(t,e){return I(T(t),T(e))}function k(t,e,i){return L(e,i)(t,void 0,t.length)}e.l=C,e.e=S,e.h=T,e.i=function(t,e,i,r){var o,s=(t=T(t)).getPointResolutionFunc();if(s)o=s(e,i);else{var h=t.getUnits();if(h==a.b.DEGREES&&!r||r==a.b.DEGREES)o=e;else{var c=I(t,T("EPSG:4326")),l=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];l=c(l,l,2);var u=Object(n.b)(l.slice(0,2),l.slice(2,4)),d=Object(n.b)(l.slice(4,6),l.slice(6,8));o=(u+d)/2;var p=r?a.a[r]:t.getMetersPerUnit();void 0!==p&&(o/=p)}}return o},e.d=j,e.f=function(t,e){return t?"string"==typeof t?T(t):t:T(e)},e.c=function(t,e,i,n){var r=T(t),o=T(e);Object(E.a)(r,o,R(i)),Object(E.a)(o,r,R(n))},e.g=function(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return i;var n=I(t,e);return n===M&&i},e.k=I,e.j=L,e.m=k,e.n=function(t,e,i){var n=L(e,i);return Object(r.a)(t,n)},i.d(e,"a",function(){return a.a}),i.d(e,"b",function(){return s.a}),j(p),j(m),x=p,O=f,w=g,m.forEach(function(t){x.forEach(function(e){Object(E.a)(t,e,O),Object(E.a)(e,t,w)})})},yQMH:function(t,e,i){"use strict";i.d(e,"a",function(){return E}),i.d(e,"b",function(){return y}),i.d(e,"c",function(){return x}),i.d(e,"d",function(){return _}),i.d(e,"e",function(){return v}),i.d(e,"f",function(){return w});var n=i("/n6Q"),r=i.n(n),o=i("BwfY"),s=i.n(o),a=i("fS6E"),h=i.n(a),c=i("i/C/"),l=i.n(c),u=i("oM7Q"),d=i.n(u),p=r.a,f=s.a;function g(t){return(g="function"==typeof f&&"symbol"==typeof p?function(t){return typeof t}:function(t){return t&&"function"==typeof f&&t.constructor===f&&t!==f.prototype?"symbol":typeof t})(t)}function v(t){return(v="function"==typeof f&&"symbol"===g(p)?function(t){return g(t)}:function(t){return t&&"function"==typeof f&&t.constructor===f&&t!==f.prototype?"symbol":g(t)})(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?_(t):e}var m=h.a,b=l.a;function x(t){return(x=b?m:function(t){return t.__proto__||m(t)})(t)}var O=d.a;function w(t,e){return(w=b||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=O(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}},ye7M:function(t,e,i){"use strict";var n=i("09IN"),r=i("3ciB"),o=i("DL7K"),s=i("2S6f"),a=i("bhTf"),h=i("57Gy"),c=function(t){function e(e,i,n){t.call(this);var r=n||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(h.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var n=e-i+1e3/60;return n>=this.transition_?1:Object(s.a)(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a),l=i("w2Al"),u=i("6t+W");function d(){var t=Object(l.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var p=function(t){function e(e,i,n,r,o,s){t.call(this,e,i,s),this.crossOrigin_=r,this.src_=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=d()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=d(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(u.b)(this.image_,h.a.ERROR,this.handleImageError_,this),Object(u.b)(this.image_,h.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(u.e),this.imageListenerKeys_=null},e}(c),f=i("9JMd"),g=i("fGqn"),v=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(g.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(g.c)(t.tileCoord)),t.dispose())},this)}},e}(f.a),_=i("yGLh"),y=i("/LWt"),m=i("o1z/"),b=i("N9JB"),x=i("S+g9"),O=function(t){function e(e,i,r,s,a,h,c,l,u,d,p){t.call(this,a,o.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=c,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=s,this.wrappedTileCoord_=h||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var f=s.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),v=this.sourceTileGrid_.getExtent(),_=g?Object(y.B)(f,g):f;if(0!==Object(y.u)(_)){var O=e.getExtent();O&&(v=v?Object(y.B)(v,O):O);var w=s.getResolution(this.wrappedTileCoord_[0]),E=Object(y.x)(_),M=Object(b.a)(e,r,E,w);if(!isFinite(M)||M<=0)this.state=o.a.EMPTY;else{var C=void 0!==d?d:n.b;if(this.triangulation_=new x.a(e,r,_,v,M*C),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(M);var S=this.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(S[1]=Object(m.a)(S[1],v[1],v[3]),S[3]=Object(m.a)(S[3],v[1],v[3])):S=Object(y.B)(S,v)),Object(y.u)(S)){for(var T=i.getTileRangeForExtentAndZ(S,this.sourceZ_),j=T.minX;j<=T.maxX;j++)for(var R=T.minY;R<=T.maxY;R++){var I=u(this.sourceZ_,j,R,c);I&&this.sourceTiles_.push(I)}0===this.sourceTiles_.length&&(this.state=o.a.EMPTY)}else this.state=o.a.EMPTY}else this.state=o.a.EMPTY}}else this.state=o.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,n){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],r="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(b.b)(n,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,h,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,n){var r=e.getState();if(r==o.a.IDLE||r==o.a.LOADING){t++;var s=Object(u.a)(e,h.a.CHANGE,function(i){var n=e.getState();n!=o.a.LOADED&&n!=o.a.ERROR&&n!=o.a.EMPTY||(Object(u.e)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,i){t.getState()==o.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(u.e),this.sourcesListenerKeys_=null},e}(c),w=i("OEyb");function E(t,e){var i=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,h){return s?t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(r,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=s[0],i=e.getFullTileRange(t);return Object(w.a)(i,55),(i.getHeight()+s[2]).toString()}):void 0}}function M(t,e){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=E(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,i,n){if(e){var r=Object(g.e)(e),o=Object(m.d)(r,t.length);return t[o](e,i,n)}}}(n)}function C(t,e,i){}var S=i("LKHy"),T=i("xifc"),j=i("A7Qc"),R=i("7yEG"),I=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new v(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,n){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var s,a,h,c=!0,l=i.minX;l<=i.maxX;++l)for(var u=i.minY;u<=i.maxY;++u)a=Object(g.d)(e,l,u),h=!1,r.containsKey(a)&&(h=(s=r.get(a)).getState()===o.a.LOADED)&&(h=!1!==n(s)),h||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,n,o){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(R.c)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(_.g)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var n=this.getTileGridForProjection(i),r=this.getTilePixelRatio(e),o=Object(T.d)(n.getTileSize(t),this.tmpSize);return 1==r?o:Object(T.c)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Object(R.d)(n,t,i)),Object(g.f)(t,n)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,n){},e}(j.a),L=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(S.a),k="tileloadstart",P="tileloadend",A="tileloaderror",F=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:N,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!n.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(n.a){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return n.a&&this.getProjection()&&t&&!Object(_.g)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(n.a&&this.getProjection()&&e&&!Object(_.g)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!n.a)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!Object(_.g)(i,e)){var o=Object(r.c)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=Object(R.c)(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!n.a)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||Object(_.g)(i,e))return this.tileCache;var o=Object(r.c)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new v(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,i,n,r,s){var a=[t,e,i],c=this.getTileCoordForTileUrlFunction(a,r),l=c?this.tileUrlFunction(c,n,r):void 0,d=new this.tileClass(a,void 0!==l?o.a.IDLE:o.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=s,Object(u.a)(d,h.a.CHANGE,this.handleTileChange,this),d},e.prototype.getTile=function(t,e,i,r,o){var s=this.getProjection();if(n.a&&s&&o&&!Object(_.g)(s,o)){var a,h=this.getTileCacheForProjection(o),c=[t,e,i],l=Object(g.c)(c);h.containsKey(l)&&(a=h.get(l));var u=this.getKey();if(a&&a.key==u)return a;var d=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(c,o),v=new O(s,d,o,p,c,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return v.key=u,a?(v.interimTile=a,v.refreshInterimChain(),h.replace(l,v)):h.set(l,v),v}return this.getTileInternal(t,e,i,r,s||o)},e.prototype.getTileInternal=function(t,e,i,n,r){var s=null,a=Object(g.d)(t,e,i),h=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=h){var c=s;s=this.createTile_(t,e,i,n,r,h),c.getState()==o.a.IDLE?s.interimTile=c.interimTile:s.interimTile=c,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,i,n,r,h),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(n.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(n.a){var i=Object(_.h)(t);if(i){var o=Object(r.c)(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):C,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,n=Object(r.c)(i),s=i.getState();s==o.a.LOADING?(this.tileLoadingKeys_[n]=!0,e=k):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],e=s==o.a.ERROR?A:s==o.a.LOADED||s==o.a.ABORT?P:void 0),void 0!=e&&this.dispatchEvent(new L(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,r=i[1].charCodeAt(0),o=i[2].charCodeAt(0);for(n=r;n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(M(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var n=Object(g.d)(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(I));function N(t,e){t.getImage().src=e}e.a=F},yjKr:function(t,e,i){"use strict";var n=i("6OHv");t.exports=function(t,e){n.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},z19Y:function(t,e,i){"use strict";var n=i("6OHv");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},zCEe:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("cnlX"),r=i.n(n),o=i("B0bq"),s=i.n(o),a=i("jFbC"),h=i.n(a),c=i("L5RK"),l=r.a,u=s.a,d=h.a;function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=d(i);"function"==typeof u&&(n=n.concat(u(i).filter(function(t){return l(i,t).enumerable}))),n.forEach(function(e){Object(c.c)(t,e,i[e])})}return t}},zF6X:function(t,e,i){"use strict";function n(t,e){return t>e?1:t<e?-1:0}e.a=function(t,e,i){var r,o,s=i||n,a=0,h=t.length,c=!1;for(;a<h;)(o=+s(t[r=a+(h-a>>1)],e))<0?a=r+1:(h=r,c=!o);return c?a:~a},e.g=n,e.d=function(t,e){return t.indexOf(e)>=0},e.f=function(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var r;if(i>0){for(r=1;r<n;++r)if(t[r]<e)return r-1}else if(i<0){for(r=1;r<n;++r)if(t[r]<=e)return r}else for(r=1;r<n;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return n-1},e.i=function(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}},e.c=function(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,r=0;r<n;r++)t[t.length]=i[r]},e.h=function(t,e){var i=t.indexOf(e),n=i>-1;n&&t.splice(i,1);return n},e.b=function(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0},e.j=function(t,e){var i,n=t.length,r=Array(t.length);for(i=0;i<n;i++)r[i]={index:i,value:t[i]};for(r.sort(function(t,i){return e(t.value,i.value)||t.index-i.index}),i=0;i<t.length;i++)t[i]=r[i].value},e.e=function(t,e,i){var r=e||n;return t.every(function(e,n){if(0===n)return!0;var o=r(t[n-1],e);return!(o>0||i&&0===o)})}},zGdg:function(t,e){var i=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return i.test(t)}}});
//# sourceMappingURL=4.fa02aa9b88b4817e10a2.js.map