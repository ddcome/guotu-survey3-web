{"version":3,"sources":["webpack:///./node_modules/@greatmap/vue-webgis/lib/buffer-analysis-8c02bea6.js","webpack:///./node_modules/@greatmap/vue-webgis/lib/chunk-fc6359dc.js"],"names":["Object","defineProperty","__webpack_exports__","value","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_function_name__","__WEBPACK_IMPORTED_MODULE_2_core_js_modules_es7_array_includes__","n","__WEBPACK_IMPORTED_MODULE_3_core_js_modules_es6_string_includes__","__WEBPACK_IMPORTED_MODULE_4_core_js_modules_es6_array_find__","__WEBPACK_IMPORTED_MODULE_5_core_js_modules_web_dom_iterable__","__WEBPACK_IMPORTED_MODULE_6_core_js_modules_es6_object_keys__","__WEBPACK_IMPORTED_MODULE_8_core_js_library_fn_array_is_array__","__WEBPACK_IMPORTED_MODULE_10_core_js_library_fn_array_from__","__WEBPACK_IMPORTED_MODULE_11_core_js_library_fn_is_iterable__","__WEBPACK_IMPORTED_MODULE_12_core_js_library_fn_object_define_property__","__WEBPACK_IMPORTED_MODULE_13__chunk_82f2c815_js__","__WEBPACK_IMPORTED_MODULE_14_core_js_library_fn_symbol_iterator__","__WEBPACK_IMPORTED_MODULE_15__chunk_537b1685_js__","__WEBPACK_IMPORTED_MODULE_16_core_js_library_fn_symbol__","__WEBPACK_IMPORTED_MODULE_17_core_js_library_fn_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_18_core_js_library_fn_object_set_prototype_of__","__WEBPACK_IMPORTED_MODULE_19_core_js_library_fn_object_create__","__WEBPACK_IMPORTED_MODULE_20_core_js_modules_es7_symbol_async_iterator__","__WEBPACK_IMPORTED_MODULE_21_core_js_modules_es6_symbol__","__WEBPACK_IMPORTED_MODULE_22_core_js_modules_es6_regexp_split__","__WEBPACK_IMPORTED_MODULE_23__chunk_bc626433_js__","__WEBPACK_IMPORTED_MODULE_24_axios__","__WEBPACK_IMPORTED_MODULE_25_qs_lib_stringify__","__WEBPACK_IMPORTED_MODULE_27__chunk_dd3bd2eb_js__","__WEBPACK_IMPORTED_MODULE_28_core_js_modules_es6_reflect_own_keys__","__WEBPACK_IMPORTED_MODULE_29_core_js_library_fn_reflect_construct__","__WEBPACK_IMPORTED_MODULE_30__chunk_cda7b711_js__","__WEBPACK_IMPORTED_MODULE_31__chunk_fc6359dc_js__","arcgisOrigin","superDataPath","BufferAnalysis","_classMixin","map","_this","this","call","_wkid","mapConfig","wkid","_map","key","extent","distance","_this2","dateId","Date","now","bufferName","overlayName","summaryName","serviceCode","getTopVisibleLayer","id","_bufferAnalysis","then","_overlayAnalysis","_summaryAnalysis","res","interactions","zoom","toFeatures","renderFeatureData","_this3","serviceUrl","serviceurl","serviceId","itemId","name","getProgress","jobId","_this4","_ref","inputLayer","url","concat","overlayLayer","createOverlayAnalysis","_this5","_ref2","createSummaryAnalysis","d","BaseAnalysis","createAnalysisService","createBuffersAnalysis","getAnalysisResult","__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_function_name__","__WEBPACK_IMPORTED_MODULE_1__chunk_8430f437_js__","__WEBPACK_IMPORTED_MODULE_2__chunk_2f41c7fa_js__","__WEBPACK_IMPORTED_MODULE_3__chunk_82f2c815_js__","__WEBPACK_IMPORTED_MODULE_4__chunk_537b1685_js__","__WEBPACK_IMPORTED_MODULE_5__chunk_bc626433_js__","__WEBPACK_IMPORTED_MODULE_6__chunk_81d749a9_js__","method","data","f","createParameters","JSON","stringify","currentVersion","serviceDescription","hasVersionedData","supportsDisconnectedEditing","hasStaticData","maxRecordCount","supportedQueryFormats","capabilities","description","copyrightText","allowGeometryUpdates","syncEnabled","editorTrackingInfo","enableEditorTracking","enableOwnershipAccessControl","allowOthersToUpdate","allowOthersToDelete","xssPreventionInfo","xssPreventionEnabled","xssPreventionRule","xssInputRule","tables","options","dataSourceType","outputType","analysisToken","distanceUnit","dissolveOption","OutputName","serviceProperties","itemProperties","context","xmin","ymin","xmax","ymax","spatialReference","latestWkid","outSR","_ref2$overlayType","overlayType","_ref3","fields","summaryFields","statisticType","onStatisticField","where","returnGeometry","outFields","objectIds","returnDistinctValues","orderByFields","_GISEvent","_vectorSource","vectorSource","Promise","resolve","reject","polling","params","getAnalysisProgress","status","jobStatus","setTimeout","_intervalTime","messages","dispatch","pop","message","error"],"mappings":"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","file":"static/js/37.f3e694f182addf1f809b.js","sourcesContent":["/*!\n * vue-webgis v0.7.3\n */\n\nimport 'vue';\nimport 'core-js/modules/es6.function.name';\nimport 'core-js/modules/es7.array.includes';\nimport 'core-js/modules/es6.string.includes';\nimport 'core-js/modules/es6.array.find';\nimport 'core-js/modules/web.dom.iterable';\nimport 'core-js/modules/es6.object.keys';\nimport './chunk-8430f437.js';\nimport 'core-js/library/fn/array/is-array';\nimport './chunk-2f41c7fa.js';\nimport 'core-js/library/fn/array/from';\nimport 'core-js/library/fn/is-iterable';\nimport 'core-js/library/fn/object/define-property';\nimport { a as _classCallCheck, b as _defineProperty, _ as _createClass } from './chunk-82f2c815.js';\nimport 'core-js/library/fn/symbol/iterator';\nimport { _ as _inherits, a as _possibleConstructorReturn, b as _getPrototypeOf, c as _assertThisInitialized } from './chunk-537b1685.js';\nimport 'core-js/library/fn/symbol';\nimport 'core-js/library/fn/object/get-prototype-of';\nimport 'core-js/library/fn/object/set-prototype-of';\nimport 'core-js/library/fn/object/create';\nimport 'core-js/modules/es7.symbol.async-iterator';\nimport 'core-js/modules/es6.symbol';\nimport 'core-js/modules/es6.regexp.split';\nimport { S as SERVER_CONFIG } from './chunk-bc626433.js';\nimport 'axios';\nimport 'qs/lib/stringify';\nimport './chunk-81d749a9.js';\nimport { T as ToggleActive } from './chunk-dd3bd2eb.js';\nimport 'core-js/modules/es6.reflect.own-keys';\nimport 'core-js/library/fn/reflect/construct';\nimport { c as classMixin } from './chunk-cda7b711.js';\nimport { c as createOverlayAnalysis$1, a as createSummaryAnalysis$1, g as getAnalysisResult, b as createAnalysisService, d as createBuffersAnalysis, B as BaseAnalysis } from './chunk-fc6359dc.js';\n\nvar arcgisOrigin = SERVER_CONFIG.arcgisOrigin;\nvar superDataPath = SERVER_CONFIG.superDataPath;\nfunction createOverlayAnalysis(_ref) {\n  var serviceUrl = _ref.serviceUrl,\n      serviceId = _ref.serviceId,\n      name = _ref.name,\n      bufferName = _ref.bufferName,\n      serviceCode = _ref.serviceCode;\n  return createOverlayAnalysis$1({\n    serviceUrl: serviceUrl,\n    serviceId: serviceId,\n    name: name,\n    inputLayer: {\n      url: \"\".concat(arcgisOrigin, \"/server/rest/services/DataStoreCatalogs/\").concat(superDataPath, \"/BigDataCatalogServer/\").concat(serviceCode),\n      name: \"\".concat(superDataPath, \"-\").concat(serviceCode)\n    },\n    overlayLayer: {\n      url: \"\".concat(arcgisOrigin, \"/server/rest/services/Hosted/\").concat(bufferName, \"/FeatureServer/0\"),\n      name: bufferName\n    }\n  });\n}\nfunction createSummaryAnalysis(_ref2) {\n  var serviceUrl = _ref2.serviceUrl,\n      serviceId = _ref2.serviceId,\n      name = _ref2.name,\n      overlayName = _ref2.overlayName;\n  return createSummaryAnalysis$1({\n    serviceUrl: serviceUrl,\n    serviceId: serviceId,\n    name: name,\n    inputLayer: {\n      url: \"\".concat(arcgisOrigin, \"/server/rest/services/Hosted/\").concat(overlayName, \"/FeatureServer/0\")\n    }\n  });\n}\n\nvar BufferAnalysis =\n/*#__PURE__*/\nfunction (_classMixin) {\n  _inherits(BufferAnalysis, _classMixin);\n\n  function BufferAnalysis(map) {\n    var _this;\n\n    _classCallCheck(this, BufferAnalysis);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BufferAnalysis).call(this, map));\n\n    _defineProperty(_assertThisInitialized(_this), \"_wkid\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_map\", void 0);\n\n    _this._wkid = map.mapConfig.wkid;\n    _this._map = map;\n    return _this;\n  }\n\n  _createClass(BufferAnalysis, [{\n    key: \"doAnalysis\",\n    value: function doAnalysis(extent, distance) {\n      var _this2 = this;\n\n      var dateId = Date.now();\n      var bufferName = 'buffer_cs' + dateId;\n      var overlayName = 'overlay_cs' + dateId;\n      var summaryName = 'summary_cs' + dateId;\n\n      var serviceCode = this._map.getTopVisibleLayer().id;\n\n      return this._bufferAnalysis(serviceCode, bufferName, extent, distance).then(function () {\n        return _this2._overlayAnalysis(serviceCode, overlayName, bufferName).then(function () {\n          return _this2._summaryAnalysis(serviceCode, summaryName, overlayName).then(function () {\n            return getAnalysisResult(summaryName, _this2._wkid).then(function (res) {\n              _this2._map.interactions.zoom.toFeatures(_this2._map.renderFeatureData(res));\n\n              return res;\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: \"_bufferAnalysis\",\n    value: function _bufferAnalysis(serviceCode, bufferName, extent, distance) {\n      var _this3 = this;\n\n      return createAnalysisService(bufferName).then(function (res) {\n        return createBuffersAnalysis({\n          serviceUrl: res.serviceurl,\n          serviceId: res.itemId,\n          extent: extent,\n          wkid: _this3._wkid,\n          distance: distance,\n          name: bufferName,\n          serviceCode: serviceCode\n        }).then(function (res) {\n          return _this3.getProgress('CreateBuffers', res.jobId);\n        });\n      });\n    }\n  }, {\n    key: \"_overlayAnalysis\",\n    value: function _overlayAnalysis(serviceCode, overlayName, bufferName) {\n      var _this4 = this;\n\n      return createAnalysisService(overlayName).then(function (res) {\n        return createOverlayAnalysis({\n          serviceUrl: res.serviceurl,\n          serviceId: res.itemId,\n          name: overlayName,\n          bufferName: bufferName,\n          serviceCode: serviceCode\n        }).then(function (res) {\n          return _this4.getProgress('OverlayLayers', res.jobId);\n        });\n      });\n    }\n  }, {\n    key: \"_summaryAnalysis\",\n    value: function _summaryAnalysis(serviceCode, summaryName, overlayName) {\n      var _this5 = this;\n\n      return createAnalysisService(summaryName).then(function (res) {\n        return createSummaryAnalysis({\n          name: summaryName,\n          serviceUrl: res.serviceurl,\n          serviceId: res.itemId,\n          overlayName: overlayName,\n          serviceCode: serviceCode\n        }).then(function (res) {\n          return _this5.getProgress('SummarizeAttributes', res.jobId);\n        });\n      });\n    }\n  }]);\n\n  return BufferAnalysis;\n}(classMixin(BaseAnalysis, ToggleActive));\n\nexport default BufferAnalysis;\n//# sourceMappingURL=buffer-analysis-8c02bea6.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@greatmap/vue-webgis/lib/buffer-analysis-8c02bea6.js\n// module id = ICYL\n// module chunks = 37","/*!\n * vue-webgis v0.7.3\n */\n\nimport 'core-js/modules/es6.function.name';\nimport { e as errorMessage } from './chunk-8430f437.js';\nimport { G as GISEvent } from './chunk-2f41c7fa.js';\nimport { a as _classCallCheck, b as _defineProperty, _ as _createClass } from './chunk-82f2c815.js';\nimport { _ as _inherits, a as _possibleConstructorReturn, b as _getPrototypeOf, c as _assertThisInitialized } from './chunk-537b1685.js';\nimport { S as SERVER_CONFIG } from './chunk-bc626433.js';\nimport { r as request, c as checkValidArray } from './chunk-81d749a9.js';\n\nvar superDataPath = SERVER_CONFIG.superDataPath;\nfunction createAnalysisService(name) {\n  return request({\n    url: \"/portal/sharing/rest/content/users/admin/createService\",\n    method: 'post',\n    data: {\n      f: 'json',\n      createParameters: JSON.stringify({\n        currentVersion: 10.2,\n        serviceDescription: '',\n        hasVersionedData: false,\n        supportsDisconnectedEditing: false,\n        hasStaticData: true,\n        maxRecordCount: 2000,\n        supportedQueryFormats: 'JSON',\n        capabilities: 'Query',\n        description: '',\n        copyrightText: '',\n        allowGeometryUpdates: false,\n        syncEnabled: false,\n        editorTrackingInfo: {\n          enableEditorTracking: false,\n          enableOwnershipAccessControl: false,\n          allowOthersToUpdate: true,\n          allowOthersToDelete: true\n        },\n        xssPreventionInfo: {\n          xssPreventionEnabled: true,\n          xssPreventionRule: 'InputOnly',\n          xssInputRule: 'rejectInvalid'\n        },\n        tables: [],\n        name: name,\n        options: {\n          dataSourceType: 'spatiotemporal'\n        }\n      }),\n      outputType: 'featureService'\n    },\n    analysisToken: true\n  });\n}\nfunction createBuffersAnalysis(_ref) {\n  var serviceUrl = _ref.serviceUrl,\n      serviceId = _ref.serviceId,\n      extent = _ref.extent,\n      wkid = _ref.wkid,\n      distance = _ref.distance,\n      name = _ref.name,\n      serviceCode = _ref.serviceCode;\n  return request({\n    url: \"/server/rest/services/System/GeoAnalyticsTools/GPServer/CreateBuffers/submitJob\",\n    method: 'post',\n    data: {\n      f: 'json',\n      inputLayer: JSON.stringify({\n        url: \"\".concat(SERVER_CONFIG.arcgisOrigin, \"/server/rest/services/DataStoreCatalogs/\").concat(superDataPath, \"/BigDataCatalogServer/\").concat(serviceCode),\n        name: \"\".concat(superDataPath, \"-\").concat(serviceCode)\n      }),\n      distance: distance || 10,\n      distanceUnit: 'Meters',\n      method: 'Geodesic',\n      dissolveOption: 'None',\n      OutputName: JSON.stringify({\n        serviceProperties: {\n          name: name,\n          serviceUrl: serviceUrl,\n          itemProperties: {\n            itemId: serviceId\n          }\n        }\n      }),\n      context: JSON.stringify({\n        extent: {\n          xmin: extent[0],\n          ymin: extent[1],\n          xmax: extent[2],\n          ymax: extent[3],\n          spatialReference: {\n            wkid: wkid,\n            latestWkid: wkid\n          }\n        },\n        outSR: {\n          spatialReference: {\n            wkid: wkid\n          }\n        }\n      })\n    },\n    analysisToken: true\n  });\n}\nfunction createOverlayAnalysis(_ref2) {\n  var serviceUrl = _ref2.serviceUrl,\n      serviceId = _ref2.serviceId,\n      name = _ref2.name,\n      inputLayer = _ref2.inputLayer,\n      overlayLayer = _ref2.overlayLayer,\n      _ref2$overlayType = _ref2.overlayType,\n      overlayType = _ref2$overlayType === void 0 ? 'Intersect' : _ref2$overlayType;\n  return request({\n    url: \"/server/rest/services/System/GeoAnalyticsTools/GPServer/OverlayLayers/submitJob\",\n    method: 'post',\n    data: {\n      f: 'json',\n      inputLayer: JSON.stringify(inputLayer),\n      overlayLayer: JSON.stringify(overlayLayer),\n      overlayType: overlayType,\n      dissolveOption: 'None',\n      OutputName: JSON.stringify({\n        serviceProperties: {\n          name: name,\n          serviceUrl: serviceUrl,\n          itemProperties: {\n            itemId: serviceId\n          }\n        }\n      })\n    },\n    analysisToken: true\n  });\n}\nfunction createSummaryAnalysis(_ref3) {\n  var serviceUrl = _ref3.serviceUrl,\n      serviceId = _ref3.serviceId,\n      name = _ref3.name,\n      inputLayer = _ref3.inputLayer;\n  return request({\n    url: '/server/rest/services/System/GeoAnalyticsTools/getAnalysisProgress/SummarizeAttributes/submitJob',\n    method: 'post',\n    data: {\n      f: 'json',\n      inputLayer: JSON.stringify(inputLayer),\n      fields: 'DLBM_overlay,DLMC_overlay,ZLDWDM_overlay,ZLDWMC_overlay',\n      summaryFields: JSON.stringify([{\n        statisticType: 'SUM',\n        onStatisticField: 'TBDLMJ_overlay'\n      }]),\n      OutputName: JSON.stringify({\n        serviceProperties: {\n          name: name,\n          serviceUrl: serviceUrl,\n          itemProperties: {\n            itemId: serviceId\n          }\n        }\n      })\n    },\n    analysisToken: true\n  });\n}\nfunction getAnalysisProgress(name, id) {\n  return request({\n    url: \"/server/rest/services/System/GeoAnalyticsTools/GPServer/\".concat(name, \"/jobs/\").concat(id),\n    params: {\n      f: 'json'\n    },\n    analysisToken: true\n  });\n}\nfunction getAnalysisResult(name, id) {\n  return request({\n    url: \"/server/rest/services/Hosted/\".concat(name, \"/FeatureServer/0/query\"),\n    method: 'post',\n    data: {\n      where: '1=1',\n      returnGeometry: true,\n      outFields: '*',\n      outSR: id,\n      f: 'json',\n      objectIds: '',\n      returnDistinctValues: '',\n      orderByFields: ''\n    }\n  });\n}\n\nvar BaseAnalysis =\n/*#__PURE__*/\nfunction (_GISEvent) {\n  _inherits(BaseAnalysis, _GISEvent);\n\n  function BaseAnalysis(map) {\n    var _this2;\n\n    _classCallCheck(this, BaseAnalysis);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(BaseAnalysis).call(this, 'next'));\n\n    _defineProperty(_assertThisInitialized(_this2), \"_intervalTime\", 1500);\n\n    _defineProperty(_assertThisInitialized(_this2), \"_vectorSource\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this2), \"_map\", void 0);\n\n    _this2._vectorSource = map.vectorSource;\n    _this2._map = map;\n    return _this2;\n  }\n\n  _createClass(BaseAnalysis, [{\n    key: \"getProgress\",\n    value: function getProgress(name, id) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var _this = _this3;\n\n        (function polling() {\n          getAnalysisProgress(name, id).then(function (res) {\n            var status = res ? res.jobStatus : '';\n\n            if (status === 'esriJobSucceeded') {\n              resolve(res);\n            } else if (status !== 'esriJobFailed') {\n              setTimeout(function () {\n                return polling();\n              }, _this._intervalTime);\n\n              if (checkValidArray(res.messages)) {\n                _this.dispatch('next', res.messages && res.messages.pop());\n              }\n            } else {\n              errorMessage(res || res.message);\n              reject(res);\n            }\n          }, function (error) {\n            errorMessage(error || error.message);\n            reject(error);\n          });\n        })();\n      });\n    }\n  }]);\n\n  return BaseAnalysis;\n}(GISEvent);\n\nexport { BaseAnalysis as B, createSummaryAnalysis as a, createAnalysisService as b, createOverlayAnalysis as c, createBuffersAnalysis as d, getAnalysisResult as g };\n//# sourceMappingURL=chunk-fc6359dc.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@greatmap/vue-webgis/lib/chunk-fc6359dc.js\n// module id = klrJ\n// module chunks = 36 37"],"sourceRoot":""}