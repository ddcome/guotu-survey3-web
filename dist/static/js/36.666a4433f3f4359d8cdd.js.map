{"version":3,"sources":["webpack:///./node_modules/@greatmap/vue-webgis/lib/diff-analysis-e4426044.js","webpack:///./node_modules/@greatmap/vue-webgis/lib/chunk-fc6359dc.js"],"names":["Object","defineProperty","__webpack_exports__","value","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_function_name__","__WEBPACK_IMPORTED_MODULE_2_core_js_modules_es7_array_includes__","n","__WEBPACK_IMPORTED_MODULE_3_core_js_modules_es6_string_includes__","__WEBPACK_IMPORTED_MODULE_4_core_js_modules_es6_array_find__","__WEBPACK_IMPORTED_MODULE_5_core_js_modules_web_dom_iterable__","__WEBPACK_IMPORTED_MODULE_6_core_js_modules_es6_object_keys__","__WEBPACK_IMPORTED_MODULE_8_core_js_library_fn_array_is_array__","__WEBPACK_IMPORTED_MODULE_10_core_js_library_fn_array_from__","__WEBPACK_IMPORTED_MODULE_11_core_js_library_fn_is_iterable__","__WEBPACK_IMPORTED_MODULE_12_core_js_library_fn_object_define_property__","__WEBPACK_IMPORTED_MODULE_13__chunk_82f2c815_js__","__WEBPACK_IMPORTED_MODULE_14_core_js_library_fn_symbol_iterator__","__WEBPACK_IMPORTED_MODULE_15__chunk_537b1685_js__","__WEBPACK_IMPORTED_MODULE_16_core_js_library_fn_symbol__","__WEBPACK_IMPORTED_MODULE_17_core_js_library_fn_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_18_core_js_library_fn_object_set_prototype_of__","__WEBPACK_IMPORTED_MODULE_19_core_js_library_fn_object_create__","__WEBPACK_IMPORTED_MODULE_20_core_js_modules_es6_regexp_split__","__WEBPACK_IMPORTED_MODULE_21__chunk_bc626433_js__","__WEBPACK_IMPORTED_MODULE_22_axios__","__WEBPACK_IMPORTED_MODULE_23_qs_lib_stringify__","__WEBPACK_IMPORTED_MODULE_25__chunk_fc6359dc_js__","arcgisOrigin","superDataPath","DiffAnalysis","_BaseAnalysis","map","this","call","key","_ref","_this","inputServiceCode","inputFilter","overlayServiceCode","overlayFilter","serviceName","Date","now","then","res","serviceUrl","serviceId","name","_ref$overlayType","overlayType","inputLayer","url","concat","filter","overlayLayer","createOverlayAnalysis","serviceurl","itemId","getProgress","jobId","_wkid","_map","interactions","zoom","toFeatures","renderFeatureData","d","BaseAnalysis","createSummaryAnalysis","createAnalysisService","createBuffersAnalysis","getAnalysisResult","__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_function_name__","__WEBPACK_IMPORTED_MODULE_1__chunk_8430f437_js__","__WEBPACK_IMPORTED_MODULE_2__chunk_2f41c7fa_js__","__WEBPACK_IMPORTED_MODULE_3__chunk_82f2c815_js__","__WEBPACK_IMPORTED_MODULE_4__chunk_537b1685_js__","__WEBPACK_IMPORTED_MODULE_5__chunk_bc626433_js__","__WEBPACK_IMPORTED_MODULE_6__chunk_81d749a9_js__","method","data","f","createParameters","JSON","stringify","currentVersion","serviceDescription","hasVersionedData","supportsDisconnectedEditing","hasStaticData","maxRecordCount","supportedQueryFormats","capabilities","description","copyrightText","allowGeometryUpdates","syncEnabled","editorTrackingInfo","enableEditorTracking","enableOwnershipAccessControl","allowOthersToUpdate","allowOthersToDelete","xssPreventionInfo","xssPreventionEnabled","xssPreventionRule","xssInputRule","tables","options","dataSourceType","outputType","analysisToken","extent","wkid","distance","serviceCode","distanceUnit","dissolveOption","OutputName","serviceProperties","itemProperties","context","xmin","ymin","xmax","ymax","spatialReference","latestWkid","outSR","_ref2","_ref2$overlayType","_ref3","fields","summaryFields","statisticType","onStatisticField","id","where","returnGeometry","outFields","objectIds","returnDistinctValues","orderByFields","_GISEvent","_this2","_vectorSource","vectorSource","_this3","Promise","resolve","reject","polling","params","getAnalysisProgress","status","jobStatus","setTimeout","_intervalTime","messages","dispatch","pop","message","error"],"mappings":"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","file":"static/js/36.666a4433f3f4359d8cdd.js","sourcesContent":["/*!\n * vue-webgis v0.7.3\n */\n\nimport 'vue';\nimport 'core-js/modules/es6.function.name';\nimport 'core-js/modules/es7.array.includes';\nimport 'core-js/modules/es6.string.includes';\nimport 'core-js/modules/es6.array.find';\nimport 'core-js/modules/web.dom.iterable';\nimport 'core-js/modules/es6.object.keys';\nimport './chunk-8430f437.js';\nimport 'core-js/library/fn/array/is-array';\nimport './chunk-2f41c7fa.js';\nimport 'core-js/library/fn/array/from';\nimport 'core-js/library/fn/is-iterable';\nimport 'core-js/library/fn/object/define-property';\nimport { a as _classCallCheck, _ as _createClass } from './chunk-82f2c815.js';\nimport 'core-js/library/fn/symbol/iterator';\nimport { _ as _inherits, a as _possibleConstructorReturn, b as _getPrototypeOf } from './chunk-537b1685.js';\nimport 'core-js/library/fn/symbol';\nimport 'core-js/library/fn/object/get-prototype-of';\nimport 'core-js/library/fn/object/set-prototype-of';\nimport 'core-js/library/fn/object/create';\nimport 'core-js/modules/es6.regexp.split';\nimport { S as SERVER_CONFIG } from './chunk-bc626433.js';\nimport 'axios';\nimport 'qs/lib/stringify';\nimport './chunk-81d749a9.js';\nimport { c as createOverlayAnalysis$1, b as createAnalysisService, g as getAnalysisResult, B as BaseAnalysis } from './chunk-fc6359dc.js';\n\nvar arcgisOrigin = SERVER_CONFIG.arcgisOrigin;\nvar superDataPath = SERVER_CONFIG.superDataPath;\nfunction createOverlayAnalysis(_ref) {\n  var serviceUrl = _ref.serviceUrl,\n      serviceId = _ref.serviceId,\n      name = _ref.name,\n      inputServiceCode = _ref.inputServiceCode,\n      inputFilter = _ref.inputFilter,\n      overlayServiceCode = _ref.overlayServiceCode,\n      overlayFilter = _ref.overlayFilter,\n      _ref$overlayType = _ref.overlayType,\n      overlayType = _ref$overlayType === void 0 ? 'Erase' : _ref$overlayType;\n  var inputLayer = {\n    url: \"\".concat(arcgisOrigin, \"/server/rest/services/DataStoreCatalogs/\").concat(superDataPath, \"/BigDataCatalogServer/\").concat(inputServiceCode),\n    name: \"\".concat(superDataPath, \"-\").concat(inputServiceCode)\n  };\n\n  if (inputFilter) {\n    inputLayer.filter = inputFilter;\n  }\n\n  var overlayLayer = {\n    url: \"\".concat(arcgisOrigin, \"/server/rest/services/DataStoreCatalogs/\").concat(superDataPath, \"/BigDataCatalogServer/\").concat(overlayServiceCode),\n    name: \"\".concat(superDataPath, \"-\").concat(overlayServiceCode)\n  };\n\n  if (overlayFilter) {\n    overlayLayer.filter = overlayFilter;\n  }\n\n  return createOverlayAnalysis$1({\n    serviceUrl: serviceUrl,\n    serviceId: serviceId,\n    name: name,\n    overlayType: overlayType,\n    inputLayer: inputLayer,\n    overlayLayer: overlayLayer\n  });\n}\n\nvar DiffAnalysis =\n/*#__PURE__*/\nfunction (_BaseAnalysis) {\n  _inherits(DiffAnalysis, _BaseAnalysis);\n\n  function DiffAnalysis(map) {\n    _classCallCheck(this, DiffAnalysis);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DiffAnalysis).call(this, map));\n  }\n\n  _createClass(DiffAnalysis, [{\n    key: \"doAnalysis\",\n    value: function doAnalysis(_ref) {\n      var _this = this;\n\n      var inputServiceCode = _ref.inputServiceCode,\n          inputFilter = _ref.inputFilter,\n          overlayServiceCode = _ref.overlayServiceCode,\n          overlayFilter = _ref.overlayFilter;\n      var serviceName = 'diffAnalysis_overlay_' + Date.now();\n      return createAnalysisService(serviceName).then(function (res) {\n        return createOverlayAnalysis({\n          serviceUrl: res.serviceurl,\n          serviceId: res.itemId,\n          name: serviceName,\n          inputServiceCode: inputServiceCode,\n          inputFilter: inputFilter,\n          overlayServiceCode: overlayServiceCode,\n          overlayFilter: overlayFilter\n        }).then(function (res) {\n          return _this.getProgress('OverlayLayers', res.jobId).then(function () {\n            return getAnalysisResult(serviceName, _this._wkid).then(function (res) {\n              _this._map.interactions.zoom.toFeatures(_this._map.renderFeatureData(res));\n\n              return res;\n            });\n          });\n        });\n      });\n    }\n  }]);\n\n  return DiffAnalysis;\n}(BaseAnalysis);\n\nexport default DiffAnalysis;\n//# sourceMappingURL=diff-analysis-e4426044.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@greatmap/vue-webgis/lib/diff-analysis-e4426044.js\n// module id = MEre\n// module chunks = 36","/*!\n * vue-webgis v0.7.3\n */\n\nimport 'core-js/modules/es6.function.name';\nimport { e as errorMessage } from './chunk-8430f437.js';\nimport { G as GISEvent } from './chunk-2f41c7fa.js';\nimport { a as _classCallCheck, b as _defineProperty, _ as _createClass } from './chunk-82f2c815.js';\nimport { _ as _inherits, a as _possibleConstructorReturn, b as _getPrototypeOf, c as _assertThisInitialized } from './chunk-537b1685.js';\nimport { S as SERVER_CONFIG } from './chunk-bc626433.js';\nimport { r as request, c as checkValidArray } from './chunk-81d749a9.js';\n\nvar superDataPath = SERVER_CONFIG.superDataPath;\nfunction createAnalysisService(name) {\n  return request({\n    url: \"/portal/sharing/rest/content/users/admin/createService\",\n    method: 'post',\n    data: {\n      f: 'json',\n      createParameters: JSON.stringify({\n        currentVersion: 10.2,\n        serviceDescription: '',\n        hasVersionedData: false,\n        supportsDisconnectedEditing: false,\n        hasStaticData: true,\n        maxRecordCount: 2000,\n        supportedQueryFormats: 'JSON',\n        capabilities: 'Query',\n        description: '',\n        copyrightText: '',\n        allowGeometryUpdates: false,\n        syncEnabled: false,\n        editorTrackingInfo: {\n          enableEditorTracking: false,\n          enableOwnershipAccessControl: false,\n          allowOthersToUpdate: true,\n          allowOthersToDelete: true\n        },\n        xssPreventionInfo: {\n          xssPreventionEnabled: true,\n          xssPreventionRule: 'InputOnly',\n          xssInputRule: 'rejectInvalid'\n        },\n        tables: [],\n        name: name,\n        options: {\n          dataSourceType: 'spatiotemporal'\n        }\n      }),\n      outputType: 'featureService'\n    },\n    analysisToken: true\n  });\n}\nfunction createBuffersAnalysis(_ref) {\n  var serviceUrl = _ref.serviceUrl,\n      serviceId = _ref.serviceId,\n      extent = _ref.extent,\n      wkid = _ref.wkid,\n      distance = _ref.distance,\n      name = _ref.name,\n      serviceCode = _ref.serviceCode;\n  return request({\n    url: \"/server/rest/services/System/GeoAnalyticsTools/GPServer/CreateBuffers/submitJob\",\n    method: 'post',\n    data: {\n      f: 'json',\n      inputLayer: JSON.stringify({\n        url: \"\".concat(SERVER_CONFIG.arcgisOrigin, \"/server/rest/services/DataStoreCatalogs/\").concat(superDataPath, \"/BigDataCatalogServer/\").concat(serviceCode),\n        name: \"\".concat(superDataPath, \"-\").concat(serviceCode)\n      }),\n      distance: distance || 10,\n      distanceUnit: 'Meters',\n      method: 'Geodesic',\n      dissolveOption: 'None',\n      OutputName: JSON.stringify({\n        serviceProperties: {\n          name: name,\n          serviceUrl: serviceUrl,\n          itemProperties: {\n            itemId: serviceId\n          }\n        }\n      }),\n      context: JSON.stringify({\n        extent: {\n          xmin: extent[0],\n          ymin: extent[1],\n          xmax: extent[2],\n          ymax: extent[3],\n          spatialReference: {\n            wkid: wkid,\n            latestWkid: wkid\n          }\n        },\n        outSR: {\n          spatialReference: {\n            wkid: wkid\n          }\n        }\n      })\n    },\n    analysisToken: true\n  });\n}\nfunction createOverlayAnalysis(_ref2) {\n  var serviceUrl = _ref2.serviceUrl,\n      serviceId = _ref2.serviceId,\n      name = _ref2.name,\n      inputLayer = _ref2.inputLayer,\n      overlayLayer = _ref2.overlayLayer,\n      _ref2$overlayType = _ref2.overlayType,\n      overlayType = _ref2$overlayType === void 0 ? 'Intersect' : _ref2$overlayType;\n  return request({\n    url: \"/server/rest/services/System/GeoAnalyticsTools/GPServer/OverlayLayers/submitJob\",\n    method: 'post',\n    data: {\n      f: 'json',\n      inputLayer: JSON.stringify(inputLayer),\n      overlayLayer: JSON.stringify(overlayLayer),\n      overlayType: overlayType,\n      dissolveOption: 'None',\n      OutputName: JSON.stringify({\n        serviceProperties: {\n          name: name,\n          serviceUrl: serviceUrl,\n          itemProperties: {\n            itemId: serviceId\n          }\n        }\n      })\n    },\n    analysisToken: true\n  });\n}\nfunction createSummaryAnalysis(_ref3) {\n  var serviceUrl = _ref3.serviceUrl,\n      serviceId = _ref3.serviceId,\n      name = _ref3.name,\n      inputLayer = _ref3.inputLayer;\n  return request({\n    url: '/server/rest/services/System/GeoAnalyticsTools/getAnalysisProgress/SummarizeAttributes/submitJob',\n    method: 'post',\n    data: {\n      f: 'json',\n      inputLayer: JSON.stringify(inputLayer),\n      fields: 'DLBM_overlay,DLMC_overlay,ZLDWDM_overlay,ZLDWMC_overlay',\n      summaryFields: JSON.stringify([{\n        statisticType: 'SUM',\n        onStatisticField: 'TBDLMJ_overlay'\n      }]),\n      OutputName: JSON.stringify({\n        serviceProperties: {\n          name: name,\n          serviceUrl: serviceUrl,\n          itemProperties: {\n            itemId: serviceId\n          }\n        }\n      })\n    },\n    analysisToken: true\n  });\n}\nfunction getAnalysisProgress(name, id) {\n  return request({\n    url: \"/server/rest/services/System/GeoAnalyticsTools/GPServer/\".concat(name, \"/jobs/\").concat(id),\n    params: {\n      f: 'json'\n    },\n    analysisToken: true\n  });\n}\nfunction getAnalysisResult(name, id) {\n  return request({\n    url: \"/server/rest/services/Hosted/\".concat(name, \"/FeatureServer/0/query\"),\n    method: 'post',\n    data: {\n      where: '1=1',\n      returnGeometry: true,\n      outFields: '*',\n      outSR: id,\n      f: 'json',\n      objectIds: '',\n      returnDistinctValues: '',\n      orderByFields: ''\n    }\n  });\n}\n\nvar BaseAnalysis =\n/*#__PURE__*/\nfunction (_GISEvent) {\n  _inherits(BaseAnalysis, _GISEvent);\n\n  function BaseAnalysis(map) {\n    var _this2;\n\n    _classCallCheck(this, BaseAnalysis);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(BaseAnalysis).call(this, 'next'));\n\n    _defineProperty(_assertThisInitialized(_this2), \"_intervalTime\", 1500);\n\n    _defineProperty(_assertThisInitialized(_this2), \"_vectorSource\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this2), \"_map\", void 0);\n\n    _this2._vectorSource = map.vectorSource;\n    _this2._map = map;\n    return _this2;\n  }\n\n  _createClass(BaseAnalysis, [{\n    key: \"getProgress\",\n    value: function getProgress(name, id) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var _this = _this3;\n\n        (function polling() {\n          getAnalysisProgress(name, id).then(function (res) {\n            var status = res ? res.jobStatus : '';\n\n            if (status === 'esriJobSucceeded') {\n              resolve(res);\n            } else if (status !== 'esriJobFailed') {\n              setTimeout(function () {\n                return polling();\n              }, _this._intervalTime);\n\n              if (checkValidArray(res.messages)) {\n                _this.dispatch('next', res.messages && res.messages.pop());\n              }\n            } else {\n              errorMessage(res || res.message);\n              reject(res);\n            }\n          }, function (error) {\n            errorMessage(error || error.message);\n            reject(error);\n          });\n        })();\n      });\n    }\n  }]);\n\n  return BaseAnalysis;\n}(GISEvent);\n\nexport { BaseAnalysis as B, createSummaryAnalysis as a, createAnalysisService as b, createOverlayAnalysis as c, createBuffersAnalysis as d, getAnalysisResult as g };\n//# sourceMappingURL=chunk-fc6359dc.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@greatmap/vue-webgis/lib/chunk-fc6359dc.js\n// module id = klrJ\n// module chunks = 36 37"],"sourceRoot":""}