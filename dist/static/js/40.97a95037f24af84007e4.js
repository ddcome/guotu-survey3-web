webpackJsonp([40],{"32o1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("7+uW");var n=r("EuXz"),i=(r.n(n),r("gbyG")),a=(r.n(i),r("Gh7F")),o=(r.n(a),r("WpTh")),s=(r.n(o),r("fx22")),u=(r.n(s),r("tJwI")),m=(r.n(u),r("bQXb"),r("1A13")),c=(r.n(m),r("cnlX")),f=(r.n(c),r("zCEe")),y=r("B0bq"),p=(r.n(y),r("jFbC")),b=(r.n(p),r("9bBU")),g=(r.n(b),r("L5RK")),l=r("Vpnp"),v=r("xGqq"),h=(r.n(v),r("fG7N")),d=(r.n(h),r("swbA"));var j=function(){function e(t){Object(g.b)(this,e),Object(g.c)(this,"_map",void 0),this._map=t}return Object(g.a)(e,[{key:"doAnalysis",value:function(e,t){var r=this,n=this._map.getLayerInfoParams(e);return n?this._map.getLayerInfo(n).then(function(e){if(!Object(d.a)(e.features))return Promise.resolve([]);var n=e,i={geometries:e.features.map(function(e){return e.geometry}),geometryType:e.geometryType},a=r._map.formatGeometryObject(t);
/*!
 * vue-webgis v0.7.3
 */
return function(e,t,r){return Object(d.b)({url:l.a.arcgisRestService+"Utilities/Geometry/GeometryServer/intersect",method:"post",data:{f:"json",sr:e,geometry:r,geometries:t},analysisToken:!0})}(r._map.mapConfig.wkid,JSON.stringify(i),JSON.stringify(a)).then(function(e){var t=n.features.map(function(e){return Object(f.a)({},e.attributes,{meta:{intersectSizeStr:"",intersectSizeNum:0}})});Object(d.a)(e.geometries)&&r._map.renderFeatureData({features:e.geometries.map(function(e){return{geometry:e}})}).forEach(function(e,n){var i=r._map.formatGeometrySize(e.getGeometry());t[n].meta={intersectSizeStr:i.str,intersectSizeNum:i.num}});return t})}):Promise.resolve([])}},{key:"doAnalysisMulti",value:function(e,t){var r=this;return Promise.all(e.map(function(e){return r.doAnalysis(e,t)}))}}]),e}();t.default=j}});
//# sourceMappingURL=40.97a95037f24af84007e4.js.map