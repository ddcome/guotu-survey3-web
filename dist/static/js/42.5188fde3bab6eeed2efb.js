webpackJsonp([42],{"vA+1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("7+uW");var c=n("EuXz"),i=(n.n(c),n("gbyG")),a=(n.n(i),n("Gh7F")),s=(n.n(a),n("WpTh")),l=(n.n(s),n("fx22")),o=(n.n(l),n("tJwI")),u=(n.n(o),n("bQXb"),n("XTu8")),r=(n.n(u),n("Puzn")),d=n("5zde"),b=(n.n(d),n("Xd32")),h=(n.n(b),n("9bBU")),f=(n.n(h),n("L5RK")),_=n("/n6Q"),v=(n.n(_),n("yQMH")),O=n("BwfY"),j=(n.n(O),n("fS6E")),x=(n.n(j),n("i/C/")),p=(n.n(x),n("oM7Q")),g=(n.n(p),n("9Yib")),S=(n.n(g),n("A0n/")),m=(n.n(S),n("mJx5")),y=(n.n(m),n("52fq")),B=(n("4irz"),n("nq2H"),n("Rw4K")),F=(n.n(B),n("K9ON")),k=(n.n(F),n("cV5x")),E=n("Bmxh"),M=n("nxYM"),w=function(e){function t(e){var n;return Object(f.b)(this,t),n=Object(v.b)(this,Object(v.c)(t).call(this,"start,select,end")),Object(f.c)(Object(v.d)(n),"_map",void 0),Object(f.c)(Object(v.d)(n),"_boxSelection",void 0),Object(f.c)(Object(v.d)(n),"_features",[]),Object(f.c)(Object(v.d)(n),"_listener",{select:null}),n._map=e,n._boxSelection=new E.a(e),n.toggleFeatureSelectListener(),n._onBoxEnd=n._onBoxEnd.bind(Object(v.d)(n)),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"activateHandle",value:function(){this._boxSelection.on("boxend",this._onBoxEnd),this._boxSelection.activate()}},{key:"deactivateHandle",value:function(){this._boxSelection.offAll(),this._boxSelection.deactivate()}},{key:"toggleFeatureSelectListener",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._listener.select,n=this._listener.select;t?(n&&this.toggleFeatureSelectListener(),this._listener.select=this._map.selectInteraction.on("select",function(t){var n=t.selected;n.length&&e.dispatch("select",n[0].get("BSM"))})):(Object(M.b)(n),this._listener.select=null)}},{key:"updateFeatures",value:function(e){this._features=e}},{key:"selectFeature",value:function(e){var t=this._map,n=this._features.find(function(t){return e===t.get("BSM")});n&&setTimeout(function(){return t.selectFeature(n)},300)}},{key:"_onBoxEnd",value:function(e){var t=this;this.dispatch("start",e),this._map.searchFeature({extent:e}).then(function(e){t.updateFeatures(e.features),t.dispatch("end",{state:!0,data:e.data})},function(e){t.dispatch("end",{state:!1,message:e})})}}]),t}(Object(k.a)(r.a,y.a));t.default=w}});
//# sourceMappingURL=42.5188fde3bab6eeed2efb.js.map